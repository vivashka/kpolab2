2025-03-12 10:27:00.554 +05:00 [Information] Migrations
2025-03-12 10:27:00.607 +05:00 [Information] 2025010501: CreateOrganizationTable
2025-03-12 10:27:00.609 +05:00 [Information] 2025010502: CreateUsersTable
2025-03-12 10:27:00.610 +05:00 [Information] 2025010503: CreateResultsCardiogramsTable
2025-03-12 10:27:00.610 +05:00 [Information] 2025010504: CreateCardiogramsStateTable
2025-03-12 10:27:00.611 +05:00 [Information] 2025010505: CreateCardiographsTable
2025-03-12 10:27:00.611 +05:00 [Information] 2025010506: CreateSexPatientsTable
2025-03-12 10:27:00.612 +05:00 [Information] 2025010507: CreatePrioritiesTable
2025-03-12 10:27:00.613 +05:00 [Information] 2025010508: CreateUsersCardiographsTable
2025-03-12 10:27:00.613 +05:00 [Information] 2025010509: CreateCallsTable
2025-03-12 10:27:00.614 +05:00 [Warning] 2025010510: CreateCardiogramsTable (current)
2025-03-12 10:27:01.139 +05:00 [Warning] Overriding address(es) '"http://localhost:2324/swagger"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-03-12 10:27:01.169 +05:00 [Information] Now listening on: "http://0.0.0.0:2324"
2025-03-12 10:27:01.170 +05:00 [Information] Application started. Press Ctrl+C to shut down.
2025-03-12 10:27:01.171 +05:00 [Information] Hosting environment: "Development"
2025-03-12 10:27:01.173 +05:00 [Information] Content root path: "C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.WebHost"
2025-03-12 10:27:02.170 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.html""" - null null
2025-03-12 10:27:02.408 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 249.6625ms
2025-03-12 10:27:02.494 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.js""" - null null
2025-03-12 10:27:02.500 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.js""" - 200 null "application/javascript;charset=utf-8" 6.5344ms
2025-03-12 10:27:03.138 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/v1/swagger.json""" - null null
2025-03-12 10:27:03.733 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 595.9248ms
2025-03-12 10:27:09.414 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveUser""" - "application/json" 234
2025-03-12 10:27:09.430 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:27:09.436 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveUser (KpoApi.Presentation)"'
2025-03-12 10:27:09.469 +05:00 [Information] Route matched with "{action = \"SaveUser\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveUser(KpoApi.Domain.Entities.User)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:27:10.560 +05:00 [Information] Executed DbCommand ("13"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:27:10.658 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveUser (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:27:10.661 +05:00 [Information] Поступил запрос сохранение пользователя
2025-03-12 10:27:11.377 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveUser (KpoApi.Presentation)" in 1902.4307ms
2025-03-12 10:27:11.380 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveUser (KpoApi.Presentation)"'
2025-03-12 10:27:11.389 +05:00 [Error] Connection id ""0HNB14Q2CP84T"", Request id ""0HNB14Q2CP84T:00000004"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 23503: insert or update on table "Users" violates foreign key constraint "fk1"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveUser(User newUser, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 34
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveUser(User newUser, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 106
   at KpoApi.Application.Services.CardiogramService.SaveUser(User newUser) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 94
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveUser(User newUser) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 28
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "Users" violates foreign key constraint "fk1"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: cardiogram_schema
    TableName: Users
    ConstraintName: fk1
    File: ri_triggers.c
    Line: 2599
    Routine: ri_ReportViolation
2025-03-12 10:27:11.464 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveUser""" - 500 0 null 2049.8127ms
2025-03-12 10:27:36.886 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - null null
2025-03-12 10:27:36.893 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:27:36.896 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - 204 null null 9.3697ms
2025-03-12 10:27:36.900 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - "application/json" null
2025-03-12 10:27:36.902 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:27:36.903 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)"'
2025-03-12 10:27:36.907 +05:00 [Information] Route matched with "{action = \"GetOrganizations\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrganizations()" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 10:27:36.938 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:27:36.941 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:27:36.943 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 10:27:36.979 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 31.4318ms.
2025-03-12 10:27:36.987 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Organization[]"'.
2025-03-12 10:27:37.010 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)" in 101.3986ms
2025-03-12 10:27:37.011 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)"'
2025-03-12 10:27:37.012 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - 200 null "application/json; charset=utf-8" 112.0999ms
2025-03-12 10:27:39.467 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - null null
2025-03-12 10:27:39.469 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:27:39.470 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - 204 null null 3.412ms
2025-03-12 10:27:39.474 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - "application/json" null
2025-03-12 10:27:39.475 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:27:39.476 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)"'
2025-03-12 10:27:39.482 +05:00 [Information] Route matched with "{action = \"GetUsers\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 10:27:39.524 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:27:39.537 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:27:39.540 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 10:27:39.555 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 15.8374ms.
2025-03-12 10:27:39.558 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.User[]"'.
2025-03-12 10:27:39.563 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)" in 79.8101ms
2025-03-12 10:27:39.564 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)"'
2025-03-12 10:27:39.566 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - 200 null "application/json; charset=utf-8" 92.0439ms
2025-03-12 10:27:40.015 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - null null
2025-03-12 10:27:40.017 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:27:40.018 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - 204 null null 2.7532ms
2025-03-12 10:27:40.025 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - "application/json" null
2025-03-12 10:27:40.027 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:27:40.028 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)"'
2025-03-12 10:27:40.030 +05:00 [Information] Route matched with "{action = \"GetCardiographs\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiographs(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 10:27:40.046 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:27:40.048 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:27:40.050 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 10:27:40.058 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 8.6503ms.
2025-03-12 10:27:40.059 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Cardiograph[]"'.
2025-03-12 10:27:40.061 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)" in 29.2028ms
2025-03-12 10:27:40.063 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)"'
2025-03-12 10:27:40.064 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - 200 null "application/json; charset=utf-8" 39.0856ms
2025-03-12 10:27:40.373 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - null null
2025-03-12 10:27:40.375 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:27:40.376 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - 204 null null 3.3334ms
2025-03-12 10:27:40.382 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - "application/json" null
2025-03-12 10:27:40.384 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:27:40.384 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)"'
2025-03-12 10:27:40.387 +05:00 [Information] Route matched with "{action = \"GetCardiograms\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiograms(System.String)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 10:27:40.407 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:27:40.410 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:27:40.412 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 10:27:40.421 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 10.6067ms.
2025-03-12 10:27:40.423 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Cardiogram[]"'.
2025-03-12 10:27:40.442 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)" in 53.7388ms
2025-03-12 10:27:40.443 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)"'
2025-03-12 10:27:40.444 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - 200 null "application/json; charset=utf-8" 62.502ms
2025-03-12 10:27:40.745 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - null null
2025-03-12 10:27:40.748 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:27:40.749 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 204 null null 3.574ms
2025-03-12 10:27:40.754 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - "application/json" null
2025-03-12 10:27:40.756 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:27:40.757 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)"'
2025-03-12 10:27:40.760 +05:00 [Information] Route matched with "{action = \"GetCardiogram\", controller = \"Cardiogram\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiogram(System.Guid)" on controller "KpoApi.Presentation.Controllers.CardiogramController" ("KpoApi.Presentation").
2025-03-12 10:27:40.774 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:27:40.777 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:27:40.779 +05:00 [Information] Поступил запрос на получение всей информации по кардиограмме
2025-03-12 10:27:40.795 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 16.9338ms.
2025-03-12 10:27:40.797 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Application.Models.Data.EntireCardiogramModel"'.
2025-03-12 10:27:40.812 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)" in 51.0949ms
2025-03-12 10:27:40.815 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)"'
2025-03-12 10:27:40.816 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 200 null "application/json; charset=utf-8" 62.3154ms
2025-03-12 10:27:40.834 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - null null
2025-03-12 10:27:40.836 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:27:40.837 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 204 null null 3.1464ms
2025-03-12 10:27:40.841 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - "application/json" null
2025-03-12 10:27:40.843 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:27:40.844 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)"'
2025-03-12 10:27:40.848 +05:00 [Information] Route matched with "{action = \"GetUsersByCardiograms\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByCardiograms(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 10:27:40.862 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:27:40.865 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:27:40.866 +05:00 [Information] Поступил запрос на получение пользователей по кардиограмме
2025-03-12 10:27:40.873 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 7.2113ms.
2025-03-12 10:27:40.875 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.User[]"'.
2025-03-12 10:27:40.877 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)" in 27.5153ms
2025-03-12 10:27:40.878 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)"'
2025-03-12 10:27:40.879 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 200 null "application/json; charset=utf-8" 38.4017ms
2025-03-12 10:27:47.024 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - null null
2025-03-12 10:27:47.026 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:27:47.027 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 204 null null 3.4964ms
2025-03-12 10:27:47.030 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 671
2025-03-12 10:27:47.032 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:27:47.032 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:27:47.035 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:27:47.046 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:27:47.067 +05:00 [Information] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
2025-03-12 10:27:47.092 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 55.2594ms
2025-03-12 10:27:47.093 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:27:47.094 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 400 null "application/problem+json; charset=utf-8" 64.3339ms
2025-03-12 10:29:18.527 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - null null
2025-03-12 10:29:18.530 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:29:18.531 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - 204 null null 3.5515ms
2025-03-12 10:29:18.535 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - "application/json" null
2025-03-12 10:29:18.545 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:29:18.546 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)"'
2025-03-12 10:29:18.548 +05:00 [Information] Route matched with "{action = \"GetOrganizations\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrganizations()" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 10:29:18.574 +05:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:29:18.577 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:29:18.583 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 10:29:18.589 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 6.4397ms.
2025-03-12 10:29:18.591 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Organization[]"'.
2025-03-12 10:29:18.593 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)" in 43.5123ms
2025-03-12 10:29:18.597 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)"'
2025-03-12 10:29:18.599 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - 200 null "application/json; charset=utf-8" 63.8568ms
2025-03-12 10:29:22.392 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - null null
2025-03-12 10:29:22.394 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:29:22.396 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - 204 null null 3.7872ms
2025-03-12 10:29:22.399 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - "application/json" null
2025-03-12 10:29:22.402 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:29:22.403 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)"'
2025-03-12 10:29:22.404 +05:00 [Information] Route matched with "{action = \"GetUsers\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 10:29:22.419 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:29:22.421 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:29:22.422 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 10:29:22.425 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 2.9728ms.
2025-03-12 10:29:22.427 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.User[]"'.
2025-03-12 10:29:22.428 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)" in 21.9643ms
2025-03-12 10:29:22.429 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)"'
2025-03-12 10:29:22.431 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - 200 null "application/json; charset=utf-8" 31.6416ms
2025-03-12 10:29:23.070 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - null null
2025-03-12 10:29:23.072 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:29:23.073 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - 204 null null 3.7582ms
2025-03-12 10:29:23.077 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - "application/json" null
2025-03-12 10:29:23.080 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:29:23.080 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)"'
2025-03-12 10:29:23.081 +05:00 [Information] Route matched with "{action = \"GetCardiographs\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiographs(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 10:29:23.095 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:29:23.098 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:29:23.099 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 10:29:23.102 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 2.6674ms.
2025-03-12 10:29:23.103 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Cardiograph[]"'.
2025-03-12 10:29:23.105 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)" in 22.2318ms
2025-03-12 10:29:23.106 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)"'
2025-03-12 10:29:23.108 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - 200 null "application/json; charset=utf-8" 30.1543ms
2025-03-12 10:29:23.516 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - null null
2025-03-12 10:29:23.518 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:29:23.518 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - 204 null null 2.901ms
2025-03-12 10:29:23.522 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - "application/json" null
2025-03-12 10:29:23.524 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:29:23.524 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)"'
2025-03-12 10:29:23.525 +05:00 [Information] Route matched with "{action = \"GetCardiograms\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiograms(System.String)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 10:29:23.543 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:29:23.546 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:29:23.547 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 10:29:23.549 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 2.2404ms.
2025-03-12 10:29:23.550 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Cardiogram[]"'.
2025-03-12 10:29:23.551 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)" in 24.8191ms
2025-03-12 10:29:23.552 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)"'
2025-03-12 10:29:23.554 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - 200 null "application/json; charset=utf-8" 31.9052ms
2025-03-12 10:29:24.182 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - null null
2025-03-12 10:29:24.184 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:29:24.185 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 204 null null 2.748ms
2025-03-12 10:29:24.188 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - "application/json" null
2025-03-12 10:29:24.190 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:29:24.191 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)"'
2025-03-12 10:29:24.193 +05:00 [Information] Route matched with "{action = \"GetCardiogram\", controller = \"Cardiogram\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiogram(System.Guid)" on controller "KpoApi.Presentation.Controllers.CardiogramController" ("KpoApi.Presentation").
2025-03-12 10:29:24.205 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:29:24.208 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:29:24.209 +05:00 [Information] Поступил запрос на получение всей информации по кардиограмме
2025-03-12 10:29:24.212 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3.2571ms.
2025-03-12 10:29:24.214 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Application.Models.Data.EntireCardiogramModel"'.
2025-03-12 10:29:24.215 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)" in 20.0626ms
2025-03-12 10:29:24.216 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)"'
2025-03-12 10:29:24.217 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 200 null "application/json; charset=utf-8" 28.8305ms
2025-03-12 10:29:24.232 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - null null
2025-03-12 10:29:24.234 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:29:24.235 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 204 null null 2.8975ms
2025-03-12 10:29:24.239 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - "application/json" null
2025-03-12 10:29:24.241 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:29:24.242 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)"'
2025-03-12 10:29:24.243 +05:00 [Information] Route matched with "{action = \"GetUsersByCardiograms\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByCardiograms(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 10:29:24.258 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:29:24.261 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:29:24.262 +05:00 [Information] Поступил запрос на получение пользователей по кардиограмме
2025-03-12 10:29:24.266 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4.1824ms.
2025-03-12 10:29:24.269 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.User[]"'.
2025-03-12 10:29:24.270 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)" in 26.1151ms
2025-03-12 10:29:24.271 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)"'
2025-03-12 10:29:24.273 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 200 null "application/json; charset=utf-8" 33.5239ms
2025-03-12 10:29:30.325 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - null null
2025-03-12 10:29:30.328 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:29:30.329 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 204 null null 4.3796ms
2025-03-12 10:29:30.334 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 672
2025-03-12 10:29:30.336 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:29:30.336 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:29:30.337 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:29:30.349 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:29:30.369 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:30:02.818 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 10:30:03.196 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 32858.2095ms
2025-03-12 10:30:03.197 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:30:03.198 +05:00 [Error] Connection id ""0HNB14Q2CP850"", Request id ""0HNB14Q2CP850:0000001C"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 115
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 10:30:03.210 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 32876.2404ms
2025-03-12 10:31:12.275 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - null null
2025-03-12 10:31:12.278 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:31:12.279 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - 204 null null 4.4338ms
2025-03-12 10:31:12.283 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - "application/json" null
2025-03-12 10:31:12.285 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:31:12.286 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)"'
2025-03-12 10:31:12.288 +05:00 [Information] Route matched with "{action = \"GetOrganizations\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrganizations()" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 10:31:12.307 +05:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:31:12.311 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:31:12.312 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 10:31:12.316 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3.4384ms.
2025-03-12 10:31:12.318 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Organization[]"'.
2025-03-12 10:31:12.319 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)" in 29.4427ms
2025-03-12 10:31:12.321 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)"'
2025-03-12 10:31:12.327 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - 200 null "application/json; charset=utf-8" 43.3982ms
2025-03-12 10:31:13.395 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - null null
2025-03-12 10:31:13.398 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:31:13.399 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - 204 null null 4.1218ms
2025-03-12 10:31:13.403 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - "application/json" null
2025-03-12 10:31:13.405 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:31:13.406 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)"'
2025-03-12 10:31:13.406 +05:00 [Information] Route matched with "{action = \"GetUsers\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 10:31:13.422 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:31:13.424 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:31:13.425 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 10:31:13.427 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 2.2447ms.
2025-03-12 10:31:13.433 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.User[]"'.
2025-03-12 10:31:13.435 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)" in 26.855ms
2025-03-12 10:31:13.436 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)"'
2025-03-12 10:31:13.437 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - 200 null "application/json; charset=utf-8" 34.673ms
2025-03-12 10:31:13.681 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - null null
2025-03-12 10:31:13.683 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:31:13.685 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - 204 null null 3.9395ms
2025-03-12 10:31:13.689 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - "application/json" null
2025-03-12 10:31:13.691 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:31:13.692 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)"'
2025-03-12 10:31:13.693 +05:00 [Information] Route matched with "{action = \"GetCardiographs\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiographs(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 10:31:13.708 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:31:13.711 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:31:13.711 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 10:31:13.715 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3.1405ms.
2025-03-12 10:31:13.716 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Cardiograph[]"'.
2025-03-12 10:31:13.718 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)" in 24.2239ms
2025-03-12 10:31:13.719 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)"'
2025-03-12 10:31:13.721 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - 200 null "application/json; charset=utf-8" 31.8347ms
2025-03-12 10:31:14.144 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - null null
2025-03-12 10:31:14.146 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:31:14.146 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - 204 null null 2.7998ms
2025-03-12 10:31:14.149 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - "application/json" null
2025-03-12 10:31:14.152 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:31:14.152 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)"'
2025-03-12 10:31:14.153 +05:00 [Information] Route matched with "{action = \"GetCardiograms\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiograms(System.String)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 10:31:14.166 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:31:14.169 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:31:14.169 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 10:31:14.172 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 2.4006ms.
2025-03-12 10:31:14.173 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Cardiogram[]"'.
2025-03-12 10:31:14.175 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)" in 20.5326ms
2025-03-12 10:31:14.175 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)"'
2025-03-12 10:31:14.177 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - 200 null "application/json; charset=utf-8" 27.624ms
2025-03-12 10:31:14.618 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - null null
2025-03-12 10:31:14.620 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:31:14.621 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 204 null null 2.9612ms
2025-03-12 10:31:14.624 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - "application/json" null
2025-03-12 10:31:14.627 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:31:14.628 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)"'
2025-03-12 10:31:14.629 +05:00 [Information] Route matched with "{action = \"GetCardiogram\", controller = \"Cardiogram\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiogram(System.Guid)" on controller "KpoApi.Presentation.Controllers.CardiogramController" ("KpoApi.Presentation").
2025-03-12 10:31:14.641 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:31:14.643 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:31:14.644 +05:00 [Information] Поступил запрос на получение всей информации по кардиограмме
2025-03-12 10:31:14.647 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 2.4464ms.
2025-03-12 10:31:14.648 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Application.Models.Data.EntireCardiogramModel"'.
2025-03-12 10:31:14.649 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)" in 18.8977ms
2025-03-12 10:31:14.650 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)"'
2025-03-12 10:31:14.651 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 200 null "application/json; charset=utf-8" 26.6336ms
2025-03-12 10:31:14.668 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - null null
2025-03-12 10:31:14.670 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:31:14.671 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 204 null null 3.2104ms
2025-03-12 10:31:14.674 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - "application/json" null
2025-03-12 10:31:14.676 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:31:14.677 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)"'
2025-03-12 10:31:14.678 +05:00 [Information] Route matched with "{action = \"GetUsersByCardiograms\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByCardiograms(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 10:31:14.691 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:31:14.693 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:31:14.694 +05:00 [Information] Поступил запрос на получение пользователей по кардиограмме
2025-03-12 10:31:14.697 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3.1793ms.
2025-03-12 10:31:14.699 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.User[]"'.
2025-03-12 10:31:14.700 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)" in 20.5206ms
2025-03-12 10:31:14.702 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)"'
2025-03-12 10:31:14.703 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 200 null "application/json; charset=utf-8" 28.4864ms
2025-03-12 10:31:19.111 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - null null
2025-03-12 10:31:19.113 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:31:19.114 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 204 null null 3.5944ms
2025-03-12 10:31:19.118 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 674
2025-03-12 10:31:19.120 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:31:19.120 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:31:19.121 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:31:19.136 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:31:19.139 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:31:22.013 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 10:31:35.617 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 16494.2426ms
2025-03-12 10:31:35.618 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:31:35.620 +05:00 [Error] Connection id ""0HNB14Q2CP850"", Request id ""0HNB14Q2CP850:0000002A"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 115
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 10:31:35.631 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 16513.7651ms
2025-03-12 10:32:44.495 +05:00 [Information] Migrations
2025-03-12 10:32:44.554 +05:00 [Information] 2025010501: CreateOrganizationTable
2025-03-12 10:32:44.557 +05:00 [Information] 2025010502: CreateUsersTable
2025-03-12 10:32:44.558 +05:00 [Information] 2025010503: CreateResultsCardiogramsTable
2025-03-12 10:32:44.559 +05:00 [Information] 2025010504: CreateCardiogramsStateTable
2025-03-12 10:32:44.560 +05:00 [Information] 2025010505: CreateCardiographsTable
2025-03-12 10:32:44.560 +05:00 [Information] 2025010506: CreateSexPatientsTable
2025-03-12 10:32:44.561 +05:00 [Information] 2025010507: CreatePrioritiesTable
2025-03-12 10:32:44.562 +05:00 [Information] 2025010508: CreateUsersCardiographsTable
2025-03-12 10:32:44.562 +05:00 [Information] 2025010509: CreateCallsTable
2025-03-12 10:32:44.563 +05:00 [Warning] 2025010510: CreateCardiogramsTable (current)
2025-03-12 10:32:51.465 +05:00 [Fatal] Application startup exception
System.InvalidOperationException: Unable to find the required services. Please add all the required services by calling 'IServiceCollection.AddControllers' inside the call to 'ConfigureServices(...)' in the application startup code.
   at Microsoft.AspNetCore.Builder.ControllerEndpointRouteBuilderExtensions.EnsureControllerServices(IEndpointRouteBuilder endpoints)
   at Microsoft.AspNetCore.Builder.ControllerEndpointRouteBuilderExtensions.MapControllers(IEndpointRouteBuilder endpoints)
   at KpoApi.WebHost.Startup.<>c.<Configure>b__3_1(IEndpointRouteBuilder endpoints) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.WebHost\Startup.cs:line 40
   at Microsoft.AspNetCore.Builder.EndpointRoutingApplicationBuilderExtensions.UseEndpoints(IApplicationBuilder builder, Action`1 configure)
   at KpoApi.WebHost.Startup.Configure(IApplicationBuilder applicationBuilder) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.WebHost\Startup.cs:line 38
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
   at System.Reflection.MethodBaseInvoker.InvokeWithOneArg(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.AspNetCore.Hosting.ConfigureBuilder.Invoke(Object instance, IApplicationBuilder builder)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
2025-03-12 10:32:51.471 +05:00 [Error] Hosting failed to start
System.InvalidOperationException: Unable to find the required services. Please add all the required services by calling 'IServiceCollection.AddControllers' inside the call to 'ConfigureServices(...)' in the application startup code.
   at Microsoft.AspNetCore.Builder.ControllerEndpointRouteBuilderExtensions.EnsureControllerServices(IEndpointRouteBuilder endpoints)
   at Microsoft.AspNetCore.Builder.ControllerEndpointRouteBuilderExtensions.MapControllers(IEndpointRouteBuilder endpoints)
   at KpoApi.WebHost.Startup.<>c.<Configure>b__3_1(IEndpointRouteBuilder endpoints) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.WebHost\Startup.cs:line 40
   at Microsoft.AspNetCore.Builder.EndpointRoutingApplicationBuilderExtensions.UseEndpoints(IApplicationBuilder builder, Action`1 configure)
   at KpoApi.WebHost.Startup.Configure(IApplicationBuilder applicationBuilder) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.WebHost\Startup.cs:line 38
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
   at System.Reflection.MethodBaseInvoker.InvokeWithOneArg(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.AspNetCore.Hosting.ConfigureBuilder.Invoke(Object instance, IApplicationBuilder builder)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__15_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2025-03-12 10:32:51.539 +05:00 [Fatal] The Application failed to start.
System.InvalidOperationException: Unable to find the required services. Please add all the required services by calling 'IServiceCollection.AddControllers' inside the call to 'ConfigureServices(...)' in the application startup code.
   at Microsoft.AspNetCore.Builder.ControllerEndpointRouteBuilderExtensions.EnsureControllerServices(IEndpointRouteBuilder endpoints)
   at Microsoft.AspNetCore.Builder.ControllerEndpointRouteBuilderExtensions.MapControllers(IEndpointRouteBuilder endpoints)
   at KpoApi.WebHost.Startup.<>c.<Configure>b__3_1(IEndpointRouteBuilder endpoints) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.WebHost\Startup.cs:line 40
   at Microsoft.AspNetCore.Builder.EndpointRoutingApplicationBuilderExtensions.UseEndpoints(IApplicationBuilder builder, Action`1 configure)
   at KpoApi.WebHost.Startup.Configure(IApplicationBuilder applicationBuilder) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.WebHost\Startup.cs:line 38
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
   at System.Reflection.MethodBaseInvoker.InvokeWithOneArg(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.AspNetCore.Hosting.ConfigureBuilder.Invoke(Object instance, IApplicationBuilder builder)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__15_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
   at Microsoft.Extensions.Hosting.Internal.Host.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at KpoApi.WebHost.Program.Main(String[] args) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.WebHost\Program.cs:line 26
2025-03-12 10:33:11.927 +05:00 [Information] Migrations
2025-03-12 10:33:11.982 +05:00 [Information] 2025010501: CreateOrganizationTable
2025-03-12 10:33:11.985 +05:00 [Information] 2025010502: CreateUsersTable
2025-03-12 10:33:11.986 +05:00 [Information] 2025010503: CreateResultsCardiogramsTable
2025-03-12 10:33:11.986 +05:00 [Information] 2025010504: CreateCardiogramsStateTable
2025-03-12 10:33:11.987 +05:00 [Information] 2025010505: CreateCardiographsTable
2025-03-12 10:33:11.987 +05:00 [Information] 2025010506: CreateSexPatientsTable
2025-03-12 10:33:11.988 +05:00 [Information] 2025010507: CreatePrioritiesTable
2025-03-12 10:33:11.988 +05:00 [Information] 2025010508: CreateUsersCardiographsTable
2025-03-12 10:33:11.989 +05:00 [Information] 2025010509: CreateCallsTable
2025-03-12 10:33:11.990 +05:00 [Warning] 2025010510: CreateCardiogramsTable (current)
2025-03-12 10:34:03.394 +05:00 [Information] Migrations
2025-03-12 10:34:03.444 +05:00 [Information] 2025010501: CreateOrganizationTable
2025-03-12 10:34:03.447 +05:00 [Information] 2025010502: CreateUsersTable
2025-03-12 10:34:03.448 +05:00 [Information] 2025010503: CreateResultsCardiogramsTable
2025-03-12 10:34:03.449 +05:00 [Information] 2025010504: CreateCardiogramsStateTable
2025-03-12 10:34:03.449 +05:00 [Information] 2025010505: CreateCardiographsTable
2025-03-12 10:34:03.450 +05:00 [Information] 2025010506: CreateSexPatientsTable
2025-03-12 10:34:03.450 +05:00 [Information] 2025010507: CreatePrioritiesTable
2025-03-12 10:34:03.451 +05:00 [Information] 2025010508: CreateUsersCardiographsTable
2025-03-12 10:34:03.451 +05:00 [Information] 2025010509: CreateCallsTable
2025-03-12 10:34:03.452 +05:00 [Warning] 2025010510: CreateCardiogramsTable (current)
2025-03-12 10:34:05.745 +05:00 [Fatal] Application startup exception
System.InvalidOperationException: Unable to find the required services. Please add all the required services by calling 'IServiceCollection.AddControllers' inside the call to 'ConfigureServices(...)' in the application startup code.
   at Microsoft.AspNetCore.Builder.ControllerEndpointRouteBuilderExtensions.EnsureControllerServices(IEndpointRouteBuilder endpoints)
   at Microsoft.AspNetCore.Builder.ControllerEndpointRouteBuilderExtensions.MapControllers(IEndpointRouteBuilder endpoints)
   at KpoApi.WebHost.Startup.<>c.<Configure>b__3_1(IEndpointRouteBuilder endpoints) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.WebHost\Startup.cs:line 40
   at Microsoft.AspNetCore.Builder.EndpointRoutingApplicationBuilderExtensions.UseEndpoints(IApplicationBuilder builder, Action`1 configure)
   at KpoApi.WebHost.Startup.Configure(IApplicationBuilder applicationBuilder) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.WebHost\Startup.cs:line 38
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
   at System.Reflection.MethodBaseInvoker.InvokeWithOneArg(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.AspNetCore.Hosting.ConfigureBuilder.Invoke(Object instance, IApplicationBuilder builder)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
2025-03-12 10:34:05.752 +05:00 [Error] Hosting failed to start
System.InvalidOperationException: Unable to find the required services. Please add all the required services by calling 'IServiceCollection.AddControllers' inside the call to 'ConfigureServices(...)' in the application startup code.
   at Microsoft.AspNetCore.Builder.ControllerEndpointRouteBuilderExtensions.EnsureControllerServices(IEndpointRouteBuilder endpoints)
   at Microsoft.AspNetCore.Builder.ControllerEndpointRouteBuilderExtensions.MapControllers(IEndpointRouteBuilder endpoints)
   at KpoApi.WebHost.Startup.<>c.<Configure>b__3_1(IEndpointRouteBuilder endpoints) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.WebHost\Startup.cs:line 40
   at Microsoft.AspNetCore.Builder.EndpointRoutingApplicationBuilderExtensions.UseEndpoints(IApplicationBuilder builder, Action`1 configure)
   at KpoApi.WebHost.Startup.Configure(IApplicationBuilder applicationBuilder) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.WebHost\Startup.cs:line 38
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
   at System.Reflection.MethodBaseInvoker.InvokeWithOneArg(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.AspNetCore.Hosting.ConfigureBuilder.Invoke(Object instance, IApplicationBuilder builder)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__15_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2025-03-12 10:34:05.819 +05:00 [Fatal] The Application failed to start.
System.InvalidOperationException: Unable to find the required services. Please add all the required services by calling 'IServiceCollection.AddControllers' inside the call to 'ConfigureServices(...)' in the application startup code.
   at Microsoft.AspNetCore.Builder.ControllerEndpointRouteBuilderExtensions.EnsureControllerServices(IEndpointRouteBuilder endpoints)
   at Microsoft.AspNetCore.Builder.ControllerEndpointRouteBuilderExtensions.MapControllers(IEndpointRouteBuilder endpoints)
   at KpoApi.WebHost.Startup.<>c.<Configure>b__3_1(IEndpointRouteBuilder endpoints) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.WebHost\Startup.cs:line 40
   at Microsoft.AspNetCore.Builder.EndpointRoutingApplicationBuilderExtensions.UseEndpoints(IApplicationBuilder builder, Action`1 configure)
   at KpoApi.WebHost.Startup.Configure(IApplicationBuilder applicationBuilder) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.WebHost\Startup.cs:line 38
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
   at System.Reflection.MethodBaseInvoker.InvokeWithOneArg(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.AspNetCore.Hosting.ConfigureBuilder.Invoke(Object instance, IApplicationBuilder builder)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__15_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
   at Microsoft.Extensions.Hosting.Internal.Host.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at KpoApi.WebHost.Program.Main(String[] args) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.WebHost\Program.cs:line 26
2025-03-12 10:34:34.612 +05:00 [Information] Migrations
2025-03-12 10:34:34.666 +05:00 [Information] 2025010501: CreateOrganizationTable
2025-03-12 10:34:34.668 +05:00 [Information] 2025010502: CreateUsersTable
2025-03-12 10:34:34.669 +05:00 [Information] 2025010503: CreateResultsCardiogramsTable
2025-03-12 10:34:34.669 +05:00 [Information] 2025010504: CreateCardiogramsStateTable
2025-03-12 10:34:34.670 +05:00 [Information] 2025010505: CreateCardiographsTable
2025-03-12 10:34:34.670 +05:00 [Information] 2025010506: CreateSexPatientsTable
2025-03-12 10:34:34.671 +05:00 [Information] 2025010507: CreatePrioritiesTable
2025-03-12 10:34:34.672 +05:00 [Information] 2025010508: CreateUsersCardiographsTable
2025-03-12 10:34:34.672 +05:00 [Information] 2025010509: CreateCallsTable
2025-03-12 10:34:34.673 +05:00 [Warning] 2025010510: CreateCardiogramsTable (current)
2025-03-12 10:34:34.912 +05:00 [Warning] Overriding address(es) '"http://localhost:2324/swagger"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-03-12 10:34:34.936 +05:00 [Information] Now listening on: "http://0.0.0.0:2324"
2025-03-12 10:34:34.937 +05:00 [Information] Application started. Press Ctrl+C to shut down.
2025-03-12 10:34:34.937 +05:00 [Information] Hosting environment: "Development"
2025-03-12 10:34:34.938 +05:00 [Information] Content root path: "C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.WebHost"
2025-03-12 10:34:35.598 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.html""" - null null
2025-03-12 10:34:35.838 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 254.3936ms
2025-03-12 10:34:35.943 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.js""" - null null
2025-03-12 10:34:35.960 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.js""" - 200 null "application/javascript;charset=utf-8" 17.5314ms
2025-03-12 10:34:36.380 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/v1/swagger.json""" - null null
2025-03-12 10:34:36.685 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 304.4108ms
2025-03-12 10:34:44.059 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveUser""" - "application/json" 234
2025-03-12 10:34:44.073 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:34:44.078 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveUser (KpoApi.Presentation)"'
2025-03-12 10:34:44.113 +05:00 [Information] Route matched with "{action = \"SaveUser\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveUser(KpoApi.Domain.Entities.User)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:34:44.925 +05:00 [Information] Executed DbCommand ("11"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:34:44.997 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveUser (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:34:45.000 +05:00 [Information] Поступил запрос сохранение пользователя
2025-03-12 10:34:45.552 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveUser (KpoApi.Presentation)" in 1432.7539ms
2025-03-12 10:34:45.554 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveUser (KpoApi.Presentation)"'
2025-03-12 10:34:45.561 +05:00 [Error] Connection id ""0HNB14U9CSGUT"", Request id ""0HNB14U9CSGUT:00000004"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 23503: insert or update on table "Users" violates foreign key constraint "fk1"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveUser(User newUser, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 34
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveUser(User newUser, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 106
   at KpoApi.Application.Services.CardiogramService.SaveUser(User newUser) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 94
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveUser(User newUser) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 28
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "Users" violates foreign key constraint "fk1"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: cardiogram_schema
    TableName: Users
    ConstraintName: fk1
    File: ri_triggers.c
    Line: 2599
    Routine: ri_ReportViolation
2025-03-12 10:34:45.623 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveUser""" - 500 0 null 1564.1275ms
2025-03-12 10:34:54.316 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveUser""" - "application/json" 234
2025-03-12 10:34:54.320 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:34:54.321 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveUser (KpoApi.Presentation)"'
2025-03-12 10:34:54.322 +05:00 [Information] Route matched with "{action = \"SaveUser\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveUser(KpoApi.Domain.Entities.User)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:34:54.357 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:34:54.361 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveUser (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:34:54.362 +05:00 [Information] Поступил запрос сохранение пользователя
2025-03-12 10:34:54.689 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveUser (KpoApi.Presentation)" in 364.7082ms
2025-03-12 10:34:54.690 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveUser (KpoApi.Presentation)"'
2025-03-12 10:34:54.692 +05:00 [Error] Connection id ""0HNB14U9CSGUT"", Request id ""0HNB14U9CSGUT:00000005"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 23503: insert or update on table "Users" violates foreign key constraint "fk1"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveUser(User newUser, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 34
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveUser(User newUser, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 106
   at KpoApi.Application.Services.CardiogramService.SaveUser(User newUser) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 94
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveUser(User newUser) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 28
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "Users" violates foreign key constraint "fk1"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: cardiogram_schema
    TableName: Users
    ConstraintName: fk1
    File: ri_triggers.c
    Line: 2599
    Routine: ri_ReportViolation
2025-03-12 10:34:54.707 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveUser""" - 500 0 null 391.2614ms
2025-03-12 10:35:35.879 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=9687b69e-c335-4ca7-9a75-89e082ac227a" - null null
2025-03-12 10:35:35.881 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:35:35.884 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=9687b69e-c335-4ca7-9a75-89e082ac227a" - 204 null null 4.3406ms
2025-03-12 10:35:35.891 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=9687b69e-c335-4ca7-9a75-89e082ac227a" - "application/json" null
2025-03-12 10:35:35.893 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:35:35.894 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)"'
2025-03-12 10:35:35.898 +05:00 [Information] Route matched with "{action = \"GetCardiogram\", controller = \"Cardiogram\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiogram(System.Guid)" on controller "KpoApi.Presentation.Controllers.CardiogramController" ("KpoApi.Presentation").
2025-03-12 10:35:35.928 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:35:35.936 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:35:35.938 +05:00 [Information] Поступил запрос на получение всей информации по кардиограмме
2025-03-12 10:35:35.972 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 30.9586ms.
2025-03-12 10:35:35.976 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Application.Models.Data.EntireCardiogramModel"'.
2025-03-12 10:35:36.010 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)" in 110.2341ms
2025-03-12 10:35:36.011 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)"'
2025-03-12 10:35:36.013 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=9687b69e-c335-4ca7-9a75-89e082ac227a" - 200 null "application/json; charset=utf-8" 121.8139ms
2025-03-12 10:36:00.144 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - null null
2025-03-12 10:36:00.151 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:36:00.152 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - 204 null null 8.5639ms
2025-03-12 10:36:00.156 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - "application/json" null
2025-03-12 10:36:00.164 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:36:00.165 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)"'
2025-03-12 10:36:00.171 +05:00 [Information] Route matched with "{action = \"GetOrganizations\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrganizations()" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 10:36:00.191 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:36:00.194 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:36:00.197 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 10:36:00.218 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 22.7639ms.
2025-03-12 10:36:00.220 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Organization[]"'.
2025-03-12 10:36:00.238 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)" in 65.152ms
2025-03-12 10:36:00.240 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)"'
2025-03-12 10:36:00.242 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - 200 null "application/json; charset=utf-8" 85.5119ms
2025-03-12 10:36:01.656 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - null null
2025-03-12 10:36:01.659 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:36:01.661 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - 204 null null 4.9786ms
2025-03-12 10:36:01.668 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - "application/json" null
2025-03-12 10:36:01.679 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:36:01.680 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)"'
2025-03-12 10:36:01.686 +05:00 [Information] Route matched with "{action = \"GetUsers\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 10:36:01.704 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:36:01.708 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:36:01.710 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 10:36:01.720 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 10.8682ms.
2025-03-12 10:36:01.721 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.User[]"'.
2025-03-12 10:36:01.726 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)" in 38.2237ms
2025-03-12 10:36:01.727 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)"'
2025-03-12 10:36:01.729 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - 200 null "application/json; charset=utf-8" 61.4373ms
2025-03-12 10:36:01.953 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - null null
2025-03-12 10:36:01.955 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:36:01.956 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - 204 null null 3.1026ms
2025-03-12 10:36:01.960 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - "application/json" null
2025-03-12 10:36:01.962 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:36:01.963 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)"'
2025-03-12 10:36:01.965 +05:00 [Information] Route matched with "{action = \"GetCardiographs\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiographs(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 10:36:01.980 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:36:01.986 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:36:01.988 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 10:36:01.994 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 7.1152ms.
2025-03-12 10:36:01.996 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Cardiograph[]"'.
2025-03-12 10:36:01.997 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)" in 30.4117ms
2025-03-12 10:36:01.998 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)"'
2025-03-12 10:36:02.000 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - 200 null "application/json; charset=utf-8" 39.6533ms
2025-03-12 10:36:02.297 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - null null
2025-03-12 10:36:02.299 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:36:02.300 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - 204 null null 2.6837ms
2025-03-12 10:36:02.303 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - "application/json" null
2025-03-12 10:36:02.305 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:36:02.307 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)"'
2025-03-12 10:36:02.311 +05:00 [Information] Route matched with "{action = \"GetCardiograms\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiograms(System.String)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 10:36:02.324 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:36:02.327 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:36:02.328 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 10:36:02.337 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 9.0632ms.
2025-03-12 10:36:02.338 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Cardiogram[]"'.
2025-03-12 10:36:02.342 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)" in 30.037ms
2025-03-12 10:36:02.344 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)"'
2025-03-12 10:36:02.345 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - 200 null "application/json; charset=utf-8" 42.0457ms
2025-03-12 10:36:02.771 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - null null
2025-03-12 10:36:02.773 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:36:02.774 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 204 null null 3.0689ms
2025-03-12 10:36:02.778 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - "application/json" null
2025-03-12 10:36:02.780 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:36:02.781 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)"'
2025-03-12 10:36:02.782 +05:00 [Information] Route matched with "{action = \"GetCardiogram\", controller = \"Cardiogram\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiogram(System.Guid)" on controller "KpoApi.Presentation.Controllers.CardiogramController" ("KpoApi.Presentation").
2025-03-12 10:36:02.796 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:36:02.798 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:36:02.799 +05:00 [Information] Поступил запрос на получение всей информации по кардиограмме
2025-03-12 10:36:02.802 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 2.6753ms.
2025-03-12 10:36:02.803 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Application.Models.Data.EntireCardiogramModel"'.
2025-03-12 10:36:02.804 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)" in 20.5305ms
2025-03-12 10:36:02.805 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)"'
2025-03-12 10:36:02.807 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 200 null "application/json; charset=utf-8" 28.6935ms
2025-03-12 10:36:02.823 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - null null
2025-03-12 10:36:02.825 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:36:02.826 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 204 null null 2.9166ms
2025-03-12 10:36:02.830 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - "application/json" null
2025-03-12 10:36:02.832 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:36:02.833 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)"'
2025-03-12 10:36:02.837 +05:00 [Information] Route matched with "{action = \"GetUsersByCardiograms\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByCardiograms(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 10:36:02.854 +05:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:36:02.857 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:36:02.859 +05:00 [Information] Поступил запрос на получение пользователей по кардиограмме
2025-03-12 10:36:02.865 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 6.7408ms.
2025-03-12 10:36:02.867 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.User[]"'.
2025-03-12 10:36:02.868 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)" in 28.5509ms
2025-03-12 10:36:02.869 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)"'
2025-03-12 10:36:02.871 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 200 null "application/json; charset=utf-8" 40.6041ms
2025-03-12 10:36:14.555 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=9687b69e-c335-4ca7-9a75-89e082ac227a" - null null
2025-03-12 10:36:14.557 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:36:14.557 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=9687b69e-c335-4ca7-9a75-89e082ac227a" - 204 null null 2.6448ms
2025-03-12 10:36:14.561 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=9687b69e-c335-4ca7-9a75-89e082ac227a" - "application/json" null
2025-03-12 10:36:14.563 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:36:14.564 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)"'
2025-03-12 10:36:14.565 +05:00 [Information] Route matched with "{action = \"GetCardiogram\", controller = \"Cardiogram\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiogram(System.Guid)" on controller "KpoApi.Presentation.Controllers.CardiogramController" ("KpoApi.Presentation").
2025-03-12 10:36:14.579 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:36:14.581 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:36:14.582 +05:00 [Information] Поступил запрос на получение всей информации по кардиограмме
2025-03-12 10:36:14.585 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 2.5925ms.
2025-03-12 10:36:14.586 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Application.Models.Data.EntireCardiogramModel"'.
2025-03-12 10:36:14.587 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)" in 20.3195ms
2025-03-12 10:36:14.588 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)"'
2025-03-12 10:36:14.590 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=9687b69e-c335-4ca7-9a75-89e082ac227a" - 200 null "application/json; charset=utf-8" 29.0746ms
2025-03-12 10:37:21.793 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - null null
2025-03-12 10:37:21.804 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:37:21.805 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - 204 null null 12.2486ms
2025-03-12 10:37:21.809 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - "application/json" null
2025-03-12 10:37:21.812 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:37:21.813 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)"'
2025-03-12 10:37:21.814 +05:00 [Information] Route matched with "{action = \"GetOrganizations\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrganizations()" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 10:37:21.835 +05:00 [Information] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:37:21.839 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:37:21.841 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 10:37:21.847 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.5551ms.
2025-03-12 10:37:21.856 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Organization[]"'.
2025-03-12 10:37:21.858 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)" in 41.7078ms
2025-03-12 10:37:21.859 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)"'
2025-03-12 10:37:21.861 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - 200 null "application/json; charset=utf-8" 52.2356ms
2025-03-12 10:37:22.969 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - null null
2025-03-12 10:37:22.971 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:37:22.972 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - 204 null null 2.9667ms
2025-03-12 10:37:22.975 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - "application/json" null
2025-03-12 10:37:22.978 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:37:22.979 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)"'
2025-03-12 10:37:22.980 +05:00 [Information] Route matched with "{action = \"GetUsers\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 10:37:22.998 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:37:23.001 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:37:23.003 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 10:37:23.006 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3.0629ms.
2025-03-12 10:37:23.007 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.User[]"'.
2025-03-12 10:37:23.008 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)" in 27.4537ms
2025-03-12 10:37:23.010 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)"'
2025-03-12 10:37:23.011 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - 200 null "application/json; charset=utf-8" 35.7601ms
2025-03-12 10:37:23.272 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - null null
2025-03-12 10:37:23.274 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:37:23.275 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - 204 null null 3.5336ms
2025-03-12 10:37:23.282 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - "application/json" null
2025-03-12 10:37:23.284 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:37:23.286 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)"'
2025-03-12 10:37:23.287 +05:00 [Information] Route matched with "{action = \"GetCardiographs\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiographs(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 10:37:23.303 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:37:23.306 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:37:23.307 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 10:37:23.311 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3.9482ms.
2025-03-12 10:37:23.313 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Cardiograph[]"'.
2025-03-12 10:37:23.315 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)" in 26.0043ms
2025-03-12 10:37:23.317 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)"'
2025-03-12 10:37:23.319 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - 200 null "application/json; charset=utf-8" 37.6075ms
2025-03-12 10:37:23.601 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - null null
2025-03-12 10:37:23.603 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:37:23.604 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - 204 null null 2.6276ms
2025-03-12 10:37:23.609 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - "application/json" null
2025-03-12 10:37:23.610 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:37:23.611 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)"'
2025-03-12 10:37:23.612 +05:00 [Information] Route matched with "{action = \"GetCardiograms\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiograms(System.String)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 10:37:23.634 +05:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:37:23.638 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:37:23.640 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 10:37:23.643 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3.0842ms.
2025-03-12 10:37:23.645 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Cardiogram[]"'.
2025-03-12 10:37:23.646 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)" in 31.6106ms
2025-03-12 10:37:23.647 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)"'
2025-03-12 10:37:23.649 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - 200 null "application/json; charset=utf-8" 40.5966ms
2025-03-12 10:37:24.045 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - null null
2025-03-12 10:37:24.047 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:37:24.048 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 204 null null 3.108ms
2025-03-12 10:37:24.054 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - "application/json" null
2025-03-12 10:37:24.058 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:37:24.059 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)"'
2025-03-12 10:37:24.060 +05:00 [Information] Route matched with "{action = \"GetCardiogram\", controller = \"Cardiogram\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiogram(System.Guid)" on controller "KpoApi.Presentation.Controllers.CardiogramController" ("KpoApi.Presentation").
2025-03-12 10:37:24.083 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:37:24.087 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:37:24.089 +05:00 [Information] Поступил запрос на получение всей информации по кардиограмме
2025-03-12 10:37:24.126 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 37.3644ms.
2025-03-12 10:37:24.128 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Application.Models.Data.EntireCardiogramModel"'.
2025-03-12 10:37:24.130 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)" in 64.271ms
2025-03-12 10:37:24.143 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)"'
2025-03-12 10:37:24.146 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 200 null "application/json; charset=utf-8" 92.5203ms
2025-03-12 10:37:24.174 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - null null
2025-03-12 10:37:24.177 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:37:24.179 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 204 null null 4.1658ms
2025-03-12 10:37:24.184 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - "application/json" null
2025-03-12 10:37:24.186 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:37:24.187 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)"'
2025-03-12 10:37:24.188 +05:00 [Information] Route matched with "{action = \"GetUsersByCardiograms\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByCardiograms(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 10:37:24.205 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:37:24.208 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:37:24.209 +05:00 [Information] Поступил запрос на получение пользователей по кардиограмме
2025-03-12 10:37:24.214 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4.272ms.
2025-03-12 10:37:24.215 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.User[]"'.
2025-03-12 10:37:24.216 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)" in 26.3447ms
2025-03-12 10:37:24.218 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)"'
2025-03-12 10:37:24.219 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 200 null "application/json; charset=utf-8" 35.4745ms
2025-03-12 10:37:50.463 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - null null
2025-03-12 10:37:50.465 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:37:50.466 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - 204 null null 3.4323ms
2025-03-12 10:37:50.471 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - "application/json" null
2025-03-12 10:37:50.473 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:37:50.474 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)"'
2025-03-12 10:37:50.477 +05:00 [Information] Route matched with "{action = \"GetOrganizations\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrganizations()" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 10:37:50.494 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:37:50.496 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:37:50.498 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 10:37:50.501 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3.4733ms.
2025-03-12 10:37:50.509 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Organization[]"'.
2025-03-12 10:37:50.512 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)" in 33.8396ms
2025-03-12 10:37:50.514 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)"'
2025-03-12 10:37:50.515 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - 200 null "application/json; charset=utf-8" 44.3293ms
2025-03-12 10:37:51.769 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - null null
2025-03-12 10:37:51.772 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:37:51.773 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - 204 null null 3.6534ms
2025-03-12 10:37:51.778 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - "application/json" null
2025-03-12 10:37:51.781 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:37:51.781 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)"'
2025-03-12 10:37:51.782 +05:00 [Information] Route matched with "{action = \"GetUsers\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 10:37:51.832 +05:00 [Information] Executed DbCommand ("34"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:37:51.839 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:37:51.840 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 10:37:51.845 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4.6926ms.
2025-03-12 10:37:51.847 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.User[]"'.
2025-03-12 10:37:51.848 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)" in 64.0672ms
2025-03-12 10:37:51.853 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)"'
2025-03-12 10:37:51.855 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - 200 null "application/json; charset=utf-8" 78.6887ms
2025-03-12 10:37:51.997 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=f45d0e56-5c94-48f1-b703-42fb5fc25376" - null null
2025-03-12 10:37:51.999 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:37:52.000 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=f45d0e56-5c94-48f1-b703-42fb5fc25376" - 204 null null 3.4137ms
2025-03-12 10:37:52.009 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=f45d0e56-5c94-48f1-b703-42fb5fc25376" - "application/json" null
2025-03-12 10:37:52.010 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:37:52.011 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)"'
2025-03-12 10:37:52.012 +05:00 [Information] Route matched with "{action = \"GetUsers\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 10:37:52.033 +05:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:37:52.036 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:37:52.037 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 10:37:52.041 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3.4158ms.
2025-03-12 10:37:52.042 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.User[]"'.
2025-03-12 10:37:52.043 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)" in 29.9601ms
2025-03-12 10:37:52.046 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)"'
2025-03-12 10:37:52.047 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=f45d0e56-5c94-48f1-b703-42fb5fc25376" - 200 null "application/json; charset=utf-8" 39.0086ms
2025-03-12 10:37:52.572 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - null null
2025-03-12 10:37:52.574 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:37:52.575 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - 204 null null 3.2857ms
2025-03-12 10:37:52.580 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - "application/json" null
2025-03-12 10:37:52.582 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:37:52.582 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)"'
2025-03-12 10:37:52.584 +05:00 [Information] Route matched with "{action = \"GetCardiographs\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiographs(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 10:37:52.599 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:37:52.602 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:37:52.603 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 10:37:52.605 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 2.6449ms.
2025-03-12 10:37:52.607 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Cardiograph[]"'.
2025-03-12 10:37:52.609 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)" in 23.5564ms
2025-03-12 10:37:52.610 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)"'
2025-03-12 10:37:52.612 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - 200 null "application/json; charset=utf-8" 32.3091ms
2025-03-12 10:37:52.859 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - null null
2025-03-12 10:37:52.861 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:37:52.862 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - 204 null null 2.7926ms
2025-03-12 10:37:52.866 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - "application/json" null
2025-03-12 10:37:52.868 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:37:52.869 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)"'
2025-03-12 10:37:52.870 +05:00 [Information] Route matched with "{action = \"GetCardiograms\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiograms(System.String)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 10:37:52.887 +05:00 [Information] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:37:52.890 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:37:52.891 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 10:37:52.894 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3.3777ms.
2025-03-12 10:37:52.897 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Cardiogram[]"'.
2025-03-12 10:37:52.898 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)" in 26.8824ms
2025-03-12 10:37:52.901 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)"'
2025-03-12 10:37:52.902 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - 200 null "application/json; charset=utf-8" 36.531ms
2025-03-12 10:37:53.225 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - null null
2025-03-12 10:37:53.227 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:37:53.228 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 204 null null 3.491ms
2025-03-12 10:37:53.233 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - "application/json" null
2025-03-12 10:37:53.235 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:37:53.237 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)"'
2025-03-12 10:37:53.238 +05:00 [Information] Route matched with "{action = \"GetCardiogram\", controller = \"Cardiogram\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiogram(System.Guid)" on controller "KpoApi.Presentation.Controllers.CardiogramController" ("KpoApi.Presentation").
2025-03-12 10:37:53.260 +05:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:37:53.269 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:37:53.270 +05:00 [Information] Поступил запрос на получение всей информации по кардиограмме
2025-03-12 10:37:53.281 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 10.7694ms.
2025-03-12 10:37:53.283 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Application.Models.Data.EntireCardiogramModel"'.
2025-03-12 10:37:53.285 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)" in 44.7646ms
2025-03-12 10:37:53.289 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)"'
2025-03-12 10:37:53.291 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 200 null "application/json; charset=utf-8" 57.3966ms
2025-03-12 10:37:53.320 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - null null
2025-03-12 10:37:53.323 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:37:53.324 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 204 null null 3.8697ms
2025-03-12 10:37:53.328 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - "application/json" null
2025-03-12 10:37:53.330 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:37:53.331 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)"'
2025-03-12 10:37:53.331 +05:00 [Information] Route matched with "{action = \"GetUsersByCardiograms\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByCardiograms(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 10:37:53.348 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:37:53.352 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:37:53.353 +05:00 [Information] Поступил запрос на получение пользователей по кардиограмме
2025-03-12 10:37:53.356 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3.1317ms.
2025-03-12 10:37:53.358 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.User[]"'.
2025-03-12 10:37:53.359 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)" in 25.9722ms
2025-03-12 10:37:53.360 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)"'
2025-03-12 10:37:53.362 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 200 null "application/json; charset=utf-8" 33.9049ms
2025-03-12 10:38:37.314 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - null null
2025-03-12 10:38:37.322 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:38:37.323 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - 204 null null 8.8299ms
2025-03-12 10:38:37.327 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - "application/json" null
2025-03-12 10:38:37.330 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:38:37.331 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)"'
2025-03-12 10:38:37.332 +05:00 [Information] Route matched with "{action = \"GetOrganizations\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrganizations()" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 10:38:37.350 +05:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:38:37.353 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:38:37.355 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 10:38:37.359 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4.1995ms.
2025-03-12 10:38:37.366 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Organization[]"'.
2025-03-12 10:38:37.368 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)" in 33.9236ms
2025-03-12 10:38:37.369 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)"'
2025-03-12 10:38:37.370 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - 200 null "application/json; charset=utf-8" 43.6026ms
2025-03-12 10:38:38.277 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - null null
2025-03-12 10:38:38.279 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:38:38.280 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - 204 null null 2.8462ms
2025-03-12 10:38:38.284 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - "application/json" null
2025-03-12 10:38:38.286 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:38:38.286 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)"'
2025-03-12 10:38:38.288 +05:00 [Information] Route matched with "{action = \"GetUsers\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 10:38:38.301 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:38:38.304 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:38:38.305 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 10:38:38.308 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3.0417ms.
2025-03-12 10:38:38.309 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.User[]"'.
2025-03-12 10:38:38.310 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)" in 20.5516ms
2025-03-12 10:38:38.311 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)"'
2025-03-12 10:38:38.312 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - 200 null "application/json; charset=utf-8" 28.4911ms
2025-03-12 10:38:38.583 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - null null
2025-03-12 10:38:38.585 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:38:38.586 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - 204 null null 3.0209ms
2025-03-12 10:38:38.590 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - "application/json" null
2025-03-12 10:38:38.593 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:38:38.593 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)"'
2025-03-12 10:38:38.594 +05:00 [Information] Route matched with "{action = \"GetCardiographs\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiographs(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 10:38:38.609 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:38:38.612 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:38:38.613 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 10:38:38.615 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 2.3761ms.
2025-03-12 10:38:38.617 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Cardiograph[]"'.
2025-03-12 10:38:38.618 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)" in 22.3749ms
2025-03-12 10:38:38.619 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)"'
2025-03-12 10:38:38.621 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - 200 null "application/json; charset=utf-8" 31.0535ms
2025-03-12 10:38:38.921 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - null null
2025-03-12 10:38:38.922 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:38:38.923 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - 204 null null 2.3637ms
2025-03-12 10:38:38.928 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - "application/json" null
2025-03-12 10:38:38.929 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:38:38.930 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)"'
2025-03-12 10:38:38.931 +05:00 [Information] Route matched with "{action = \"GetCardiograms\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiograms(System.String)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 10:38:38.946 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:38:38.949 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:38:38.951 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 10:38:38.953 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 2.6611ms.
2025-03-12 10:38:38.956 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Cardiogram[]"'.
2025-03-12 10:38:38.957 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)" in 25.1357ms
2025-03-12 10:38:38.958 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)"'
2025-03-12 10:38:38.959 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - 200 null "application/json; charset=utf-8" 31.9842ms
2025-03-12 10:38:39.284 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - null null
2025-03-12 10:38:39.286 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:38:39.287 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 204 null null 3.0042ms
2025-03-12 10:38:39.292 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - "application/json" null
2025-03-12 10:38:39.294 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:38:39.295 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)"'
2025-03-12 10:38:39.296 +05:00 [Information] Route matched with "{action = \"GetCardiogram\", controller = \"Cardiogram\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiogram(System.Guid)" on controller "KpoApi.Presentation.Controllers.CardiogramController" ("KpoApi.Presentation").
2025-03-12 10:38:39.311 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:38:39.314 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:38:39.314 +05:00 [Information] Поступил запрос на получение всей информации по кардиограмме
2025-03-12 10:38:39.317 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 2.4905ms.
2025-03-12 10:38:39.319 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Application.Models.Data.EntireCardiogramModel"'.
2025-03-12 10:38:39.321 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)" in 23.8646ms
2025-03-12 10:38:39.322 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)"'
2025-03-12 10:38:39.323 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 200 null "application/json; charset=utf-8" 31.1614ms
2025-03-12 10:38:39.344 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - null null
2025-03-12 10:38:39.346 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:38:39.347 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 204 null null 3.0255ms
2025-03-12 10:38:39.351 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - "application/json" null
2025-03-12 10:38:39.353 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:38:39.354 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)"'
2025-03-12 10:38:39.355 +05:00 [Information] Route matched with "{action = \"GetUsersByCardiograms\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByCardiograms(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 10:38:39.370 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:38:39.373 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:38:39.374 +05:00 [Information] Поступил запрос на получение пользователей по кардиограмме
2025-03-12 10:38:39.378 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4.2794ms.
2025-03-12 10:38:39.384 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.User[]"'.
2025-03-12 10:38:39.385 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)" in 29.0031ms
2025-03-12 10:38:39.386 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)"'
2025-03-12 10:38:39.388 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 200 null "application/json; charset=utf-8" 36.6624ms
2025-03-12 10:38:40.138 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - null null
2025-03-12 10:38:40.141 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:38:40.142 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 204 null null 3.7817ms
2025-03-12 10:38:40.145 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 669
2025-03-12 10:38:40.147 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:38:40.148 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:38:40.152 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:38:40.167 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:38:40.192 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:39:04.536 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 10:39:04.548 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - null null
2025-03-12 10:39:04.558 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:39:04.559 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - 204 null null 10.7425ms
2025-03-12 10:39:04.564 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - "application/json" null
2025-03-12 10:39:04.566 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:39:04.567 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)"'
2025-03-12 10:39:04.568 +05:00 [Information] Route matched with "{action = \"GetOrganizations\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrganizations()" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 10:39:04.584 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:39:04.588 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:39:04.589 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 10:39:04.649 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 59.714ms.
2025-03-12 10:39:04.731 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Organization[]"'.
2025-03-12 10:39:04.817 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)" in 246.9965ms
2025-03-12 10:39:04.903 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)"'
2025-03-12 10:39:04.903 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 24749.1718ms
2025-03-12 10:39:04.904 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - 200 null "application/json; charset=utf-8" 339.548ms
2025-03-12 10:39:04.906 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:39:04.911 +05:00 [Error] Connection id ""0HNB14U9CSGV0"", Request id ""0HNB14U9CSGV0:00000038"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 115
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 10:39:04.934 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 499 null null 24788.2091ms
2025-03-12 10:39:06.019 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - null null
2025-03-12 10:39:06.022 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:39:06.023 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - 204 null null 4.2321ms
2025-03-12 10:39:06.027 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - "application/json" null
2025-03-12 10:39:06.030 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:39:06.031 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)"'
2025-03-12 10:39:06.032 +05:00 [Information] Route matched with "{action = \"GetUsers\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 10:39:06.047 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:39:06.050 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:39:06.051 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 10:39:06.053 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 2.673ms.
2025-03-12 10:39:06.055 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.User[]"'.
2025-03-12 10:39:06.056 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)" in 22.9113ms
2025-03-12 10:39:06.057 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)"'
2025-03-12 10:39:06.059 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - 200 null "application/json; charset=utf-8" 31.1796ms
2025-03-12 10:39:06.461 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - null null
2025-03-12 10:39:06.463 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:39:06.464 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - 204 null null 2.9048ms
2025-03-12 10:39:06.468 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - "application/json" null
2025-03-12 10:39:06.470 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:39:06.471 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)"'
2025-03-12 10:39:06.473 +05:00 [Information] Route matched with "{action = \"GetCardiographs\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiographs(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 10:39:06.487 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:39:06.490 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:39:06.491 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 10:39:06.494 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 2.4039ms.
2025-03-12 10:39:06.495 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Cardiograph[]"'.
2025-03-12 10:39:06.497 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)" in 22.8175ms
2025-03-12 10:39:06.498 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)"'
2025-03-12 10:39:06.500 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - 200 null "application/json; charset=utf-8" 32.2797ms
2025-03-12 10:39:06.789 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - null null
2025-03-12 10:39:06.791 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:39:06.791 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - 204 null null 2.8784ms
2025-03-12 10:39:06.795 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - "application/json" null
2025-03-12 10:39:06.797 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:39:06.797 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)"'
2025-03-12 10:39:06.798 +05:00 [Information] Route matched with "{action = \"GetCardiograms\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiograms(System.String)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 10:39:06.813 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:39:06.815 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:39:06.815 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 10:39:06.819 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3.3621ms.
2025-03-12 10:39:06.820 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Cardiogram[]"'.
2025-03-12 10:39:06.821 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)" in 20.8657ms
2025-03-12 10:39:06.822 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)"'
2025-03-12 10:39:06.823 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - 200 null "application/json; charset=utf-8" 28.9271ms
2025-03-12 10:39:07.380 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - null null
2025-03-12 10:39:07.383 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:39:07.384 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 204 null null 3.5836ms
2025-03-12 10:39:07.387 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - "application/json" null
2025-03-12 10:39:07.389 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:39:07.390 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)"'
2025-03-12 10:39:07.391 +05:00 [Information] Route matched with "{action = \"GetCardiogram\", controller = \"Cardiogram\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiogram(System.Guid)" on controller "KpoApi.Presentation.Controllers.CardiogramController" ("KpoApi.Presentation").
2025-03-12 10:39:07.402 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:39:07.405 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:39:07.405 +05:00 [Information] Поступил запрос на получение всей информации по кардиограмме
2025-03-12 10:39:07.408 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 2.4616ms.
2025-03-12 10:39:07.409 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Application.Models.Data.EntireCardiogramModel"'.
2025-03-12 10:39:07.410 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)" in 18.0533ms
2025-03-12 10:39:07.411 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)"'
2025-03-12 10:39:07.412 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 200 null "application/json; charset=utf-8" 25.3466ms
2025-03-12 10:39:07.428 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - null null
2025-03-12 10:39:07.429 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:39:07.430 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 204 null null 2.5653ms
2025-03-12 10:39:07.433 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - "application/json" null
2025-03-12 10:39:07.435 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:39:07.435 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)"'
2025-03-12 10:39:07.436 +05:00 [Information] Route matched with "{action = \"GetUsersByCardiograms\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByCardiograms(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 10:39:07.451 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:39:07.454 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:39:07.455 +05:00 [Information] Поступил запрос на получение пользователей по кардиограмме
2025-03-12 10:39:07.458 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 2.6519ms.
2025-03-12 10:39:07.459 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.User[]"'.
2025-03-12 10:39:07.460 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)" in 22.5743ms
2025-03-12 10:39:07.461 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)"'
2025-03-12 10:39:07.463 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 200 null "application/json; charset=utf-8" 29.7008ms
2025-03-12 10:39:11.017 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - null null
2025-03-12 10:39:11.021 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:39:11.022 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 204 null null 5.2689ms
2025-03-12 10:39:11.026 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 669
2025-03-12 10:39:11.029 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:39:11.030 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:39:11.031 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:39:11.045 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:39:11.048 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:39:11.049 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 10:39:11.350 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 317.7591ms
2025-03-12 10:39:11.352 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:39:11.353 +05:00 [Error] Connection id ""0HNB14U9CSGV2"", Request id ""0HNB14U9CSGV2:0000000E"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 115
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 10:39:11.365 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 338.9915ms
2025-03-12 10:42:33.366 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - null null
2025-03-12 10:42:33.374 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:42:33.376 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - 204 null null 10.0894ms
2025-03-12 10:42:33.385 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - "application/json" null
2025-03-12 10:42:33.388 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:42:33.389 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)"'
2025-03-12 10:42:33.391 +05:00 [Information] Route matched with "{action = \"GetOrganizations\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrganizations()" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 10:42:33.427 +05:00 [Information] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:42:33.431 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:42:33.433 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 10:42:33.502 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 69.1522ms.
2025-03-12 10:42:33.507 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Organization[]"'.
2025-03-12 10:42:33.513 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)" in 119.249ms
2025-03-12 10:42:33.518 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)"'
2025-03-12 10:42:33.521 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - 200 null "application/json; charset=utf-8" 135.8171ms
2025-03-12 10:42:37.151 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - null null
2025-03-12 10:42:37.153 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:42:37.154 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - 204 null null 3.6561ms
2025-03-12 10:42:37.158 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - "application/json" null
2025-03-12 10:42:37.160 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:42:37.161 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)"'
2025-03-12 10:42:37.161 +05:00 [Information] Route matched with "{action = \"GetUsers\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 10:42:37.177 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:42:37.179 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:42:37.180 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 10:42:37.183 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3.2972ms.
2025-03-12 10:42:37.185 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.User[]"'.
2025-03-12 10:42:37.186 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)" in 23.7134ms
2025-03-12 10:42:37.187 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)"'
2025-03-12 10:42:37.189 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - 200 null "application/json; charset=utf-8" 31.0819ms
2025-03-12 10:42:37.635 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - null null
2025-03-12 10:42:37.638 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:42:37.639 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - 204 null null 4.2269ms
2025-03-12 10:42:37.642 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - "application/json" null
2025-03-12 10:42:37.644 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:42:37.645 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)"'
2025-03-12 10:42:37.646 +05:00 [Information] Route matched with "{action = \"GetCardiographs\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiographs(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 10:42:37.658 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:42:37.661 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:42:37.661 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 10:42:37.665 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3.5671ms.
2025-03-12 10:42:37.667 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Cardiograph[]"'.
2025-03-12 10:42:37.669 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)" in 21.9266ms
2025-03-12 10:42:37.670 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)"'
2025-03-12 10:42:37.671 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - 200 null "application/json; charset=utf-8" 28.9741ms
2025-03-12 10:42:37.961 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - null null
2025-03-12 10:42:37.963 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:42:37.964 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - 204 null null 3.1257ms
2025-03-12 10:42:37.968 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - "application/json" null
2025-03-12 10:42:37.970 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:42:37.971 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)"'
2025-03-12 10:42:37.972 +05:00 [Information] Route matched with "{action = \"GetCardiograms\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiograms(System.String)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 10:42:37.986 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:42:37.989 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:42:37.990 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 10:42:37.993 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 2.4283ms.
2025-03-12 10:42:37.994 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Cardiogram[]"'.
2025-03-12 10:42:37.996 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)" in 22.5026ms
2025-03-12 10:42:37.997 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)"'
2025-03-12 10:42:37.998 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - 200 null "application/json; charset=utf-8" 30.3884ms
2025-03-12 10:42:38.305 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - null null
2025-03-12 10:42:38.307 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:42:38.316 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 204 null null 2.6798ms
2025-03-12 10:42:38.323 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - "application/json" null
2025-03-12 10:42:38.325 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:42:38.325 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)"'
2025-03-12 10:42:38.326 +05:00 [Information] Route matched with "{action = \"GetCardiogram\", controller = \"Cardiogram\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiogram(System.Guid)" on controller "KpoApi.Presentation.Controllers.CardiogramController" ("KpoApi.Presentation").
2025-03-12 10:42:38.341 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:42:38.343 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:42:38.344 +05:00 [Information] Поступил запрос на получение всей информации по кардиограмме
2025-03-12 10:42:38.348 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4.316ms.
2025-03-12 10:42:38.349 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Application.Models.Data.EntireCardiogramModel"'.
2025-03-12 10:42:38.350 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)" in 22.7701ms
2025-03-12 10:42:38.351 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)"'
2025-03-12 10:42:38.353 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 200 null "application/json; charset=utf-8" 29.639ms
2025-03-12 10:42:38.372 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - null null
2025-03-12 10:42:38.374 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:42:38.375 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 204 null null 3.0591ms
2025-03-12 10:42:38.379 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - "application/json" null
2025-03-12 10:42:38.381 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:42:38.382 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)"'
2025-03-12 10:42:38.383 +05:00 [Information] Route matched with "{action = \"GetUsersByCardiograms\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByCardiograms(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 10:42:38.397 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:42:38.400 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:42:38.401 +05:00 [Information] Поступил запрос на получение пользователей по кардиограмме
2025-03-12 10:42:38.405 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3.3052ms.
2025-03-12 10:42:38.406 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.User[]"'.
2025-03-12 10:42:38.407 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)" in 23.2752ms
2025-03-12 10:42:38.409 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)"'
2025-03-12 10:42:38.411 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 200 null "application/json; charset=utf-8" 31.9242ms
2025-03-12 10:42:39.240 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - null null
2025-03-12 10:42:39.244 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:42:39.246 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 204 null null 5.4512ms
2025-03-12 10:42:39.251 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 669
2025-03-12 10:42:39.278 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:42:39.279 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:39.281 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:42:39.299 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:42:39.302 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:42:39.304 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 10:42:39.562 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 278.4704ms
2025-03-12 10:42:39.563 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:39.564 +05:00 [Error] Connection id ""0HNB14U9CSGV2"", Request id ""0HNB14U9CSGV2:0000001C"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 115
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 10:42:39.578 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 327.5903ms
2025-03-12 10:42:39.590 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 105
2025-03-12 10:42:39.628 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:42:39.629 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:39.632 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:42:39.654 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:42:39.657 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:42:39.658 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 10:42:39.988 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 353.0237ms
2025-03-12 10:42:39.990 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:39.990 +05:00 [Error] Connection id ""0HNB14U9CSGV2"", Request id ""0HNB14U9CSGV2:0000001D"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 115
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 10:42:40.003 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 413.6661ms
2025-03-12 10:42:40.011 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 105
2025-03-12 10:42:40.014 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:42:40.014 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:40.015 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:42:40.030 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:42:40.032 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:42:40.033 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 10:42:40.249 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 232.0839ms
2025-03-12 10:42:40.250 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:40.251 +05:00 [Error] Connection id ""0HNB14U9CSGV2"", Request id ""0HNB14U9CSGV2:0000001E"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 115
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 10:42:40.264 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 252.7467ms
2025-03-12 10:42:40.272 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 105
2025-03-12 10:42:40.274 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:42:40.275 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:40.276 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:42:40.290 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:42:40.293 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:42:40.294 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 10:42:40.511 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 233.4749ms
2025-03-12 10:42:40.513 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:40.514 +05:00 [Error] Connection id ""0HNB14U9CSGV2"", Request id ""0HNB14U9CSGV2:0000001F"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 115
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 10:42:40.527 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 254.9737ms
2025-03-12 10:42:40.535 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 105
2025-03-12 10:42:40.536 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:42:40.537 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:40.538 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:42:40.550 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:42:40.553 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:42:40.554 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 10:42:40.766 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 227.2422ms
2025-03-12 10:42:40.767 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:40.769 +05:00 [Error] Connection id ""0HNB14U9CSGV2"", Request id ""0HNB14U9CSGV2:00000020"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 115
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 10:42:40.783 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 248.4288ms
2025-03-12 10:42:40.792 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 105
2025-03-12 10:42:40.793 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:42:40.794 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:40.795 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:42:40.808 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:42:40.811 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:42:40.811 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 10:42:41.041 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 244.5899ms
2025-03-12 10:42:41.043 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:41.044 +05:00 [Error] Connection id ""0HNB14U9CSGV2"", Request id ""0HNB14U9CSGV2:00000021"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 115
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 10:42:41.057 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 265.0428ms
2025-03-12 10:42:41.065 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 105
2025-03-12 10:42:41.067 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:42:41.068 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:41.069 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:42:41.082 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:42:41.085 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:42:41.086 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 10:42:41.324 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 253.7092ms
2025-03-12 10:42:41.325 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:41.326 +05:00 [Error] Connection id ""0HNB14U9CSGV2"", Request id ""0HNB14U9CSGV2:00000022"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 115
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 10:42:41.340 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 274.793ms
2025-03-12 10:42:41.349 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 105
2025-03-12 10:42:41.351 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:42:41.352 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:41.353 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:42:41.367 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:42:41.370 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:42:41.371 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 10:42:41.615 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 260.6708ms
2025-03-12 10:42:41.617 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:41.618 +05:00 [Error] Connection id ""0HNB14U9CSGV2"", Request id ""0HNB14U9CSGV2:00000023"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 115
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 10:42:41.631 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 281.4699ms
2025-03-12 10:42:41.640 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 105
2025-03-12 10:42:41.642 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:42:41.642 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:41.643 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:42:41.656 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:42:41.659 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:42:41.660 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 10:42:41.874 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 229.6511ms
2025-03-12 10:42:41.875 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:41.876 +05:00 [Error] Connection id ""0HNB14U9CSGV2"", Request id ""0HNB14U9CSGV2:00000024"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 115
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 10:42:41.890 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 250.8717ms
2025-03-12 10:42:41.899 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 105
2025-03-12 10:42:41.900 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:42:41.901 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:41.902 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:42:41.914 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:42:41.917 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:42:41.918 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 10:42:42.140 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 236.5728ms
2025-03-12 10:42:42.141 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:42.142 +05:00 [Error] Connection id ""0HNB14U9CSGV2"", Request id ""0HNB14U9CSGV2:00000025"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 115
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 10:42:42.156 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 257.0376ms
2025-03-12 10:42:42.166 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 105
2025-03-12 10:42:42.168 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:42:42.168 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:42.169 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:42:42.183 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:42:42.185 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:42:42.187 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 10:42:42.438 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 266.9755ms
2025-03-12 10:42:42.439 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:42.440 +05:00 [Error] Connection id ""0HNB14U9CSGV2"", Request id ""0HNB14U9CSGV2:00000026"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 115
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 10:42:42.454 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 288.0173ms
2025-03-12 10:42:42.461 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 105
2025-03-12 10:42:42.463 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:42:42.463 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:42.465 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:42:42.477 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:42:42.480 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:42:42.481 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 10:42:42.697 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 231.1893ms
2025-03-12 10:42:42.699 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:42.700 +05:00 [Error] Connection id ""0HNB14U9CSGV2"", Request id ""0HNB14U9CSGV2:00000027"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 115
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 10:42:42.714 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 253.0545ms
2025-03-12 10:42:42.723 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 105
2025-03-12 10:42:42.725 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:42:42.726 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:42.727 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:42:42.740 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:42:42.742 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:42:42.743 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 10:42:42.971 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 242.8894ms
2025-03-12 10:42:42.972 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:42.973 +05:00 [Error] Connection id ""0HNB14U9CSGV2"", Request id ""0HNB14U9CSGV2:00000028"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 115
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 10:42:42.985 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 262.2676ms
2025-03-12 10:42:42.992 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 105
2025-03-12 10:42:42.993 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:42:42.994 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:42.995 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:42:43.009 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:42:43.012 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:42:43.012 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 10:42:43.229 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 232.1834ms
2025-03-12 10:42:43.230 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:43.231 +05:00 [Error] Connection id ""0HNB14U9CSGV2"", Request id ""0HNB14U9CSGV2:00000029"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 115
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 10:42:43.246 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 254.7065ms
2025-03-12 10:42:43.253 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 105
2025-03-12 10:42:43.256 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:42:43.257 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:43.258 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:42:43.271 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:42:43.273 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:42:43.274 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 10:42:43.535 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 275.7773ms
2025-03-12 10:42:43.536 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:43.538 +05:00 [Error] Connection id ""0HNB14U9CSGV2"", Request id ""0HNB14U9CSGV2:0000002A"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 115
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 10:42:43.553 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 299.3247ms
2025-03-12 10:42:43.561 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 105
2025-03-12 10:42:43.564 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:42:43.564 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:43.565 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:42:43.580 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:42:43.582 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:42:43.584 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 10:42:43.826 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 259.2217ms
2025-03-12 10:42:43.827 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:43.829 +05:00 [Error] Connection id ""0HNB14U9CSGV2"", Request id ""0HNB14U9CSGV2:0000002B"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 115
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 10:42:43.843 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 282.07ms
2025-03-12 10:42:43.854 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 105
2025-03-12 10:42:43.858 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:42:43.859 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:43.860 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:42:43.874 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:42:43.877 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:42:43.878 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 10:42:44.134 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 271.6164ms
2025-03-12 10:42:44.135 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:44.136 +05:00 [Error] Connection id ""0HNB14U9CSGV2"", Request id ""0HNB14U9CSGV2:0000002C"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 115
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 10:42:44.150 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 296.4826ms
2025-03-12 10:42:44.158 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 105
2025-03-12 10:42:44.160 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:42:44.161 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:44.162 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:42:44.176 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:42:44.178 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:42:44.179 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 10:42:44.430 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 266.3545ms
2025-03-12 10:42:44.431 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:44.432 +05:00 [Error] Connection id ""0HNB14U9CSGV2"", Request id ""0HNB14U9CSGV2:0000002D"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 115
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 10:42:44.446 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 288.213ms
2025-03-12 10:42:44.454 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - null null
2025-03-12 10:42:44.456 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:42:44.457 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 204 null null 2.9844ms
2025-03-12 10:42:44.461 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 105
2025-03-12 10:42:44.463 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:42:44.464 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:44.464 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:42:44.478 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:42:44.481 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:42:44.482 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 10:42:44.720 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 254.7188ms
2025-03-12 10:42:44.722 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:44.723 +05:00 [Error] Connection id ""0HNB14U9CSGV2"", Request id ""0HNB14U9CSGV2:0000002F"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 115
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 10:42:44.734 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 274.016ms
2025-03-12 10:42:44.742 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 105
2025-03-12 10:42:44.744 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:42:44.745 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:44.746 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:42:44.759 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:42:44.762 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:42:44.763 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 10:42:44.985 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 237.4578ms
2025-03-12 10:42:44.987 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:44.989 +05:00 [Error] Connection id ""0HNB14U9CSGV2"", Request id ""0HNB14U9CSGV2:00000030"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 115
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 10:42:45.001 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 259.0086ms
2025-03-12 10:42:45.008 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 105
2025-03-12 10:42:45.010 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:42:45.011 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:45.011 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:42:45.025 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:42:45.028 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:42:45.028 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 10:42:45.250 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 236.6545ms
2025-03-12 10:42:45.251 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:45.252 +05:00 [Error] Connection id ""0HNB14U9CSGV2"", Request id ""0HNB14U9CSGV2:00000031"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 115
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 10:42:45.267 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 259.0963ms
2025-03-12 10:42:45.274 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 105
2025-03-12 10:42:45.276 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:42:45.277 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:45.278 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:42:45.290 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:42:45.293 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:42:45.293 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 10:42:45.523 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 244.2698ms
2025-03-12 10:42:45.524 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:45.525 +05:00 [Error] Connection id ""0HNB14U9CSGV2"", Request id ""0HNB14U9CSGV2:00000032"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 115
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 10:42:45.538 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 263.2624ms
2025-03-12 10:42:45.545 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 105
2025-03-12 10:42:45.547 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:42:45.547 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:45.548 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:42:45.561 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:42:45.564 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:42:45.565 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 10:42:45.793 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 243.4263ms
2025-03-12 10:42:45.796 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:45.797 +05:00 [Error] Connection id ""0HNB14U9CSGV2"", Request id ""0HNB14U9CSGV2:00000033"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 115
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 10:42:45.810 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 265.2602ms
2025-03-12 10:42:45.816 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 105
2025-03-12 10:42:45.818 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:42:45.819 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:45.820 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:42:45.833 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:42:45.835 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:42:45.836 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 10:42:46.069 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 247.6394ms
2025-03-12 10:42:46.070 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:46.071 +05:00 [Error] Connection id ""0HNB14U9CSGV2"", Request id ""0HNB14U9CSGV2:00000034"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 115
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 10:42:46.083 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 266.9932ms
2025-03-12 10:42:46.090 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 105
2025-03-12 10:42:46.092 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:42:46.093 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:46.093 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:42:46.106 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:42:46.109 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:42:46.110 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 10:42:46.325 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 230.4502ms
2025-03-12 10:42:46.327 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:46.329 +05:00 [Error] Connection id ""0HNB14U9CSGV2"", Request id ""0HNB14U9CSGV2:00000035"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 115
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 10:42:46.341 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 251.1695ms
2025-03-12 10:42:46.348 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 105
2025-03-12 10:42:46.350 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:42:46.351 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:46.352 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:42:46.365 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:42:46.367 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:42:46.368 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 10:42:46.598 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 244.1111ms
2025-03-12 10:42:46.599 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:46.601 +05:00 [Error] Connection id ""0HNB14U9CSGV2"", Request id ""0HNB14U9CSGV2:00000036"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 115
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 10:42:46.615 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 266.5116ms
2025-03-12 10:42:46.622 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 105
2025-03-12 10:42:46.624 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:42:46.624 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:46.626 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:42:46.638 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:42:46.641 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:42:46.642 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 10:42:46.924 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 297.4161ms
2025-03-12 10:42:46.926 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:46.927 +05:00 [Error] Connection id ""0HNB14U9CSGV2"", Request id ""0HNB14U9CSGV2:00000037"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 115
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 10:42:46.940 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 318.4533ms
2025-03-12 10:42:46.948 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 105
2025-03-12 10:42:46.950 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:42:46.950 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:46.951 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:42:46.966 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:42:46.968 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:42:46.969 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 10:42:47.232 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 279.2166ms
2025-03-12 10:42:47.233 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:47.234 +05:00 [Error] Connection id ""0HNB14U9CSGV2"", Request id ""0HNB14U9CSGV2:00000038"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 115
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 10:42:47.249 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 301.7ms
2025-03-12 10:42:47.258 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 105
2025-03-12 10:42:47.260 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:42:47.261 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:47.262 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:42:47.276 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:42:47.279 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:42:47.280 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 10:42:47.585 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 321.1449ms
2025-03-12 10:42:47.586 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:47.587 +05:00 [Error] Connection id ""0HNB14U9CSGV2"", Request id ""0HNB14U9CSGV2:00000039"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 115
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 10:42:47.603 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 345.639ms
2025-03-12 10:42:47.620 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 105
2025-03-12 10:42:47.622 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:42:47.623 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:47.625 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:42:47.641 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:42:47.643 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:42:47.645 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 10:42:47.940 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 313.4921ms
2025-03-12 10:42:47.942 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:47.943 +05:00 [Error] Connection id ""0HNB14U9CSGV2"", Request id ""0HNB14U9CSGV2:0000003A"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 115
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 10:42:47.958 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 338.4072ms
2025-03-12 10:42:47.965 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 105
2025-03-12 10:42:47.967 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:42:47.968 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:47.969 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:42:47.982 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:42:47.984 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:42:47.985 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 10:42:48.246 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 276.227ms
2025-03-12 10:42:48.248 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:48.249 +05:00 [Error] Connection id ""0HNB14U9CSGV2"", Request id ""0HNB14U9CSGV2:0000003B"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 115
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 10:42:48.261 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 295.405ms
2025-03-12 10:42:48.268 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 105
2025-03-12 10:42:48.270 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:42:48.270 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:48.271 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:42:48.283 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:42:48.286 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:42:48.287 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 10:42:48.541 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 268.2356ms
2025-03-12 10:42:48.543 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:48.544 +05:00 [Error] Connection id ""0HNB14U9CSGV2"", Request id ""0HNB14U9CSGV2:0000003C"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 115
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 10:42:48.555 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 287.0345ms
2025-03-12 10:42:48.562 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 105
2025-03-12 10:42:48.564 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:42:48.565 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:48.567 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:42:48.579 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:42:48.582 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:42:48.583 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 10:42:48.854 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 285.8209ms
2025-03-12 10:42:48.856 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:48.857 +05:00 [Error] Connection id ""0HNB14U9CSGV2"", Request id ""0HNB14U9CSGV2:0000003D"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 115
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 10:42:48.873 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 310.4801ms
2025-03-12 10:42:48.882 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 105
2025-03-12 10:42:48.884 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:42:48.885 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:48.886 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:42:48.901 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:42:48.904 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:42:48.905 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 10:42:49.271 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 383.6541ms
2025-03-12 10:42:49.273 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:49.274 +05:00 [Error] Connection id ""0HNB14U9CSGV2"", Request id ""0HNB14U9CSGV2:0000003E"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 115
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 10:42:49.285 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 403.045ms
2025-03-12 10:42:49.292 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 105
2025-03-12 10:42:49.294 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:42:49.295 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:49.296 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:42:49.308 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:42:49.311 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:42:49.312 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 10:42:49.647 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 350.0294ms
2025-03-12 10:42:49.649 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:49.650 +05:00 [Error] Connection id ""0HNB14U9CSGV2"", Request id ""0HNB14U9CSGV2:0000003F"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 115
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 10:42:49.669 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 376.8703ms
2025-03-12 10:42:49.680 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - null null
2025-03-12 10:42:49.683 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:42:49.684 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 204 null null 4.1277ms
2025-03-12 10:42:49.687 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 105
2025-03-12 10:42:49.690 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:42:49.691 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:49.692 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:42:49.707 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:42:49.709 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:42:49.710 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 10:42:50.001 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 307.727ms
2025-03-12 10:42:50.002 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:50.004 +05:00 [Error] Connection id ""0HNB14U9CSGV2"", Request id ""0HNB14U9CSGV2:00000041"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 115
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 10:42:50.017 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 329.7269ms
2025-03-12 10:42:50.026 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 105
2025-03-12 10:42:50.028 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:42:50.029 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:50.031 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:42:50.044 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:42:50.047 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:42:50.048 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 10:42:50.306 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 273.9212ms
2025-03-12 10:42:50.307 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:50.308 +05:00 [Error] Connection id ""0HNB14U9CSGV2"", Request id ""0HNB14U9CSGV2:00000042"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 115
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 10:42:50.322 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 296.0613ms
2025-03-12 10:42:50.331 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 105
2025-03-12 10:42:50.333 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:42:50.334 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:50.335 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:42:50.350 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:42:50.352 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:42:50.353 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 10:42:50.625 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 288.0501ms
2025-03-12 10:42:50.626 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:50.627 +05:00 [Error] Connection id ""0HNB14U9CSGV2"", Request id ""0HNB14U9CSGV2:00000043"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 115
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 10:42:50.639 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 307.7738ms
2025-03-12 10:42:50.647 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 105
2025-03-12 10:42:50.649 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:42:50.649 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:50.650 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:42:50.664 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:42:50.667 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:42:50.668 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 10:42:50.934 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 282.5042ms
2025-03-12 10:42:50.936 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:50.937 +05:00 [Error] Connection id ""0HNB14U9CSGV2"", Request id ""0HNB14U9CSGV2:00000044"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 115
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 10:42:50.951 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 304.1002ms
2025-03-12 10:42:50.958 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 105
2025-03-12 10:42:50.960 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:42:50.960 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:50.962 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:42:50.974 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:42:50.977 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:42:50.977 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 10:42:51.290 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 326.9884ms
2025-03-12 10:42:51.291 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:51.292 +05:00 [Error] Connection id ""0HNB14U9CSGV2"", Request id ""0HNB14U9CSGV2:00000045"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 115
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 10:42:51.306 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 347.8787ms
2025-03-12 10:42:51.313 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 105
2025-03-12 10:42:51.315 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:42:51.316 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:51.317 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:42:51.332 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:42:51.335 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:42:51.336 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 10:42:51.583 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 263.6993ms
2025-03-12 10:42:51.586 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:51.587 +05:00 [Error] Connection id ""0HNB14U9CSGV2"", Request id ""0HNB14U9CSGV2:00000046"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 115
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 10:42:51.602 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 288.2343ms
2025-03-12 10:42:51.609 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 105
2025-03-12 10:42:51.611 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:42:51.612 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:51.613 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:42:51.626 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:42:51.628 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:42:51.629 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 10:42:51.907 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 292.9056ms
2025-03-12 10:42:51.908 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:51.910 +05:00 [Error] Connection id ""0HNB14U9CSGV2"", Request id ""0HNB14U9CSGV2:00000047"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 115
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 10:42:51.923 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 313.3953ms
2025-03-12 10:42:51.930 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 105
2025-03-12 10:42:51.931 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:42:51.932 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:51.933 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:42:51.946 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:42:51.950 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:42:51.958 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 10:42:52.234 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 299.1872ms
2025-03-12 10:42:52.235 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:52.236 +05:00 [Error] Connection id ""0HNB14U9CSGV2"", Request id ""0HNB14U9CSGV2:00000048"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 115
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 10:42:52.250 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 320.0314ms
2025-03-12 10:42:52.256 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 105
2025-03-12 10:42:52.258 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:42:52.259 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:52.259 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:42:52.271 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:42:52.274 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:42:52.274 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 10:42:52.539 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 278.4713ms
2025-03-12 10:42:52.540 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:52.541 +05:00 [Error] Connection id ""0HNB14U9CSGV2"", Request id ""0HNB14U9CSGV2:00000049"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 115
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 10:42:52.555 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 298.7764ms
2025-03-12 10:42:52.562 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 105
2025-03-12 10:42:52.564 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:42:52.564 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:52.565 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:42:52.579 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:42:52.581 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:42:52.582 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 10:42:52.845 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 278.4967ms
2025-03-12 10:42:52.847 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:52.848 +05:00 [Error] Connection id ""0HNB14U9CSGV2"", Request id ""0HNB14U9CSGV2:0000004A"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 115
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 10:42:52.860 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 297.9522ms
2025-03-12 10:42:52.867 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 105
2025-03-12 10:42:52.869 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:42:52.869 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:52.870 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:42:52.884 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:42:52.887 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:42:52.888 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 10:42:53.169 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 297.2716ms
2025-03-12 10:42:53.170 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:53.171 +05:00 [Error] Connection id ""0HNB14U9CSGV2"", Request id ""0HNB14U9CSGV2:0000004B"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 115
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 10:42:53.184 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 317.2458ms
2025-03-12 10:42:53.192 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 105
2025-03-12 10:42:53.194 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:42:53.195 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:53.196 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:42:53.211 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:42:53.214 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:42:53.215 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 10:42:53.496 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 298.8187ms
2025-03-12 10:42:53.498 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:53.499 +05:00 [Error] Connection id ""0HNB14U9CSGV2"", Request id ""0HNB14U9CSGV2:0000004C"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 115
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 10:42:53.511 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 319.4117ms
2025-03-12 10:42:53.518 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 105
2025-03-12 10:42:53.521 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:42:53.522 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:53.523 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:42:53.539 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:42:53.542 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:42:53.543 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 10:42:53.813 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 288.7811ms
2025-03-12 10:42:53.815 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:53.816 +05:00 [Error] Connection id ""0HNB14U9CSGV2"", Request id ""0HNB14U9CSGV2:0000004D"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 115
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 10:42:53.828 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 309.3092ms
2025-03-12 10:42:53.835 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 105
2025-03-12 10:42:53.836 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:42:53.837 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:53.838 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:42:53.852 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:42:53.862 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:42:53.863 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 10:42:54.111 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 271.2343ms
2025-03-12 10:42:54.112 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:54.114 +05:00 [Error] Connection id ""0HNB14U9CSGV2"", Request id ""0HNB14U9CSGV2:0000004E"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 115
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 10:42:54.129 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 294.0748ms
2025-03-12 10:42:54.137 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 105
2025-03-12 10:42:54.139 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:42:54.140 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:54.141 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:42:54.156 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:42:54.158 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:42:54.159 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 10:42:54.439 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 296.9322ms
2025-03-12 10:42:54.441 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:54.442 +05:00 [Error] Connection id ""0HNB14U9CSGV2"", Request id ""0HNB14U9CSGV2:0000004F"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 115
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 10:42:54.455 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 317.6041ms
2025-03-12 10:42:54.464 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 105
2025-03-12 10:42:54.467 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:42:54.468 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:54.469 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:42:54.483 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:42:54.487 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:42:54.489 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 10:42:54.757 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 286.6262ms
2025-03-12 10:42:54.758 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:54.759 +05:00 [Error] Connection id ""0HNB14U9CSGV2"", Request id ""0HNB14U9CSGV2:00000050"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 115
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 10:42:54.773 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 308.8877ms
2025-03-12 10:42:54.783 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - null null
2025-03-12 10:42:54.786 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:42:54.787 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 204 null null 3.8251ms
2025-03-12 10:42:54.791 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 105
2025-03-12 10:42:54.793 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:42:54.794 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:54.795 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:42:54.810 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:42:54.813 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:42:54.814 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 10:42:55.094 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 297.8885ms
2025-03-12 10:42:55.096 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:55.097 +05:00 [Error] Connection id ""0HNB14U9CSGV2"", Request id ""0HNB14U9CSGV2:00000052"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 115
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 10:42:55.109 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 318.6427ms
2025-03-12 10:42:55.118 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 105
2025-03-12 10:42:55.120 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:42:55.121 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:55.122 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:42:55.138 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:42:55.142 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:42:55.143 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 10:42:55.421 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 297.769ms
2025-03-12 10:42:55.422 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:55.424 +05:00 [Error] Connection id ""0HNB14U9CSGV2"", Request id ""0HNB14U9CSGV2:00000053"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 115
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 10:42:55.437 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 318.6758ms
2025-03-12 10:42:55.445 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 105
2025-03-12 10:42:55.448 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:42:55.448 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:55.450 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:42:55.464 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:42:55.467 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:42:55.469 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 10:42:55.740 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 288.5216ms
2025-03-12 10:42:55.741 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:55.742 +05:00 [Error] Connection id ""0HNB14U9CSGV2"", Request id ""0HNB14U9CSGV2:00000054"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 115
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 10:42:55.754 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 309.5871ms
2025-03-12 10:42:55.762 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 105
2025-03-12 10:42:55.764 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:42:55.764 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:55.765 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:42:55.779 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:42:55.781 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:42:55.783 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 10:42:56.059 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 291.9804ms
2025-03-12 10:42:56.060 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:56.062 +05:00 [Error] Connection id ""0HNB14U9CSGV2"", Request id ""0HNB14U9CSGV2:00000055"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 115
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 10:42:56.076 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 314.5647ms
2025-03-12 10:42:56.086 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 105
2025-03-12 10:42:56.088 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:42:56.089 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:56.090 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:42:56.103 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:42:56.106 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:42:56.107 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 10:42:56.367 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 275.8982ms
2025-03-12 10:42:56.369 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:56.370 +05:00 [Error] Connection id ""0HNB14U9CSGV2"", Request id ""0HNB14U9CSGV2:00000056"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 115
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 10:42:56.382 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 296.5019ms
2025-03-12 10:42:56.390 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 105
2025-03-12 10:42:56.392 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:42:56.392 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:56.393 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:42:56.408 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:42:56.411 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:42:56.419 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 10:42:56.727 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 333.1183ms
2025-03-12 10:42:56.729 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:56.730 +05:00 [Error] Connection id ""0HNB14U9CSGV2"", Request id ""0HNB14U9CSGV2:00000057"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 115
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 10:42:56.745 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 354.9333ms
2025-03-12 10:42:56.753 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 105
2025-03-12 10:42:56.754 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:42:56.755 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:56.756 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:42:56.771 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:42:56.774 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:42:56.775 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 10:42:57.085 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 327.3264ms
2025-03-12 10:42:57.086 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:57.087 +05:00 [Error] Connection id ""0HNB14U9CSGV2"", Request id ""0HNB14U9CSGV2:00000058"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 115
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 10:42:57.099 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 346.5048ms
2025-03-12 10:42:57.107 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 105
2025-03-12 10:42:57.109 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:42:57.110 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:57.111 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:42:57.127 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:42:57.131 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:42:57.133 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 10:42:57.399 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 284.2292ms
2025-03-12 10:42:57.400 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:57.401 +05:00 [Error] Connection id ""0HNB14U9CSGV2"", Request id ""0HNB14U9CSGV2:00000059"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 115
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 10:42:57.414 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 306.6606ms
2025-03-12 10:42:57.421 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 105
2025-03-12 10:42:57.423 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:42:57.424 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:57.425 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:42:57.439 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:42:57.441 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:42:57.442 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 10:42:57.714 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 287.3864ms
2025-03-12 10:42:57.715 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:57.716 +05:00 [Error] Connection id ""0HNB14U9CSGV2"", Request id ""0HNB14U9CSGV2:0000005A"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 115
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 10:42:57.728 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 307.41ms
2025-03-12 10:42:57.736 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 105
2025-03-12 10:42:57.738 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:42:57.738 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:57.739 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:42:57.752 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:42:57.755 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:42:57.755 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 10:42:58.073 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 332.2716ms
2025-03-12 10:42:58.074 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:58.075 +05:00 [Error] Connection id ""0HNB14U9CSGV2"", Request id ""0HNB14U9CSGV2:0000005B"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 115
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 10:42:58.086 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 350.5837ms
2025-03-12 10:42:58.094 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 105
2025-03-12 10:42:58.096 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:42:58.096 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:58.097 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:42:58.110 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:42:58.113 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:42:58.114 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 10:42:58.359 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 260.9051ms
2025-03-12 10:42:58.360 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:58.363 +05:00 [Error] Connection id ""0HNB14U9CSGV2"", Request id ""0HNB14U9CSGV2:0000005C"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 115
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 10:42:58.374 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 280.6385ms
2025-03-12 10:42:58.382 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 105
2025-03-12 10:42:58.383 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:42:58.384 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:58.384 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:42:58.397 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:42:58.399 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:42:58.400 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 10:42:58.687 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 300.986ms
2025-03-12 10:42:58.689 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:58.690 +05:00 [Error] Connection id ""0HNB14U9CSGV2"", Request id ""0HNB14U9CSGV2:0000005D"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 115
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 10:42:58.705 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 323.3595ms
2025-03-12 10:42:58.713 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 105
2025-03-12 10:42:58.715 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:42:58.716 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:58.718 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:42:58.734 +05:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:42:58.737 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:42:58.738 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 10:42:59.145 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 425.1875ms
2025-03-12 10:42:59.146 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:59.147 +05:00 [Error] Connection id ""0HNB14U9CSGV2"", Request id ""0HNB14U9CSGV2:0000005E"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 115
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 10:42:59.163 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 449.4341ms
2025-03-12 10:42:59.173 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 105
2025-03-12 10:42:59.176 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:42:59.177 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:59.178 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:42:59.193 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:42:59.196 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:42:59.197 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 10:42:59.819 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 640.1473ms
2025-03-12 10:42:59.824 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:59.827 +05:00 [Error] Connection id ""0HNB14U9CSGV2"", Request id ""0HNB14U9CSGV2:0000005F"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 115
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 10:42:59.908 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 735.4854ms
2025-03-12 10:42:59.927 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - null null
2025-03-12 10:42:59.931 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:42:59.941 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 204 null null 14.0256ms
2025-03-12 10:42:59.959 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 105
2025-03-12 10:42:59.962 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:42:59.964 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:42:59.967 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:43:00.014 +05:00 [Information] Executed DbCommand ("8"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:43:00.045 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:43:00.050 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 10:43:00.523 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 540.0002ms
2025-03-12 10:43:00.525 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:43:00.527 +05:00 [Error] Connection id ""0HNB14U9CSGV2"", Request id ""0HNB14U9CSGV2:00000061"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 115
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 10:43:00.543 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 499 null null 584.193ms
2025-03-12 10:43:02.312 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - null null
2025-03-12 10:43:02.316 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:43:02.318 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - 204 null null 5.3074ms
2025-03-12 10:43:02.329 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - "application/json" null
2025-03-12 10:43:02.333 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:43:02.335 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)"'
2025-03-12 10:43:02.337 +05:00 [Information] Route matched with "{action = \"GetOrganizations\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrganizations()" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 10:43:02.356 +05:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:43:02.359 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:43:02.360 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 10:43:02.363 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 2.7348ms.
2025-03-12 10:43:02.365 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Organization[]"'.
2025-03-12 10:43:02.368 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)" in 28.9632ms
2025-03-12 10:43:02.369 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)"'
2025-03-12 10:43:02.372 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - 200 null "application/json; charset=utf-8" 43.4141ms
2025-03-12 10:43:02.975 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - null null
2025-03-12 10:43:02.979 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:43:02.980 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - 204 null null 4.4825ms
2025-03-12 10:43:02.983 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - "application/json" null
2025-03-12 10:43:02.985 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:43:02.986 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)"'
2025-03-12 10:43:02.986 +05:00 [Information] Route matched with "{action = \"GetUsers\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 10:43:02.999 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:43:03.002 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:43:03.003 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 10:43:03.005 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 2.2437ms.
2025-03-12 10:43:03.008 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.User[]"'.
2025-03-12 10:43:03.009 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)" in 21.8165ms
2025-03-12 10:43:03.011 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)"'
2025-03-12 10:43:03.012 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - 200 null "application/json; charset=utf-8" 28.9016ms
2025-03-12 10:43:03.243 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - null null
2025-03-12 10:43:03.245 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:43:03.246 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - 204 null null 3.3273ms
2025-03-12 10:43:03.251 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - "application/json" null
2025-03-12 10:43:03.253 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:43:03.253 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)"'
2025-03-12 10:43:03.254 +05:00 [Information] Route matched with "{action = \"GetCardiographs\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiographs(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 10:43:03.269 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:43:03.272 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:43:03.273 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 10:43:03.277 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3.7922ms.
2025-03-12 10:43:03.279 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Cardiograph[]"'.
2025-03-12 10:43:03.281 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)" in 25.1559ms
2025-03-12 10:43:03.282 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)"'
2025-03-12 10:43:03.285 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - 200 null "application/json; charset=utf-8" 33.9256ms
2025-03-12 10:43:03.605 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - null null
2025-03-12 10:43:03.608 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:43:03.609 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - 204 null null 3.8522ms
2025-03-12 10:43:03.613 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - "application/json" null
2025-03-12 10:43:03.616 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:43:03.617 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)"'
2025-03-12 10:43:03.618 +05:00 [Information] Route matched with "{action = \"GetCardiograms\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiograms(System.String)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 10:43:03.637 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:43:03.640 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:43:03.641 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 10:43:03.644 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 2.3076ms.
2025-03-12 10:43:03.645 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Cardiogram[]"'.
2025-03-12 10:43:03.646 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)" in 26.49ms
2025-03-12 10:43:03.648 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)"'
2025-03-12 10:43:03.649 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - 200 null "application/json; charset=utf-8" 35.512ms
2025-03-12 10:43:04.085 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - null null
2025-03-12 10:43:04.086 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:43:04.087 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 204 null null 2.86ms
2025-03-12 10:43:04.091 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - "application/json" null
2025-03-12 10:43:04.093 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:43:04.094 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)"'
2025-03-12 10:43:04.095 +05:00 [Information] Route matched with "{action = \"GetCardiogram\", controller = \"Cardiogram\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiogram(System.Guid)" on controller "KpoApi.Presentation.Controllers.CardiogramController" ("KpoApi.Presentation").
2025-03-12 10:43:04.107 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:43:04.109 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:43:04.110 +05:00 [Information] Поступил запрос на получение всей информации по кардиограмме
2025-03-12 10:43:04.113 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 2.9089ms.
2025-03-12 10:43:04.114 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Application.Models.Data.EntireCardiogramModel"'.
2025-03-12 10:43:04.115 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)" in 19.4655ms
2025-03-12 10:43:04.116 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)"'
2025-03-12 10:43:04.117 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 200 null "application/json; charset=utf-8" 26.7559ms
2025-03-12 10:43:04.135 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - null null
2025-03-12 10:43:04.136 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:43:04.137 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 204 null null 2.7581ms
2025-03-12 10:43:04.141 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - "application/json" null
2025-03-12 10:43:04.142 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:43:04.144 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)"'
2025-03-12 10:43:04.145 +05:00 [Information] Route matched with "{action = \"GetUsersByCardiograms\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByCardiograms(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 10:43:04.159 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:43:04.161 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:43:04.162 +05:00 [Information] Поступил запрос на получение пользователей по кардиограмме
2025-03-12 10:43:04.166 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3.2532ms.
2025-03-12 10:43:04.167 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.User[]"'.
2025-03-12 10:43:04.169 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)" in 22.8968ms
2025-03-12 10:43:04.171 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)"'
2025-03-12 10:43:04.174 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 200 null "application/json; charset=utf-8" 33.5438ms
2025-03-12 10:43:04.922 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 669
2025-03-12 10:43:04.925 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:43:04.926 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:43:04.927 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:43:04.946 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:43:04.950 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:43:04.951 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 10:43:05.275 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 345.5305ms
2025-03-12 10:43:05.277 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:43:05.278 +05:00 [Error] Connection id ""0HNB14U9CSGV4"", Request id ""0HNB14U9CSGV4:0000000D"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 115
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 10:43:05.289 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 367.0521ms
2025-03-12 10:43:05.300 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - null null
2025-03-12 10:43:05.302 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:43:05.303 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 204 null null 3.1681ms
2025-03-12 10:43:05.307 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 105
2025-03-12 10:43:05.309 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:43:05.311 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:43:05.312 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:43:05.325 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:43:05.327 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:43:05.329 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 10:43:05.595 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 282.4724ms
2025-03-12 10:43:05.597 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:43:05.598 +05:00 [Error] Connection id ""0HNB14U9CSGV4"", Request id ""0HNB14U9CSGV4:0000000F"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 115
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 10:43:05.612 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 304.9994ms
2025-03-12 10:43:05.620 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 105
2025-03-12 10:43:05.622 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:43:05.622 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:43:05.623 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:43:05.637 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:43:05.639 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:43:05.640 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 10:43:05.891 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 265.5278ms
2025-03-12 10:43:05.892 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:43:05.893 +05:00 [Error] Connection id ""0HNB14U9CSGV4"", Request id ""0HNB14U9CSGV4:00000010"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 115
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 10:43:05.905 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 285.1828ms
2025-03-12 10:43:05.913 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 105
2025-03-12 10:43:05.915 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:43:05.916 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:43:05.917 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:43:05.932 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:43:05.934 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:43:05.935 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 10:43:06.201 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 282.8517ms
2025-03-12 10:43:06.202 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:43:06.204 +05:00 [Error] Connection id ""0HNB14U9CSGV4"", Request id ""0HNB14U9CSGV4:00000011"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 115
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 10:43:06.215 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 302.2825ms
2025-03-12 10:43:06.223 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 105
2025-03-12 10:43:06.225 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:43:06.226 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:43:06.227 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:43:06.240 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:43:06.243 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:43:06.244 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 10:43:06.512 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 283.6108ms
2025-03-12 10:43:06.513 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:43:06.515 +05:00 [Error] Connection id ""0HNB14U9CSGV4"", Request id ""0HNB14U9CSGV4:00000012"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 115
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 10:43:06.537 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 314.4555ms
2025-03-12 10:43:06.552 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 105
2025-03-12 10:43:06.554 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:43:06.555 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:43:06.556 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:43:06.574 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:43:06.578 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:43:06.580 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 10:43:06.845 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 286.5372ms
2025-03-12 10:43:06.846 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:43:06.847 +05:00 [Error] Connection id ""0HNB14U9CSGV4"", Request id ""0HNB14U9CSGV4:00000013"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 115
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 10:43:06.859 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 307.6629ms
2025-03-12 10:43:06.867 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 105
2025-03-12 10:43:06.869 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:43:06.870 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:43:06.871 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:43:06.884 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:43:06.887 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:43:06.888 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 10:43:07.110 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 238.0418ms
2025-03-12 10:43:07.112 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:43:07.113 +05:00 [Error] Connection id ""0HNB14U9CSGV4"", Request id ""0HNB14U9CSGV4:00000014"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 115
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 10:43:07.124 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 257.0185ms
2025-03-12 10:43:07.133 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 105
2025-03-12 10:43:07.135 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:43:07.137 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:43:07.138 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:43:07.152 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:43:07.155 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:43:07.155 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 10:43:07.385 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 246.0529ms
2025-03-12 10:43:07.386 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:43:07.387 +05:00 [Error] Connection id ""0HNB14U9CSGV4"", Request id ""0HNB14U9CSGV4:00000015"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 115
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 10:43:07.400 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 266.4585ms
2025-03-12 10:43:07.408 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 105
2025-03-12 10:43:07.410 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:43:07.411 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:43:07.412 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:43:07.425 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:43:07.427 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:43:07.428 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 10:43:07.645 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 232.5193ms
2025-03-12 10:43:07.646 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:43:07.647 +05:00 [Error] Connection id ""0HNB14U9CSGV4"", Request id ""0HNB14U9CSGV4:00000016"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 115
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 10:43:07.661 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 252.9771ms
2025-03-12 10:43:07.669 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 105
2025-03-12 10:43:07.671 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:43:07.672 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:43:07.673 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:43:07.686 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:43:07.689 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:43:07.690 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 10:43:07.919 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 245.2095ms
2025-03-12 10:43:07.920 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:43:07.922 +05:00 [Error] Connection id ""0HNB14U9CSGV4"", Request id ""0HNB14U9CSGV4:00000017"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 115
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 10:43:07.933 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 263.3415ms
2025-03-12 10:43:07.940 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 105
2025-03-12 10:43:07.942 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:43:07.943 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:43:07.944 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:43:07.957 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:43:07.960 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:43:07.961 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 10:43:08.183 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 237.5022ms
2025-03-12 10:43:08.184 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:43:08.186 +05:00 [Error] Connection id ""0HNB14U9CSGV4"", Request id ""0HNB14U9CSGV4:00000018"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 115
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 10:43:08.197 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 256.7377ms
2025-03-12 10:43:08.205 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 105
2025-03-12 10:43:08.207 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:43:08.208 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:43:08.209 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:43:08.222 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:43:08.224 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:43:08.226 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 10:43:08.460 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 249.7719ms
2025-03-12 10:43:08.462 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:43:08.464 +05:00 [Error] Connection id ""0HNB14U9CSGV4"", Request id ""0HNB14U9CSGV4:00000019"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 115
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 10:43:08.476 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 270.8456ms
2025-03-12 10:43:08.484 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 105
2025-03-12 10:43:08.485 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:43:08.486 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:43:08.487 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:43:08.500 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:43:08.502 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:43:08.503 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 10:43:08.732 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 244.1832ms
2025-03-12 10:43:08.734 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:43:08.736 +05:00 [Error] Connection id ""0HNB14U9CSGV4"", Request id ""0HNB14U9CSGV4:0000001A"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 115
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 10:43:08.747 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 262.731ms
2025-03-12 10:43:08.754 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 105
2025-03-12 10:43:08.756 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:43:08.757 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:43:08.758 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:43:08.771 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:43:08.774 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:43:08.775 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 10:43:09.000 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 241.3843ms
2025-03-12 10:43:09.002 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:43:09.003 +05:00 [Error] Connection id ""0HNB14U9CSGV4"", Request id ""0HNB14U9CSGV4:0000001B"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 115
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 10:43:09.015 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 260.4975ms
2025-03-12 10:43:09.023 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 105
2025-03-12 10:43:09.025 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:43:09.026 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:43:09.027 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:43:09.041 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:43:09.043 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:43:09.044 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 10:43:09.296 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 266.6292ms
2025-03-12 10:43:09.297 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:43:09.299 +05:00 [Error] Connection id ""0HNB14U9CSGV4"", Request id ""0HNB14U9CSGV4:0000001C"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 115
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 10:43:09.315 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 291.8154ms
2025-03-12 10:43:09.323 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 105
2025-03-12 10:43:09.326 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:43:09.326 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:43:09.327 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:43:09.342 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:43:09.345 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:43:09.346 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 10:43:09.622 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 293.2428ms
2025-03-12 10:43:09.623 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:43:09.624 +05:00 [Error] Connection id ""0HNB14U9CSGV4"", Request id ""0HNB14U9CSGV4:0000001D"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 115
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 10:43:09.636 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 313.1718ms
2025-03-12 10:43:09.644 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 105
2025-03-12 10:43:09.645 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:43:09.646 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:43:09.647 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:43:09.660 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:43:09.663 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:43:09.664 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 10:43:09.908 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 259.5574ms
2025-03-12 10:43:09.910 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:43:09.911 +05:00 [Error] Connection id ""0HNB14U9CSGV4"", Request id ""0HNB14U9CSGV4:0000001E"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 115
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 10:43:09.924 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 280.8519ms
2025-03-12 10:43:09.932 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 105
2025-03-12 10:43:09.933 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:43:09.934 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:43:09.935 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:43:09.947 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:43:09.950 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:43:09.951 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 10:43:10.196 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 260.207ms
2025-03-12 10:43:10.197 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:43:10.199 +05:00 [Error] Connection id ""0HNB14U9CSGV4"", Request id ""0HNB14U9CSGV4:0000001F"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 115
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 10:43:10.214 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 282.4035ms
2025-03-12 10:43:10.222 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 105
2025-03-12 10:43:10.224 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:43:10.225 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:43:10.226 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:43:10.240 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:43:10.243 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:43:10.244 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 10:43:10.487 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 259.6134ms
2025-03-12 10:43:10.488 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:43:10.489 +05:00 [Error] Connection id ""0HNB14U9CSGV4"", Request id ""0HNB14U9CSGV4:00000020"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 115
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 10:43:10.500 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 278.3641ms
2025-03-12 10:43:10.509 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - null null
2025-03-12 10:43:10.511 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:43:10.512 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 204 null null 2.9495ms
2025-03-12 10:43:10.515 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 105
2025-03-12 10:43:10.516 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:43:10.517 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:43:10.518 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:43:10.531 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:43:10.534 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:43:10.534 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 10:43:10.761 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 241.9041ms
2025-03-12 10:43:10.763 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:43:10.764 +05:00 [Error] Connection id ""0HNB14U9CSGV4"", Request id ""0HNB14U9CSGV4:00000022"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 115
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 10:43:10.779 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 263.8912ms
2025-03-12 10:43:10.786 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 105
2025-03-12 10:43:10.788 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:43:10.789 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:43:10.790 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:43:10.811 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:43:10.813 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:43:10.814 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 10:43:11.057 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 258.3292ms
2025-03-12 10:43:11.058 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:43:11.059 +05:00 [Error] Connection id ""0HNB14U9CSGV4"", Request id ""0HNB14U9CSGV4:00000023"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 115
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 10:43:11.073 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 287.0637ms
2025-03-12 10:43:11.081 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 105
2025-03-12 10:43:11.083 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:43:11.084 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:43:11.085 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:43:11.100 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:43:11.103 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:43:11.104 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 10:43:11.337 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 251.0791ms
2025-03-12 10:43:11.339 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:43:11.340 +05:00 [Error] Connection id ""0HNB14U9CSGV4"", Request id ""0HNB14U9CSGV4:00000024"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 115
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 10:43:11.352 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 271.3769ms
2025-03-12 10:43:11.360 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 105
2025-03-12 10:43:11.362 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:43:11.362 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:43:11.363 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:43:11.376 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:43:11.380 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:43:11.381 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 10:43:11.620 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 255.4904ms
2025-03-12 10:43:11.621 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:43:11.622 +05:00 [Error] Connection id ""0HNB14U9CSGV4"", Request id ""0HNB14U9CSGV4:00000025"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 115
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 10:43:11.635 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 275.3884ms
2025-03-12 10:43:11.644 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 105
2025-03-12 10:43:11.645 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:43:11.646 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:43:11.647 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:43:11.661 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:43:11.664 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:43:11.665 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 10:43:11.891 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 242.2066ms
2025-03-12 10:43:11.892 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:43:11.893 +05:00 [Error] Connection id ""0HNB14U9CSGV4"", Request id ""0HNB14U9CSGV4:00000026"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 115
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 10:43:11.904 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 260.5737ms
2025-03-12 10:43:11.911 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 105
2025-03-12 10:43:11.913 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:43:11.913 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:43:11.914 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:43:11.926 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:43:11.929 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:43:11.930 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 10:43:12.212 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 296.5883ms
2025-03-12 10:43:12.213 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:43:12.214 +05:00 [Error] Connection id ""0HNB14U9CSGV4"", Request id ""0HNB14U9CSGV4:00000027"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 115
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 10:43:12.228 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 317.4439ms
2025-03-12 10:43:12.236 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 105
2025-03-12 10:43:12.238 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:43:12.238 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:43:12.239 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:43:12.253 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:43:12.256 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:43:12.257 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 10:43:12.483 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 242.3912ms
2025-03-12 10:43:12.485 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:43:12.486 +05:00 [Error] Connection id ""0HNB14U9CSGV4"", Request id ""0HNB14U9CSGV4:00000028"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 115
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 10:43:12.502 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 266.3002ms
2025-03-12 10:43:12.518 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 105
2025-03-12 10:43:12.520 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:43:12.521 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:43:12.522 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:43:12.537 +05:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:43:12.539 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:43:12.540 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 10:43:12.797 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 274.1384ms
2025-03-12 10:43:12.799 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:43:12.800 +05:00 [Error] Connection id ""0HNB14U9CSGV4"", Request id ""0HNB14U9CSGV4:00000029"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 115
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 10:43:12.813 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 295.3877ms
2025-03-12 10:43:12.822 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 105
2025-03-12 10:43:12.825 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:43:12.826 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:43:12.827 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:43:12.841 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:43:12.845 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:43:12.845 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 10:43:13.076 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 248.0772ms
2025-03-12 10:43:13.078 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:43:13.079 +05:00 [Error] Connection id ""0HNB14U9CSGV4"", Request id ""0HNB14U9CSGV4:0000002A"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 115
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 10:43:13.093 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 270.894ms
2025-03-12 10:43:13.101 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 105
2025-03-12 10:43:13.102 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:43:13.103 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:43:13.104 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:43:13.116 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:43:13.119 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:43:13.120 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 10:43:13.358 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 253.1059ms
2025-03-12 10:43:13.361 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:43:13.366 +05:00 [Error] Connection id ""0HNB14U9CSGV4"", Request id ""0HNB14U9CSGV4:0000002B"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 115
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 10:43:13.390 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 289.8703ms
2025-03-12 10:43:13.404 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 105
2025-03-12 10:43:13.408 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:43:13.409 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:43:13.410 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:43:13.429 +05:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:43:13.433 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:43:13.434 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 10:43:13.717 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 304.7774ms
2025-03-12 10:43:13.718 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:43:13.719 +05:00 [Error] Connection id ""0HNB14U9CSGV4"", Request id ""0HNB14U9CSGV4:0000002C"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 115
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 10:43:13.733 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 328.3099ms
2025-03-12 10:43:13.740 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 105
2025-03-12 10:43:13.742 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:43:13.743 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:43:13.743 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:43:13.756 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:43:13.759 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:43:13.760 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 10:43:14.004 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 259.9367ms
2025-03-12 10:43:14.006 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:43:14.007 +05:00 [Error] Connection id ""0HNB14U9CSGV4"", Request id ""0HNB14U9CSGV4:0000002D"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 115
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 10:43:14.018 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 278.2597ms
2025-03-12 10:43:14.025 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 105
2025-03-12 10:43:14.027 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:43:14.028 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:43:14.029 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:43:14.042 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:43:14.044 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:43:14.045 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 10:43:14.291 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 261.0382ms
2025-03-12 10:43:14.292 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:43:14.293 +05:00 [Error] Connection id ""0HNB14U9CSGV4"", Request id ""0HNB14U9CSGV4:0000002E"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 115
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 10:43:14.305 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 279.6347ms
2025-03-12 10:43:14.312 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 105
2025-03-12 10:43:14.314 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:43:14.314 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:43:14.315 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:43:14.329 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:43:14.331 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:43:14.332 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 10:43:14.671 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 354.5046ms
2025-03-12 10:43:14.672 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:43:14.673 +05:00 [Error] Connection id ""0HNB14U9CSGV4"", Request id ""0HNB14U9CSGV4:0000002F"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 115
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 10:43:14.689 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 376.8317ms
2025-03-12 10:43:14.696 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 105
2025-03-12 10:43:14.698 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:43:14.699 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:43:14.701 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:43:14.713 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:43:14.716 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:43:14.717 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 10:43:15.088 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 386.0664ms
2025-03-12 10:43:15.089 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:43:15.090 +05:00 [Error] Connection id ""0HNB14U9CSGV4"", Request id ""0HNB14U9CSGV4:00000030"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 115
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 10:43:15.104 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 407.475ms
2025-03-12 10:43:15.112 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 105
2025-03-12 10:43:15.114 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:43:15.115 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:43:15.116 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:43:15.132 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:43:15.135 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:43:15.136 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 10:43:15.701 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 583.3271ms
2025-03-12 10:43:15.711 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:43:15.713 +05:00 [Error] Connection id ""0HNB14U9CSGV4"", Request id ""0HNB14U9CSGV4:00000031"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 115
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 10:43:15.737 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 499 null null 624.4733ms
2025-03-12 10:43:17.236 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - null null
2025-03-12 10:43:17.239 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:43:17.240 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - 204 null null 4.2841ms
2025-03-12 10:43:17.244 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - "application/json" null
2025-03-12 10:43:17.246 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:43:17.247 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)"'
2025-03-12 10:43:17.248 +05:00 [Information] Route matched with "{action = \"GetOrganizations\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrganizations()" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 10:43:17.265 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:43:17.269 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:43:17.271 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 10:43:17.273 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 2.8914ms.
2025-03-12 10:43:17.275 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Organization[]"'.
2025-03-12 10:43:17.277 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)" in 26.8346ms
2025-03-12 10:43:17.278 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)"'
2025-03-12 10:43:17.280 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - 200 null "application/json; charset=utf-8" 36.4203ms
2025-03-12 10:43:18.807 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - null null
2025-03-12 10:43:18.810 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:43:18.811 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - 204 null null 4.0641ms
2025-03-12 10:43:18.814 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - "application/json" null
2025-03-12 10:43:18.817 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:43:18.818 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)"'
2025-03-12 10:43:18.818 +05:00 [Information] Route matched with "{action = \"GetUsers\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 10:43:18.835 +05:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:43:18.838 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:43:18.839 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 10:43:18.841 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 2.7885ms.
2025-03-12 10:43:18.844 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.User[]"'.
2025-03-12 10:43:18.846 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)" in 26.0477ms
2025-03-12 10:43:18.848 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)"'
2025-03-12 10:43:18.849 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - 200 null "application/json; charset=utf-8" 34.8825ms
2025-03-12 10:43:19.195 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - null null
2025-03-12 10:43:19.197 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:43:19.198 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - 204 null null 3.1739ms
2025-03-12 10:43:19.202 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - "application/json" null
2025-03-12 10:43:19.204 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:43:19.205 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)"'
2025-03-12 10:43:19.205 +05:00 [Information] Route matched with "{action = \"GetCardiographs\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiographs(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 10:43:19.219 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:43:19.222 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:43:19.223 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 10:43:19.226 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 2.4634ms.
2025-03-12 10:43:19.227 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Cardiograph[]"'.
2025-03-12 10:43:19.228 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)" in 21.9361ms
2025-03-12 10:43:19.229 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)"'
2025-03-12 10:43:19.231 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - 200 null "application/json; charset=utf-8" 28.7943ms
2025-03-12 10:43:19.552 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - null null
2025-03-12 10:43:19.554 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:43:19.555 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - 204 null null 3.0008ms
2025-03-12 10:43:19.559 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - "application/json" null
2025-03-12 10:43:19.561 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:43:19.562 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)"'
2025-03-12 10:43:19.563 +05:00 [Information] Route matched with "{action = \"GetCardiograms\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiograms(System.String)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 10:43:19.576 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:43:19.578 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:43:19.579 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 10:43:19.582 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 2.257ms.
2025-03-12 10:43:19.583 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Cardiogram[]"'.
2025-03-12 10:43:19.584 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)" in 20.2662ms
2025-03-12 10:43:19.586 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)"'
2025-03-12 10:43:19.587 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - 200 null "application/json; charset=utf-8" 28.1094ms
2025-03-12 10:43:20.037 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - null null
2025-03-12 10:43:20.039 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:43:20.040 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 204 null null 3.0275ms
2025-03-12 10:43:20.043 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - "application/json" null
2025-03-12 10:43:20.045 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:43:20.046 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)"'
2025-03-12 10:43:20.047 +05:00 [Information] Route matched with "{action = \"GetCardiogram\", controller = \"Cardiogram\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiogram(System.Guid)" on controller "KpoApi.Presentation.Controllers.CardiogramController" ("KpoApi.Presentation").
2025-03-12 10:43:20.061 +05:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:43:20.064 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:43:20.065 +05:00 [Information] Поступил запрос на получение всей информации по кардиограмме
2025-03-12 10:43:20.069 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3.5751ms.
2025-03-12 10:43:20.070 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Application.Models.Data.EntireCardiogramModel"'.
2025-03-12 10:43:20.071 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)" in 23.4097ms
2025-03-12 10:43:20.072 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)"'
2025-03-12 10:43:20.074 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 200 null "application/json; charset=utf-8" 30.8255ms
2025-03-12 10:43:20.092 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - null null
2025-03-12 10:43:20.094 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:43:20.095 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 204 null null 3.2724ms
2025-03-12 10:43:20.098 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - "application/json" null
2025-03-12 10:43:20.100 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:43:20.101 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)"'
2025-03-12 10:43:20.102 +05:00 [Information] Route matched with "{action = \"GetUsersByCardiograms\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByCardiograms(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 10:43:20.117 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:43:20.119 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:43:20.121 +05:00 [Information] Поступил запрос на получение пользователей по кардиограмме
2025-03-12 10:43:20.124 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3.5537ms.
2025-03-12 10:43:20.126 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.User[]"'.
2025-03-12 10:43:20.127 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)" in 23.6304ms
2025-03-12 10:43:20.128 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)"'
2025-03-12 10:43:20.130 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 200 null "application/json; charset=utf-8" 31.7865ms
2025-03-12 10:43:22.206 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - null null
2025-03-12 10:43:22.208 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:43:22.210 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 204 null null 3.8273ms
2025-03-12 10:43:22.213 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 669
2025-03-12 10:43:22.216 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:43:22.216 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:43:22.217 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:43:22.233 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:43:22.235 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:43:22.236 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 10:43:22.492 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 274.0257ms
2025-03-12 10:43:22.493 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:43:22.495 +05:00 [Error] Connection id ""0HNB14U9CSGV5"", Request id ""0HNB14U9CSGV5:0000000E"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 115
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 10:43:22.507 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 294.6401ms
2025-03-12 10:44:01.796 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - null null
2025-03-12 10:44:01.805 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:44:01.806 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - 204 null null 10.1528ms
2025-03-12 10:44:01.811 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - "application/json" null
2025-03-12 10:44:01.819 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:44:01.820 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)"'
2025-03-12 10:44:01.821 +05:00 [Information] Route matched with "{action = \"GetOrganizations\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrganizations()" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 10:44:01.839 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:44:01.842 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:44:01.844 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 10:44:01.847 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3.3828ms.
2025-03-12 10:44:01.849 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Organization[]"'.
2025-03-12 10:44:01.851 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)" in 27.6422ms
2025-03-12 10:44:01.855 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)"'
2025-03-12 10:44:01.856 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - 200 null "application/json; charset=utf-8" 45.2471ms
2025-03-12 10:44:02.991 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - null null
2025-03-12 10:44:02.994 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:44:02.995 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - 204 null null 4.5449ms
2025-03-12 10:44:02.998 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - "application/json" null
2025-03-12 10:44:03.000 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:44:03.001 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)"'
2025-03-12 10:44:03.002 +05:00 [Information] Route matched with "{action = \"GetUsers\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 10:44:03.019 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:44:03.024 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:44:03.025 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 10:44:03.028 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3.3998ms.
2025-03-12 10:44:03.030 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.User[]"'.
2025-03-12 10:44:03.032 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)" in 28.6449ms
2025-03-12 10:44:03.033 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)"'
2025-03-12 10:44:03.035 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - 200 null "application/json; charset=utf-8" 36.2781ms
2025-03-12 10:44:03.285 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - null null
2025-03-12 10:44:03.287 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:44:03.288 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - 204 null null 3.2052ms
2025-03-12 10:44:03.292 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - "application/json" null
2025-03-12 10:44:03.296 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:44:03.297 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)"'
2025-03-12 10:44:03.298 +05:00 [Information] Route matched with "{action = \"GetCardiographs\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiographs(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 10:44:03.317 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:44:03.321 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:44:03.322 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 10:44:03.327 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.1374ms.
2025-03-12 10:44:03.329 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Cardiograph[]"'.
2025-03-12 10:44:03.332 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)" in 33.1126ms
2025-03-12 10:44:03.336 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)"'
2025-03-12 10:44:03.339 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - 200 null "application/json; charset=utf-8" 47.1118ms
2025-03-12 10:44:03.622 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - null null
2025-03-12 10:44:03.625 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:44:03.627 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - 204 null null 4.8575ms
2025-03-12 10:44:03.634 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - "application/json" null
2025-03-12 10:44:03.637 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:44:03.638 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)"'
2025-03-12 10:44:03.639 +05:00 [Information] Route matched with "{action = \"GetCardiograms\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiograms(System.String)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 10:44:03.665 +05:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:44:03.669 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:44:03.670 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 10:44:03.675 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4.9083ms.
2025-03-12 10:44:03.680 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Cardiogram[]"'.
2025-03-12 10:44:03.688 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)" in 44.2884ms
2025-03-12 10:44:03.694 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)"'
2025-03-12 10:44:03.697 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - 200 null "application/json; charset=utf-8" 62.6888ms
2025-03-12 10:44:04.114 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - null null
2025-03-12 10:44:04.117 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:44:04.118 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 204 null null 3.6939ms
2025-03-12 10:44:04.122 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - "application/json" null
2025-03-12 10:44:04.124 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:44:04.127 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)"'
2025-03-12 10:44:04.128 +05:00 [Information] Route matched with "{action = \"GetCardiogram\", controller = \"Cardiogram\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiogram(System.Guid)" on controller "KpoApi.Presentation.Controllers.CardiogramController" ("KpoApi.Presentation").
2025-03-12 10:44:04.144 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:44:04.147 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:44:04.148 +05:00 [Information] Поступил запрос на получение всей информации по кардиограмме
2025-03-12 10:44:04.152 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4.0027ms.
2025-03-12 10:44:04.154 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Application.Models.Data.EntireCardiogramModel"'.
2025-03-12 10:44:04.158 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)" in 28.2533ms
2025-03-12 10:44:04.159 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)"'
2025-03-12 10:44:04.161 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 200 null "application/json; charset=utf-8" 39.2764ms
2025-03-12 10:44:04.191 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - null null
2025-03-12 10:44:04.195 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:44:04.196 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 204 null null 4.9243ms
2025-03-12 10:44:04.222 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - "application/json" null
2025-03-12 10:44:04.235 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:44:04.239 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)"'
2025-03-12 10:44:04.241 +05:00 [Information] Route matched with "{action = \"GetUsersByCardiograms\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByCardiograms(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 10:44:04.263 +05:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:44:04.266 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:44:04.268 +05:00 [Information] Поступил запрос на получение пользователей по кардиограмме
2025-03-12 10:44:04.272 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4.0093ms.
2025-03-12 10:44:04.273 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.User[]"'.
2025-03-12 10:44:04.277 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)" in 30.7724ms
2025-03-12 10:44:04.279 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)"'
2025-03-12 10:44:04.281 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 200 null "application/json; charset=utf-8" 59.3425ms
2025-03-12 10:44:05.160 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - null null
2025-03-12 10:44:05.163 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:44:05.164 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 204 null null 4.2152ms
2025-03-12 10:44:05.169 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 669
2025-03-12 10:44:05.171 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:44:05.172 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:44:05.173 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:44:05.191 +05:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:44:05.194 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:44:05.195 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 10:44:05.479 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 304.1383ms
2025-03-12 10:44:05.480 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:44:05.482 +05:00 [Error] Connection id ""0HNB14U9CSGV5"", Request id ""0HNB14U9CSGV5:0000001C"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 115
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 10:44:05.498 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 329.199ms
2025-03-12 10:44:58.277 +05:00 [Information] Migrations
2025-03-12 10:44:58.322 +05:00 [Information] 2025010501: CreateOrganizationTable
2025-03-12 10:44:58.323 +05:00 [Information] 2025010502: CreateUsersTable
2025-03-12 10:44:58.324 +05:00 [Information] 2025010503: CreateResultsCardiogramsTable
2025-03-12 10:44:58.324 +05:00 [Information] 2025010504: CreateCardiogramsStateTable
2025-03-12 10:44:58.325 +05:00 [Information] 2025010505: CreateCardiographsTable
2025-03-12 10:44:58.326 +05:00 [Information] 2025010506: CreateSexPatientsTable
2025-03-12 10:44:58.327 +05:00 [Information] 2025010507: CreatePrioritiesTable
2025-03-12 10:44:58.327 +05:00 [Information] 2025010508: CreateUsersCardiographsTable
2025-03-12 10:44:58.328 +05:00 [Information] 2025010509: CreateCallsTable
2025-03-12 10:44:58.329 +05:00 [Warning] 2025010510: CreateCardiogramsTable (current)
2025-03-12 10:44:58.546 +05:00 [Warning] Overriding address(es) '"http://localhost:2324/swagger"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-03-12 10:44:58.572 +05:00 [Information] Now listening on: "http://0.0.0.0:2324"
2025-03-12 10:44:58.573 +05:00 [Information] Application started. Press Ctrl+C to shut down.
2025-03-12 10:44:58.574 +05:00 [Information] Hosting environment: "Development"
2025-03-12 10:44:58.575 +05:00 [Information] Content root path: "C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.WebHost"
2025-03-12 10:44:59.171 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.html""" - null null
2025-03-12 10:44:59.517 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 366.0988ms
2025-03-12 10:44:59.589 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.js""" - null null
2025-03-12 10:44:59.595 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.js""" - 200 null "application/javascript;charset=utf-8" 6.4095ms
2025-03-12 10:45:00.016 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/v1/swagger.json""" - null null
2025-03-12 10:45:00.312 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 296.1268ms
2025-03-12 10:45:07.467 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - null null
2025-03-12 10:45:07.473 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 204 null null 5.7986ms
2025-03-12 10:45:26.987 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - null null
2025-03-12 10:45:26.992 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 204 null null 4.9109ms
2025-03-12 10:45:48.012 +05:00 [Information] Migrations
2025-03-12 10:45:48.058 +05:00 [Information] 2025010501: CreateOrganizationTable
2025-03-12 10:45:48.060 +05:00 [Information] 2025010502: CreateUsersTable
2025-03-12 10:45:48.062 +05:00 [Information] 2025010503: CreateResultsCardiogramsTable
2025-03-12 10:45:48.062 +05:00 [Information] 2025010504: CreateCardiogramsStateTable
2025-03-12 10:45:48.063 +05:00 [Information] 2025010505: CreateCardiographsTable
2025-03-12 10:45:48.063 +05:00 [Information] 2025010506: CreateSexPatientsTable
2025-03-12 10:45:48.064 +05:00 [Information] 2025010507: CreatePrioritiesTable
2025-03-12 10:45:48.064 +05:00 [Information] 2025010508: CreateUsersCardiographsTable
2025-03-12 10:45:48.065 +05:00 [Information] 2025010509: CreateCallsTable
2025-03-12 10:45:48.066 +05:00 [Warning] 2025010510: CreateCardiogramsTable (current)
2025-03-12 10:45:48.319 +05:00 [Warning] Overriding address(es) '"http://localhost:2324/swagger"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-03-12 10:45:48.343 +05:00 [Information] Now listening on: "http://0.0.0.0:2324"
2025-03-12 10:45:48.344 +05:00 [Information] Application started. Press Ctrl+C to shut down.
2025-03-12 10:45:48.344 +05:00 [Information] Hosting environment: "Development"
2025-03-12 10:45:48.345 +05:00 [Information] Content root path: "C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.WebHost"
2025-03-12 10:45:48.982 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.html""" - null null
2025-03-12 10:45:49.155 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 182.7544ms
2025-03-12 10:45:49.309 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.js""" - null null
2025-03-12 10:45:49.320 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.js""" - 200 null "application/javascript;charset=utf-8" 10.7978ms
2025-03-12 10:45:49.683 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/v1/swagger.json""" - null null
2025-03-12 10:45:49.976 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 293.4197ms
2025-03-12 10:45:56.984 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - null null
2025-03-12 10:45:56.993 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:45:56.995 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 204 null null 11.3582ms
2025-03-12 10:45:57.001 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 671
2025-03-12 10:45:57.006 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:45:57.010 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:45:57.101 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:45:57.794 +05:00 [Information] Executed DbCommand ("10"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:45:57.877 +05:00 [Information] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
2025-03-12 10:45:57.915 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 809.4398ms
2025-03-12 10:45:57.918 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:45:57.930 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 400 null "application/problem+json; charset=utf-8" 929.4809ms
2025-03-12 10:46:18.887 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - null null
2025-03-12 10:46:18.895 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:46:18.896 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 204 null null 9.5275ms
2025-03-12 10:46:18.903 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 671
2025-03-12 10:46:18.909 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:46:18.910 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:46:18.912 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:46:18.943 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:46:18.952 +05:00 [Information] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
2025-03-12 10:46:18.953 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 38.9799ms
2025-03-12 10:46:18.954 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:46:18.955 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 400 null "application/problem+json; charset=utf-8" 52.0752ms
2025-03-12 10:47:05.662 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - null null
2025-03-12 10:47:05.665 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:47:05.666 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 204 null null 3.8178ms
2025-03-12 10:47:05.669 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 671
2025-03-12 10:47:05.671 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:47:05.672 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:47:05.673 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:47:05.707 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:47:05.710 +05:00 [Information] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
2025-03-12 10:47:05.712 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 37.0432ms
2025-03-12 10:47:05.714 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:47:05.716 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 400 null "application/problem+json; charset=utf-8" 46.3555ms
2025-03-12 10:47:31.625 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - null null
2025-03-12 10:47:31.632 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:47:31.634 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 204 null null 8.9843ms
2025-03-12 10:47:31.641 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 671
2025-03-12 10:47:31.645 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:47:31.646 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:47:31.648 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:47:31.665 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:47:31.669 +05:00 [Information] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
2025-03-12 10:47:31.670 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 19.5163ms
2025-03-12 10:47:31.671 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:47:31.672 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 400 null "application/problem+json; charset=utf-8" 31.4991ms
2025-03-12 10:50:06.850 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - null null
2025-03-12 10:50:06.858 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:50:06.859 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 204 null null 9.806ms
2025-03-12 10:50:06.863 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 671
2025-03-12 10:50:06.865 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:50:06.867 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:50:06.868 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:50:06.888 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:50:06.891 +05:00 [Information] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
2025-03-12 10:50:06.892 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 21.9536ms
2025-03-12 10:50:06.893 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:50:06.894 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 400 null "application/problem+json; charset=utf-8" 31.8985ms
2025-03-12 10:50:31.201 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - null null
2025-03-12 10:50:31.203 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:50:31.204 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 204 null null 3.6588ms
2025-03-12 10:50:31.213 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 671
2025-03-12 10:50:31.215 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:50:31.216 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:50:31.217 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:50:31.232 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:50:31.235 +05:00 [Information] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
2025-03-12 10:50:31.237 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 17.6272ms
2025-03-12 10:50:31.238 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:50:31.239 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 400 null "application/problem+json; charset=utf-8" 26.7548ms
2025-03-12 10:51:47.240 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - null null
2025-03-12 10:51:47.247 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:51:47.254 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - 204 null null 15.095ms
2025-03-12 10:51:47.270 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - "application/json" null
2025-03-12 10:51:47.275 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:51:47.277 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)"'
2025-03-12 10:51:47.288 +05:00 [Information] Route matched with "{action = \"GetOrganizations\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrganizations()" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 10:51:47.327 +05:00 [Information] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:51:47.345 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:51:47.350 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 10:51:47.625 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 266.7223ms.
2025-03-12 10:51:47.650 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Organization[]"'.
2025-03-12 10:51:47.722 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)" in 431.5893ms
2025-03-12 10:51:47.729 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)"'
2025-03-12 10:51:47.736 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - 200 null "application/json; charset=utf-8" 465.9129ms
2025-03-12 10:52:10.960 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - null null
2025-03-12 10:52:10.962 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:52:10.963 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - 204 null null 3.3469ms
2025-03-12 10:52:10.967 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - "application/json" null
2025-03-12 10:52:10.974 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:52:10.975 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)"'
2025-03-12 10:52:10.976 +05:00 [Information] Route matched with "{action = \"GetOrganizations\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrganizations()" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 10:52:10.996 +05:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:52:10.999 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:52:11.000 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 10:52:11.006 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 6.2895ms.
2025-03-12 10:52:11.008 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Organization[]"'.
2025-03-12 10:52:11.009 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)" in 31.1477ms
2025-03-12 10:52:11.012 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)"'
2025-03-12 10:52:11.014 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - 200 null "application/json; charset=utf-8" 46.7229ms
2025-03-12 10:52:11.796 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - null null
2025-03-12 10:52:11.799 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:52:11.800 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - 204 null null 4.2089ms
2025-03-12 10:52:11.804 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - "application/json" null
2025-03-12 10:52:11.806 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:52:11.807 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)"'
2025-03-12 10:52:11.813 +05:00 [Information] Route matched with "{action = \"GetUsers\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 10:52:11.830 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:52:11.838 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:52:11.840 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 10:52:11.875 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 35.7171ms.
2025-03-12 10:52:11.877 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.User[]"'.
2025-03-12 10:52:11.887 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)" in 72.5937ms
2025-03-12 10:52:11.889 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)"'
2025-03-12 10:52:11.891 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - 200 null "application/json; charset=utf-8" 87.2277ms
2025-03-12 10:52:12.318 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - null null
2025-03-12 10:52:12.319 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:52:12.320 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - 204 null null 2.833ms
2025-03-12 10:52:12.325 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - "application/json" null
2025-03-12 10:52:12.327 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:52:12.328 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)"'
2025-03-12 10:52:12.332 +05:00 [Information] Route matched with "{action = \"GetCardiographs\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiographs(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 10:52:12.349 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:52:12.353 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:52:12.355 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 10:52:12.363 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 9.5234ms.
2025-03-12 10:52:12.365 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Cardiograph[]"'.
2025-03-12 10:52:12.367 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)" in 33.36ms
2025-03-12 10:52:12.368 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)"'
2025-03-12 10:52:12.370 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - 200 null "application/json; charset=utf-8" 45.5545ms
2025-03-12 10:52:12.725 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=c4f243f2-a246-4519-a732-6fd80cc1da61" - null null
2025-03-12 10:52:12.728 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:52:12.729 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=c4f243f2-a246-4519-a732-6fd80cc1da61" - 204 null null 3.863ms
2025-03-12 10:52:12.734 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=c4f243f2-a246-4519-a732-6fd80cc1da61" - "application/json" null
2025-03-12 10:52:12.735 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:52:12.736 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)"'
2025-03-12 10:52:12.737 +05:00 [Information] Route matched with "{action = \"GetCardiographs\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiographs(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 10:52:12.754 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:52:12.757 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:52:12.759 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 10:52:12.762 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3.4413ms.
2025-03-12 10:52:12.764 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Cardiograph[]"'.
2025-03-12 10:52:12.765 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)" in 25.7495ms
2025-03-12 10:52:12.766 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)"'
2025-03-12 10:52:12.768 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=c4f243f2-a246-4519-a732-6fd80cc1da61" - 200 null "application/json; charset=utf-8" 34.1156ms
2025-03-12 10:52:13.395 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - null null
2025-03-12 10:52:13.397 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:52:13.398 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - 204 null null 3.0239ms
2025-03-12 10:52:13.401 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - "application/json" null
2025-03-12 10:52:13.403 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:52:13.404 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)"'
2025-03-12 10:52:13.408 +05:00 [Information] Route matched with "{action = \"GetCardiograms\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiograms(System.String)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 10:52:13.424 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:52:13.428 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:52:13.430 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 10:52:13.441 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 11.9683ms.
2025-03-12 10:52:13.442 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Cardiogram[]"'.
2025-03-12 10:52:13.451 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)" in 41.5447ms
2025-03-12 10:52:13.453 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)"'
2025-03-12 10:52:13.454 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - 200 null "application/json; charset=utf-8" 53.0529ms
2025-03-12 10:52:13.759 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - null null
2025-03-12 10:52:13.761 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:52:13.762 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 204 null null 2.8256ms
2025-03-12 10:52:13.765 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - "application/json" null
2025-03-12 10:52:13.768 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:52:13.769 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)"'
2025-03-12 10:52:13.773 +05:00 [Information] Route matched with "{action = \"GetCardiogram\", controller = \"Cardiogram\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiogram(System.Guid)" on controller "KpoApi.Presentation.Controllers.CardiogramController" ("KpoApi.Presentation").
2025-03-12 10:52:13.792 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:52:13.795 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:52:13.797 +05:00 [Information] Поступил запрос на получение всей информации по кардиограмме
2025-03-12 10:52:13.865 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 68.0593ms.
2025-03-12 10:52:13.866 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Application.Models.Data.EntireCardiogramModel"'.
2025-03-12 10:52:13.876 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)" in 100.8436ms
2025-03-12 10:52:13.877 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)"'
2025-03-12 10:52:13.878 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 200 null "application/json; charset=utf-8" 113.0013ms
2025-03-12 10:52:13.901 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - null null
2025-03-12 10:52:13.903 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:52:13.904 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 204 null null 3.049ms
2025-03-12 10:52:13.909 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - "application/json" null
2025-03-12 10:52:13.913 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:52:13.915 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)"'
2025-03-12 10:52:13.920 +05:00 [Information] Route matched with "{action = \"GetUsersByCardiograms\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByCardiograms(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 10:52:13.942 +05:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:52:13.945 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:52:13.947 +05:00 [Information] Поступил запрос на получение пользователей по кардиограмме
2025-03-12 10:52:13.954 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 7.8029ms.
2025-03-12 10:52:13.958 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.User[]"'.
2025-03-12 10:52:13.960 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)" in 36.4622ms
2025-03-12 10:52:13.964 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)"'
2025-03-12 10:52:13.966 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 200 null "application/json; charset=utf-8" 56.5394ms
2025-03-12 10:52:28.368 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - null null
2025-03-12 10:52:28.370 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:52:28.371 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - 204 null null 2.9097ms
2025-03-12 10:52:28.374 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - "application/json" null
2025-03-12 10:52:28.376 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:52:28.377 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)"'
2025-03-12 10:52:28.378 +05:00 [Information] Route matched with "{action = \"GetOrganizations\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrganizations()" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 10:52:28.399 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:52:28.402 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:52:28.406 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 10:52:28.412 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.9922ms.
2025-03-12 10:52:28.416 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Organization[]"'.
2025-03-12 10:52:28.420 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)" in 39.0644ms
2025-03-12 10:52:28.422 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)"'
2025-03-12 10:52:28.423 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - 200 null "application/json; charset=utf-8" 49.2567ms
2025-03-12 10:52:34.120 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - null null
2025-03-12 10:52:34.122 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:52:34.123 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - 204 null null 3.4821ms
2025-03-12 10:52:34.127 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - "application/json" null
2025-03-12 10:52:34.130 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:52:34.130 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)"'
2025-03-12 10:52:34.131 +05:00 [Information] Route matched with "{action = \"GetOrganizations\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrganizations()" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 10:52:34.149 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:52:34.151 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:52:34.152 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 10:52:34.157 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4.2903ms.
2025-03-12 10:52:34.159 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Organization[]"'.
2025-03-12 10:52:34.160 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)" in 25.8394ms
2025-03-12 10:52:34.161 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)"'
2025-03-12 10:52:34.163 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - 200 null "application/json; charset=utf-8" 35.2633ms
2025-03-12 10:52:35.613 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=f45d0e56-5c94-48f1-b703-42fb5fc25376" - null null
2025-03-12 10:52:35.615 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:52:35.617 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=f45d0e56-5c94-48f1-b703-42fb5fc25376" - 204 null null 4.5187ms
2025-03-12 10:52:35.625 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=f45d0e56-5c94-48f1-b703-42fb5fc25376" - "application/json" null
2025-03-12 10:52:35.627 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:52:35.628 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)"'
2025-03-12 10:52:35.630 +05:00 [Information] Route matched with "{action = \"GetUsers\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 10:52:35.648 +05:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:52:35.651 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:52:35.652 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 10:52:35.655 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3.1861ms.
2025-03-12 10:52:35.657 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.User[]"'.
2025-03-12 10:52:35.658 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)" in 24.2154ms
2025-03-12 10:52:35.659 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)"'
2025-03-12 10:52:35.662 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=f45d0e56-5c94-48f1-b703-42fb5fc25376" - 200 null "application/json; charset=utf-8" 37.1188ms
2025-03-12 10:52:36.573 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - null null
2025-03-12 10:52:36.577 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:52:36.578 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - 204 null null 5.9793ms
2025-03-12 10:52:36.582 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - "application/json" null
2025-03-12 10:52:36.586 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:52:36.587 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)"'
2025-03-12 10:52:36.588 +05:00 [Information] Route matched with "{action = \"GetUsers\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 10:52:36.606 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:52:36.609 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:52:36.610 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 10:52:36.613 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3.0905ms.
2025-03-12 10:52:36.615 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.User[]"'.
2025-03-12 10:52:36.616 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)" in 24.3685ms
2025-03-12 10:52:36.617 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)"'
2025-03-12 10:52:36.618 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - 200 null "application/json; charset=utf-8" 35.5508ms
2025-03-12 10:52:36.897 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - null null
2025-03-12 10:52:36.899 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:52:36.900 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - 204 null null 3.6379ms
2025-03-12 10:52:36.904 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - "application/json" null
2025-03-12 10:52:36.906 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:52:36.906 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)"'
2025-03-12 10:52:36.908 +05:00 [Information] Route matched with "{action = \"GetCardiographs\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiographs(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 10:52:36.924 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:52:36.927 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:52:36.928 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 10:52:36.932 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3.371ms.
2025-03-12 10:52:36.933 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Cardiograph[]"'.
2025-03-12 10:52:36.935 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)" in 24.4556ms
2025-03-12 10:52:36.936 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)"'
2025-03-12 10:52:36.938 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - 200 null "application/json; charset=utf-8" 34.0413ms
2025-03-12 10:52:37.324 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - null null
2025-03-12 10:52:37.326 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:52:37.327 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - 204 null null 2.6975ms
2025-03-12 10:52:37.331 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - "application/json" null
2025-03-12 10:52:37.332 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:52:37.334 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)"'
2025-03-12 10:52:37.336 +05:00 [Information] Route matched with "{action = \"GetCardiograms\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiograms(System.String)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 10:52:37.353 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:52:37.356 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:52:37.358 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 10:52:37.362 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4.2509ms.
2025-03-12 10:52:37.366 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Cardiogram[]"'.
2025-03-12 10:52:37.367 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)" in 29.2063ms
2025-03-12 10:52:37.368 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)"'
2025-03-12 10:52:37.370 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - 200 null "application/json; charset=utf-8" 39.1358ms
2025-03-12 10:52:37.746 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - null null
2025-03-12 10:52:37.748 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:52:37.749 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 204 null null 2.8011ms
2025-03-12 10:52:37.753 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - "application/json" null
2025-03-12 10:52:37.754 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:52:37.755 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)"'
2025-03-12 10:52:37.756 +05:00 [Information] Route matched with "{action = \"GetCardiogram\", controller = \"Cardiogram\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiogram(System.Guid)" on controller "KpoApi.Presentation.Controllers.CardiogramController" ("KpoApi.Presentation").
2025-03-12 10:52:37.771 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:52:37.774 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:52:37.776 +05:00 [Information] Поступил запрос на получение всей информации по кардиограмме
2025-03-12 10:52:37.780 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4.4192ms.
2025-03-12 10:52:37.782 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Application.Models.Data.EntireCardiogramModel"'.
2025-03-12 10:52:37.785 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)" in 27.2814ms
2025-03-12 10:52:37.786 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)"'
2025-03-12 10:52:37.788 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 200 null "application/json; charset=utf-8" 34.9428ms
2025-03-12 10:52:37.812 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - null null
2025-03-12 10:52:37.814 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:52:37.815 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 204 null null 3.2365ms
2025-03-12 10:52:37.820 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - "application/json" null
2025-03-12 10:52:37.822 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:52:37.823 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)"'
2025-03-12 10:52:37.824 +05:00 [Information] Route matched with "{action = \"GetUsersByCardiograms\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByCardiograms(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 10:52:37.840 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:52:37.843 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:52:37.844 +05:00 [Information] Поступил запрос на получение пользователей по кардиограмме
2025-03-12 10:52:37.849 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4.5225ms.
2025-03-12 10:52:37.852 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.User[]"'.
2025-03-12 10:52:37.853 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)" in 28.4005ms
2025-03-12 10:52:37.856 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)"'
2025-03-12 10:52:37.857 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 200 null "application/json; charset=utf-8" 38.2486ms
2025-03-12 10:52:38.546 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - null null
2025-03-12 10:52:38.550 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:52:38.552 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 204 null null 5.4918ms
2025-03-12 10:52:38.563 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 669
2025-03-12 10:52:38.566 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:52:38.566 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:52:38.567 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:52:38.583 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:52:38.604 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:52:43.832 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 10:52:44.204 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 5635.5596ms
2025-03-12 10:52:44.206 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:52:44.209 +05:00 [Error] Connection id ""0HNB154I2SS03"", Request id ""0HNB154I2SS03:0000002E"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 115
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 10:52:44.257 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 5695.8959ms
2025-03-12 10:53:30.349 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - null null
2025-03-12 10:53:30.351 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:53:30.352 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 204 null null 3.8075ms
2025-03-12 10:53:30.362 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 671
2025-03-12 10:53:30.363 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:53:30.364 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:53:30.365 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:53:30.385 +05:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:53:30.389 +05:00 [Information] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
2025-03-12 10:53:30.390 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 23.0342ms
2025-03-12 10:53:30.392 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:53:30.393 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 400 null "application/problem+json; charset=utf-8" 31.1633ms
2025-03-12 10:53:40.854 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - null null
2025-03-12 10:53:40.856 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:53:40.857 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 204 null null 3.1666ms
2025-03-12 10:53:40.864 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 671
2025-03-12 10:53:40.867 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:53:40.868 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:53:40.869 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:53:40.881 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:53:40.884 +05:00 [Information] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
2025-03-12 10:53:40.885 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 14.6397ms
2025-03-12 10:53:40.887 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:53:40.888 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 400 null "application/problem+json; charset=utf-8" 24.2499ms
2025-03-12 10:54:41.673 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - null null
2025-03-12 10:54:41.681 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:54:41.682 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - 204 null null 9.1553ms
2025-03-12 10:54:41.688 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - "application/json" null
2025-03-12 10:54:41.692 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:54:41.693 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)"'
2025-03-12 10:54:41.694 +05:00 [Information] Route matched with "{action = \"GetOrganizations\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrganizations()" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 10:54:41.713 +05:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:54:41.716 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:54:41.718 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 10:54:41.722 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4.0877ms.
2025-03-12 10:54:41.731 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Organization[]"'.
2025-03-12 10:54:41.734 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)" in 38.4879ms
2025-03-12 10:54:41.736 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)"'
2025-03-12 10:54:41.738 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - 200 null "application/json; charset=utf-8" 49.8106ms
2025-03-12 10:54:42.949 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - null null
2025-03-12 10:54:42.953 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:54:42.954 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - 204 null null 5.4387ms
2025-03-12 10:54:42.959 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - "application/json" null
2025-03-12 10:54:42.966 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:54:42.967 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)"'
2025-03-12 10:54:42.968 +05:00 [Information] Route matched with "{action = \"GetUsers\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 10:54:42.988 +05:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:54:43.001 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:54:43.002 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 10:54:43.007 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4.4772ms.
2025-03-12 10:54:43.009 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.User[]"'.
2025-03-12 10:54:43.012 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)" in 41.2426ms
2025-03-12 10:54:43.014 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)"'
2025-03-12 10:54:43.016 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - 200 null "application/json; charset=utf-8" 56.8086ms
2025-03-12 10:54:43.310 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - null null
2025-03-12 10:54:43.312 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:54:43.313 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - 204 null null 2.7718ms
2025-03-12 10:54:43.317 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - "application/json" null
2025-03-12 10:54:43.318 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:54:43.320 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)"'
2025-03-12 10:54:43.323 +05:00 [Information] Route matched with "{action = \"GetCardiographs\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiographs(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 10:54:43.340 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:54:43.343 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:54:43.344 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 10:54:43.349 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4.8926ms.
2025-03-12 10:54:43.352 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Cardiograph[]"'.
2025-03-12 10:54:43.354 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)" in 29.9333ms
2025-03-12 10:54:43.357 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)"'
2025-03-12 10:54:43.359 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - 200 null "application/json; charset=utf-8" 42.3932ms
2025-03-12 10:54:43.707 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - null null
2025-03-12 10:54:43.709 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:54:43.710 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - 204 null null 3.142ms
2025-03-12 10:54:43.713 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - "application/json" null
2025-03-12 10:54:43.715 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:54:43.716 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)"'
2025-03-12 10:54:43.717 +05:00 [Information] Route matched with "{action = \"GetCardiograms\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiograms(System.String)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 10:54:43.735 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:54:43.738 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:54:43.740 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 10:54:43.743 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3.6219ms.
2025-03-12 10:54:43.746 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Cardiogram[]"'.
2025-03-12 10:54:43.747 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)" in 27.7619ms
2025-03-12 10:54:43.749 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)"'
2025-03-12 10:54:43.751 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - 200 null "application/json; charset=utf-8" 38.6874ms
2025-03-12 10:54:46.703 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - null null
2025-03-12 10:54:46.705 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:54:46.706 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 204 null null 3.4212ms
2025-03-12 10:54:46.710 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - "application/json" null
2025-03-12 10:54:46.712 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:54:46.712 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)"'
2025-03-12 10:54:46.713 +05:00 [Information] Route matched with "{action = \"GetCardiogram\", controller = \"Cardiogram\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiogram(System.Guid)" on controller "KpoApi.Presentation.Controllers.CardiogramController" ("KpoApi.Presentation").
2025-03-12 10:54:46.725 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:54:46.727 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:54:46.728 +05:00 [Information] Поступил запрос на получение всей информации по кардиограмме
2025-03-12 10:54:46.731 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 2.5679ms.
2025-03-12 10:54:46.732 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Application.Models.Data.EntireCardiogramModel"'.
2025-03-12 10:54:46.733 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)" in 18.3425ms
2025-03-12 10:54:46.734 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)"'
2025-03-12 10:54:46.736 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 200 null "application/json; charset=utf-8" 25.4935ms
2025-03-12 10:54:46.750 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - null null
2025-03-12 10:54:46.752 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:54:46.753 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 204 null null 2.5798ms
2025-03-12 10:54:46.756 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - "application/json" null
2025-03-12 10:54:46.758 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:54:46.758 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)"'
2025-03-12 10:54:46.759 +05:00 [Information] Route matched with "{action = \"GetUsersByCardiograms\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByCardiograms(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 10:54:46.772 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:54:46.775 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:54:46.775 +05:00 [Information] Поступил запрос на получение пользователей по кардиограмме
2025-03-12 10:54:46.779 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3.2975ms.
2025-03-12 10:54:46.782 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.User[]"'.
2025-03-12 10:54:46.785 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)" in 24.3332ms
2025-03-12 10:54:46.786 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)"'
2025-03-12 10:54:46.792 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 200 null "application/json; charset=utf-8" 32.1248ms
2025-03-12 10:54:47.973 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - null null
2025-03-12 10:54:47.977 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:54:47.978 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 204 null null 4.808ms
2025-03-12 10:54:47.983 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 669
2025-03-12 10:54:47.985 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:54:47.986 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:54:47.987 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:54:48.001 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:54:48.003 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:55:02.472 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 10:56:10.829 +05:00 [Information] Migrations
2025-03-12 10:56:10.883 +05:00 [Information] 2025010501: CreateOrganizationTable
2025-03-12 10:56:10.884 +05:00 [Information] 2025010502: CreateUsersTable
2025-03-12 10:56:10.885 +05:00 [Information] 2025010503: CreateResultsCardiogramsTable
2025-03-12 10:56:10.886 +05:00 [Information] 2025010504: CreateCardiogramsStateTable
2025-03-12 10:56:10.887 +05:00 [Information] 2025010505: CreateCardiographsTable
2025-03-12 10:56:10.887 +05:00 [Information] 2025010506: CreateSexPatientsTable
2025-03-12 10:56:10.888 +05:00 [Information] 2025010507: CreatePrioritiesTable
2025-03-12 10:56:10.889 +05:00 [Information] 2025010508: CreateUsersCardiographsTable
2025-03-12 10:56:10.889 +05:00 [Information] 2025010509: CreateCallsTable
2025-03-12 10:56:10.890 +05:00 [Warning] 2025010510: CreateCardiogramsTable (current)
2025-03-12 10:56:11.168 +05:00 [Warning] Overriding address(es) '"http://localhost:2324/swagger"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-03-12 10:56:11.194 +05:00 [Information] Now listening on: "http://0.0.0.0:2324"
2025-03-12 10:56:11.195 +05:00 [Information] Application started. Press Ctrl+C to shut down.
2025-03-12 10:56:11.196 +05:00 [Information] Hosting environment: "Development"
2025-03-12 10:56:11.196 +05:00 [Information] Content root path: "C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.WebHost"
2025-03-12 10:56:12.025 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.html""" - null null
2025-03-12 10:56:12.226 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 212.9971ms
2025-03-12 10:56:12.360 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.js""" - null null
2025-03-12 10:56:12.366 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.js""" - 200 null "application/javascript;charset=utf-8" 6.3382ms
2025-03-12 10:56:12.751 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/v1/swagger.json""" - null null
2025-03-12 10:56:12.964 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 213.1877ms
2025-03-12 10:56:21.380 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - null null
2025-03-12 10:56:21.388 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:56:21.391 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 204 null null 11.2944ms
2025-03-12 10:56:21.403 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 671
2025-03-12 10:56:21.409 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:56:21.412 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:56:21.431 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:56:22.092 +05:00 [Information] Executed DbCommand ("10"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:56:22.170 +05:00 [Information] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
2025-03-12 10:56:22.209 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 772.4753ms
2025-03-12 10:56:22.211 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:56:22.221 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 400 null "application/problem+json; charset=utf-8" 818.4674ms
2025-03-12 10:56:34.634 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - null null
2025-03-12 10:56:34.636 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:56:34.637 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 204 null null 3.7667ms
2025-03-12 10:56:34.641 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - "application/json" null
2025-03-12 10:56:34.643 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:56:34.644 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)"'
2025-03-12 10:56:34.648 +05:00 [Information] Route matched with "{action = \"GetCardiogram\", controller = \"Cardiogram\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiogram(System.Guid)" on controller "KpoApi.Presentation.Controllers.CardiogramController" ("KpoApi.Presentation").
2025-03-12 10:56:34.675 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:56:34.687 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 10:56:34.693 +05:00 [Information] Поступил запрос на получение всей информации по кардиограмме
2025-03-12 10:56:34.818 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 121.6169ms.
2025-03-12 10:56:34.822 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Application.Models.Data.EntireCardiogramModel"'.
2025-03-12 10:56:34.843 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)" in 193.1762ms
2025-03-12 10:56:34.847 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)"'
2025-03-12 10:56:34.850 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 200 null "application/json; charset=utf-8" 208.988ms
2025-03-12 10:56:42.470 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - null null
2025-03-12 10:56:42.472 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:56:42.473 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 204 null null 3.6775ms
2025-03-12 10:56:42.477 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 671
2025-03-12 10:56:42.479 +05:00 [Information] CORS policy execution successful.
2025-03-12 10:56:42.480 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:56:42.481 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 10:56:42.515 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 10:56:42.518 +05:00 [Information] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
2025-03-12 10:56:42.519 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 36.7929ms
2025-03-12 10:56:42.521 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 10:56:42.522 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 400 null "application/problem+json; charset=utf-8" 44.5513ms
2025-03-12 11:12:51.995 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - null null
2025-03-12 11:12:52.002 +05:00 [Information] CORS policy execution successful.
2025-03-12 11:12:52.003 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - 204 null null 8.1399ms
2025-03-12 11:12:52.007 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - "application/json" null
2025-03-12 11:12:52.010 +05:00 [Information] CORS policy execution successful.
2025-03-12 11:12:52.011 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)"'
2025-03-12 11:12:52.016 +05:00 [Information] Route matched with "{action = \"GetOrganizations\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrganizations()" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 11:12:52.049 +05:00 [Information] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 11:12:52.052 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 11:12:52.055 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 11:12:52.116 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 62.078ms.
2025-03-12 11:12:52.118 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Organization[]"'.
2025-03-12 11:12:52.128 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)" in 111.4579ms
2025-03-12 11:12:52.130 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)"'
2025-03-12 11:12:52.131 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - 200 null "application/json; charset=utf-8" 124.4482ms
2025-03-12 11:15:10.789 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - null null
2025-03-12 11:15:10.796 +05:00 [Information] CORS policy execution successful.
2025-03-12 11:15:10.797 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - 204 null null 8.5894ms
2025-03-12 11:15:10.802 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - "application/json" null
2025-03-12 11:15:10.805 +05:00 [Information] CORS policy execution successful.
2025-03-12 11:15:10.807 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)"'
2025-03-12 11:15:10.808 +05:00 [Information] Route matched with "{action = \"GetOrganizations\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrganizations()" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 11:15:10.840 +05:00 [Information] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 11:15:10.844 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 11:15:10.845 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 11:15:10.852 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 6.926ms.
2025-03-12 11:15:10.864 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Organization[]"'.
2025-03-12 11:15:10.866 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)" in 56.1656ms
2025-03-12 11:15:10.867 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)"'
2025-03-12 11:15:10.869 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - 200 null "application/json; charset=utf-8" 67.4388ms
2025-03-12 11:15:11.890 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - null null
2025-03-12 11:15:11.893 +05:00 [Information] CORS policy execution successful.
2025-03-12 11:15:11.894 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - 204 null null 4.3042ms
2025-03-12 11:15:11.900 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - "application/json" null
2025-03-12 11:15:11.902 +05:00 [Information] CORS policy execution successful.
2025-03-12 11:15:11.903 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)"'
2025-03-12 11:15:11.910 +05:00 [Information] Route matched with "{action = \"GetUsers\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 11:15:11.930 +05:00 [Information] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 11:15:11.934 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 11:15:11.937 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 11:15:11.947 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 11.0693ms.
2025-03-12 11:15:11.948 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.User[]"'.
2025-03-12 11:15:11.960 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)" in 48.3812ms
2025-03-12 11:15:11.962 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)"'
2025-03-12 11:15:11.965 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - 200 null "application/json; charset=utf-8" 64.9007ms
2025-03-12 11:15:12.177 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - null null
2025-03-12 11:15:12.179 +05:00 [Information] CORS policy execution successful.
2025-03-12 11:15:12.180 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - 204 null null 3.0197ms
2025-03-12 11:15:12.186 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - "application/json" null
2025-03-12 11:15:12.190 +05:00 [Information] CORS policy execution successful.
2025-03-12 11:15:12.191 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)"'
2025-03-12 11:15:12.198 +05:00 [Information] Route matched with "{action = \"GetCardiographs\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiographs(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 11:15:12.215 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 11:15:12.223 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 11:15:12.226 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 11:15:12.242 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 17.8934ms.
2025-03-12 11:15:12.245 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Cardiograph[]"'.
2025-03-12 11:15:12.249 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)" in 50.2533ms
2025-03-12 11:15:12.251 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)"'
2025-03-12 11:15:12.253 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - 200 null "application/json; charset=utf-8" 67.1046ms
2025-03-12 11:15:12.662 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - null null
2025-03-12 11:15:12.664 +05:00 [Information] CORS policy execution successful.
2025-03-12 11:15:12.664 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - 204 null null 2.4165ms
2025-03-12 11:15:12.669 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - "application/json" null
2025-03-12 11:15:12.670 +05:00 [Information] CORS policy execution successful.
2025-03-12 11:15:12.671 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)"'
2025-03-12 11:15:12.677 +05:00 [Information] Route matched with "{action = \"GetCardiograms\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiograms(System.String)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 11:15:12.693 +05:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 11:15:12.698 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 11:15:12.700 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 11:15:12.711 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 12.4018ms.
2025-03-12 11:15:12.713 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Cardiogram[]"'.
2025-03-12 11:15:12.717 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)" in 37.7549ms
2025-03-12 11:15:12.718 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)"'
2025-03-12 11:15:12.719 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - 200 null "application/json; charset=utf-8" 50.8981ms
2025-03-12 11:15:13.144 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - null null
2025-03-12 11:15:13.146 +05:00 [Information] CORS policy execution successful.
2025-03-12 11:15:13.147 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 204 null null 2.6888ms
2025-03-12 11:15:13.149 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - "application/json" null
2025-03-12 11:15:13.151 +05:00 [Information] CORS policy execution successful.
2025-03-12 11:15:13.152 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)"'
2025-03-12 11:15:13.152 +05:00 [Information] Route matched with "{action = \"GetCardiogram\", controller = \"Cardiogram\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiogram(System.Guid)" on controller "KpoApi.Presentation.Controllers.CardiogramController" ("KpoApi.Presentation").
2025-03-12 11:15:13.167 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 11:15:13.170 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 11:15:13.171 +05:00 [Information] Поступил запрос на получение всей информации по кардиограмме
2025-03-12 11:15:13.177 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.7772ms.
2025-03-12 11:15:13.179 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Application.Models.Data.EntireCardiogramModel"'.
2025-03-12 11:15:13.180 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)" in 26.8851ms
2025-03-12 11:15:13.182 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)"'
2025-03-12 11:15:13.183 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 200 null "application/json; charset=utf-8" 34.0431ms
2025-03-12 11:15:13.209 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - null null
2025-03-12 11:15:13.212 +05:00 [Information] CORS policy execution successful.
2025-03-12 11:15:13.213 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 204 null null 4.2827ms
2025-03-12 11:15:13.217 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - "application/json" null
2025-03-12 11:15:13.219 +05:00 [Information] CORS policy execution successful.
2025-03-12 11:15:13.220 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)"'
2025-03-12 11:15:13.227 +05:00 [Information] Route matched with "{action = \"GetUsersByCardiograms\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByCardiograms(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 11:15:13.246 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 11:15:13.249 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 11:15:13.251 +05:00 [Information] Поступил запрос на получение пользователей по кардиограмме
2025-03-12 11:15:13.259 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 8.7787ms.
2025-03-12 11:15:13.260 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.User[]"'.
2025-03-12 11:15:13.262 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)" in 33.4865ms
2025-03-12 11:15:13.263 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)"'
2025-03-12 11:15:13.265 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 200 null "application/json; charset=utf-8" 48.0628ms
2025-03-12 11:15:14.090 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - null null
2025-03-12 11:15:14.092 +05:00 [Information] CORS policy execution successful.
2025-03-12 11:15:14.093 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 204 null null 3.2795ms
2025-03-12 11:15:14.098 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 669
2025-03-12 11:15:14.100 +05:00 [Information] CORS policy execution successful.
2025-03-12 11:15:14.101 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 11:15:14.103 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 11:15:14.120 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 11:15:14.149 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 11:15:16.444 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 11:15:18.301 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 4196.465ms
2025-03-12 11:15:18.303 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 11:15:18.305 +05:00 [Error] Connection id ""0HNB15ABOR9UA"", Request id ""0HNB15ABOR9UA:00000010"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 114
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 11:15:18.350 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 4252.0862ms
2025-03-12 11:15:23.231 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - null null
2025-03-12 11:15:23.233 +05:00 [Information] CORS policy execution successful.
2025-03-12 11:15:23.234 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 204 null null 3.3748ms
2025-03-12 11:15:23.238 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 669
2025-03-12 11:15:23.240 +05:00 [Information] CORS policy execution successful.
2025-03-12 11:15:23.241 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 11:15:23.241 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 11:15:23.256 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 11:15:23.260 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 11:15:28.461 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 11:15:53.032 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 29789.5447ms
2025-03-12 11:15:53.034 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 11:15:53.035 +05:00 [Error] Connection id ""0HNB15ABOR9UA"", Request id ""0HNB15ABOR9UA:00000012"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42703: column "hospitalizationdistance" does not exist

POSITION: 197
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token)
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token)
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken)
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken)
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "hospitalizationdistance" does not exist
    Hint: Perhaps you meant to reference the column "Calls.HospitalizationDistance".
    Position: 197
    File: parse_relation.c
    Line: 3723
    Routine: errorMissingColumn
2025-03-12 11:15:53.055 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 29817.2134ms
2025-03-12 11:15:57.357 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - null null
2025-03-12 11:15:57.360 +05:00 [Information] CORS policy execution successful.
2025-03-12 11:15:57.361 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 204 null null 3.7959ms
2025-03-12 11:15:57.364 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 669
2025-03-12 11:15:57.370 +05:00 [Information] CORS policy execution successful.
2025-03-12 11:15:57.371 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 11:15:57.372 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 11:15:57.387 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 11:15:57.389 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 11:15:58.839 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 11:17:33.157 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 95783.8876ms
2025-03-12 11:17:33.158 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 11:17:33.160 +05:00 [Error] Connection id ""0HNB15ABOR9UA"", Request id ""0HNB15ABOR9UA:00000014"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42804: column "HospitalizationDistance" is of type double precision but expression is of type text

POSITION: 205
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token)
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token)
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken)
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken)
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42804
    MessageText: column "HospitalizationDistance" is of type double precision but expression is of type text
    Hint: You will need to rewrite or cast the expression.
    Position: 205
    File: parse_target.c
    Line: 585
    Routine: transformAssignedExpr
2025-03-12 11:17:33.177 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 95813.5212ms
2025-03-12 11:20:35.528 +05:00 [Information] Migrations
2025-03-12 11:20:35.582 +05:00 [Information] 2025010501: CreateOrganizationTable
2025-03-12 11:20:35.584 +05:00 [Information] 2025010502: CreateUsersTable
2025-03-12 11:20:35.584 +05:00 [Information] 2025010503: CreateResultsCardiogramsTable
2025-03-12 11:20:35.585 +05:00 [Information] 2025010504: CreateCardiogramsStateTable
2025-03-12 11:20:35.585 +05:00 [Information] 2025010505: CreateCardiographsTable
2025-03-12 11:20:35.586 +05:00 [Information] 2025010506: CreateSexPatientsTable
2025-03-12 11:20:35.586 +05:00 [Information] 2025010507: CreatePrioritiesTable
2025-03-12 11:20:35.587 +05:00 [Information] 2025010508: CreateUsersCardiographsTable
2025-03-12 11:20:35.588 +05:00 [Information] 2025010509: CreateCallsTable
2025-03-12 11:20:35.588 +05:00 [Warning] 2025010510: CreateCardiogramsTable (current)
2025-03-12 11:20:35.815 +05:00 [Warning] Overriding address(es) '"http://localhost:2324/swagger"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-03-12 11:20:35.838 +05:00 [Information] Now listening on: "http://0.0.0.0:2324"
2025-03-12 11:20:35.839 +05:00 [Information] Application started. Press Ctrl+C to shut down.
2025-03-12 11:20:35.840 +05:00 [Information] Hosting environment: "Development"
2025-03-12 11:20:35.841 +05:00 [Information] Content root path: "C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.WebHost"
2025-03-12 11:20:36.649 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.html""" - null null
2025-03-12 11:20:36.862 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 220.6446ms
2025-03-12 11:20:36.990 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.js""" - null null
2025-03-12 11:20:37.022 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.js""" - 200 null "application/javascript;charset=utf-8" 32.4777ms
2025-03-12 11:20:37.384 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/v1/swagger.json""" - null null
2025-03-12 11:20:37.682 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 298.1993ms
2025-03-12 11:21:17.234 +05:00 [Information] Migrations
2025-03-12 11:21:17.291 +05:00 [Information] 2025010501: CreateOrganizationTable
2025-03-12 11:21:17.292 +05:00 [Information] 2025010502: CreateUsersTable
2025-03-12 11:21:17.293 +05:00 [Information] 2025010503: CreateResultsCardiogramsTable
2025-03-12 11:21:17.294 +05:00 [Information] 2025010504: CreateCardiogramsStateTable
2025-03-12 11:21:17.294 +05:00 [Information] 2025010505: CreateCardiographsTable
2025-03-12 11:21:17.295 +05:00 [Information] 2025010506: CreateSexPatientsTable
2025-03-12 11:21:17.295 +05:00 [Information] 2025010507: CreatePrioritiesTable
2025-03-12 11:21:17.295 +05:00 [Information] 2025010508: CreateUsersCardiographsTable
2025-03-12 11:21:17.296 +05:00 [Information] 2025010509: CreateCallsTable
2025-03-12 11:21:17.297 +05:00 [Warning] 2025010510: CreateCardiogramsTable (current)
2025-03-12 11:21:17.546 +05:00 [Warning] Overriding address(es) '"http://localhost:2324/swagger"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-03-12 11:21:17.570 +05:00 [Information] Now listening on: "http://0.0.0.0:2324"
2025-03-12 11:21:17.572 +05:00 [Information] Application started. Press Ctrl+C to shut down.
2025-03-12 11:21:17.573 +05:00 [Information] Hosting environment: "Development"
2025-03-12 11:21:17.574 +05:00 [Information] Content root path: "C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.WebHost"
2025-03-12 11:21:18.165 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.html""" - null null
2025-03-12 11:21:18.326 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 169.8367ms
2025-03-12 11:21:18.421 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.js""" - null null
2025-03-12 11:21:18.425 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.js""" - 200 null "application/javascript;charset=utf-8" 3.7624ms
2025-03-12 11:21:18.811 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/v1/swagger.json""" - null null
2025-03-12 11:21:19.071 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 260.8689ms
2025-03-12 11:21:23.861 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - null null
2025-03-12 11:21:23.870 +05:00 [Information] CORS policy execution successful.
2025-03-12 11:21:23.872 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 204 null null 10.9202ms
2025-03-12 11:21:23.883 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 669
2025-03-12 11:21:23.887 +05:00 [Information] CORS policy execution successful.
2025-03-12 11:21:23.892 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 11:21:23.916 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 11:21:24.674 +05:00 [Information] Executed DbCommand ("12"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 11:21:24.774 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 11:21:27.272 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 11:21:56.577 +05:00 [Information] Migrations
2025-03-12 11:21:56.631 +05:00 [Information] 2025010501: CreateOrganizationTable
2025-03-12 11:21:56.633 +05:00 [Information] 2025010502: CreateUsersTable
2025-03-12 11:21:56.634 +05:00 [Information] 2025010503: CreateResultsCardiogramsTable
2025-03-12 11:21:56.635 +05:00 [Information] 2025010504: CreateCardiogramsStateTable
2025-03-12 11:21:56.636 +05:00 [Information] 2025010505: CreateCardiographsTable
2025-03-12 11:21:56.636 +05:00 [Information] 2025010506: CreateSexPatientsTable
2025-03-12 11:21:56.637 +05:00 [Information] 2025010507: CreatePrioritiesTable
2025-03-12 11:21:56.637 +05:00 [Information] 2025010508: CreateUsersCardiographsTable
2025-03-12 11:21:56.638 +05:00 [Information] 2025010509: CreateCallsTable
2025-03-12 11:21:56.639 +05:00 [Warning] 2025010510: CreateCardiogramsTable (current)
2025-03-12 11:21:56.861 +05:00 [Warning] Overriding address(es) '"http://localhost:2324/swagger"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-03-12 11:21:56.884 +05:00 [Information] Now listening on: "http://0.0.0.0:2324"
2025-03-12 11:21:56.885 +05:00 [Information] Application started. Press Ctrl+C to shut down.
2025-03-12 11:21:56.886 +05:00 [Information] Hosting environment: "Development"
2025-03-12 11:21:56.887 +05:00 [Information] Content root path: "C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.WebHost"
2025-03-12 11:21:57.541 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.html""" - null null
2025-03-12 11:21:57.782 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 261.1403ms
2025-03-12 11:21:57.903 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.js""" - null null
2025-03-12 11:21:57.931 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.js""" - 200 null "application/javascript;charset=utf-8" 28.3911ms
2025-03-12 11:21:58.238 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/v1/swagger.json""" - null null
2025-03-12 11:21:58.467 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 228.9693ms
2025-03-12 11:22:09.360 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - null null
2025-03-12 11:22:09.369 +05:00 [Information] CORS policy execution successful.
2025-03-12 11:22:09.371 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 204 null null 11.2088ms
2025-03-12 11:22:09.376 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 669
2025-03-12 11:22:09.379 +05:00 [Information] CORS policy execution successful.
2025-03-12 11:22:09.382 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 11:22:09.411 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 11:22:10.208 +05:00 [Information] Executed DbCommand ("11"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 11:22:10.314 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 11:22:11.625 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 11:23:55.251 +05:00 [Information] Migrations
2025-03-12 11:23:55.295 +05:00 [Information] 2025010501: CreateOrganizationTable
2025-03-12 11:23:55.297 +05:00 [Information] 2025010502: CreateUsersTable
2025-03-12 11:23:55.298 +05:00 [Information] 2025010503: CreateResultsCardiogramsTable
2025-03-12 11:23:55.299 +05:00 [Information] 2025010504: CreateCardiogramsStateTable
2025-03-12 11:23:55.299 +05:00 [Information] 2025010505: CreateCardiographsTable
2025-03-12 11:23:55.300 +05:00 [Information] 2025010506: CreateSexPatientsTable
2025-03-12 11:23:55.300 +05:00 [Information] 2025010507: CreatePrioritiesTable
2025-03-12 11:23:55.300 +05:00 [Information] 2025010508: CreateUsersCardiographsTable
2025-03-12 11:23:55.301 +05:00 [Information] 2025010509: CreateCallsTable
2025-03-12 11:23:55.302 +05:00 [Warning] 2025010510: CreateCardiogramsTable (current)
2025-03-12 11:23:55.523 +05:00 [Warning] Overriding address(es) '"http://localhost:2324/swagger"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-03-12 11:23:55.557 +05:00 [Information] Now listening on: "http://0.0.0.0:2324"
2025-03-12 11:23:55.559 +05:00 [Information] Application started. Press Ctrl+C to shut down.
2025-03-12 11:23:55.559 +05:00 [Information] Hosting environment: "Development"
2025-03-12 11:23:55.562 +05:00 [Information] Content root path: "C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.WebHost"
2025-03-12 11:23:56.226 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.html""" - null null
2025-03-12 11:23:56.481 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 277.171ms
2025-03-12 11:23:56.527 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.js""" - null null
2025-03-12 11:23:56.536 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.js""" - 200 null "application/javascript;charset=utf-8" 9.2019ms
2025-03-12 11:23:56.983 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/v1/swagger.json""" - null null
2025-03-12 11:23:57.273 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 290.6849ms
2025-03-12 11:24:02.790 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - null null
2025-03-12 11:24:02.799 +05:00 [Information] CORS policy execution successful.
2025-03-12 11:24:02.801 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 204 null null 11.1354ms
2025-03-12 11:24:02.807 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 669
2025-03-12 11:24:02.810 +05:00 [Information] CORS policy execution successful.
2025-03-12 11:24:02.813 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 11:24:02.839 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 11:24:03.545 +05:00 [Information] Executed DbCommand ("10"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 11:24:03.625 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 11:24:05.028 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 11:26:08.147 +05:00 [Information] Migrations
2025-03-12 11:26:08.198 +05:00 [Information] 2025010501: CreateOrganizationTable
2025-03-12 11:26:08.200 +05:00 [Information] 2025010502: CreateUsersTable
2025-03-12 11:26:08.200 +05:00 [Information] 2025010503: CreateResultsCardiogramsTable
2025-03-12 11:26:08.201 +05:00 [Information] 2025010504: CreateCardiogramsStateTable
2025-03-12 11:26:08.201 +05:00 [Information] 2025010505: CreateCardiographsTable
2025-03-12 11:26:08.202 +05:00 [Information] 2025010506: CreateSexPatientsTable
2025-03-12 11:26:08.202 +05:00 [Information] 2025010507: CreatePrioritiesTable
2025-03-12 11:26:08.203 +05:00 [Information] 2025010508: CreateUsersCardiographsTable
2025-03-12 11:26:08.203 +05:00 [Information] 2025010509: CreateCallsTable
2025-03-12 11:26:08.204 +05:00 [Warning] 2025010510: CreateCardiogramsTable (current)
2025-03-12 11:26:08.443 +05:00 [Warning] Overriding address(es) '"http://localhost:2324/swagger"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-03-12 11:26:08.466 +05:00 [Information] Now listening on: "http://0.0.0.0:2324"
2025-03-12 11:26:08.468 +05:00 [Information] Application started. Press Ctrl+C to shut down.
2025-03-12 11:26:08.468 +05:00 [Information] Hosting environment: "Development"
2025-03-12 11:26:08.469 +05:00 [Information] Content root path: "C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.WebHost"
2025-03-12 11:26:09.243 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.html""" - null null
2025-03-12 11:26:09.464 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 235.6378ms
2025-03-12 11:26:09.593 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.js""" - null null
2025-03-12 11:26:09.638 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.js""" - 200 null "application/javascript;charset=utf-8" 45.1536ms
2025-03-12 11:26:10.012 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/v1/swagger.json""" - null null
2025-03-12 11:26:10.312 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 300.5059ms
2025-03-12 11:26:18.863 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - null null
2025-03-12 11:26:18.871 +05:00 [Information] CORS policy execution successful.
2025-03-12 11:26:18.874 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 204 null null 11.023ms
2025-03-12 11:26:18.888 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 669
2025-03-12 11:26:18.891 +05:00 [Information] CORS policy execution successful.
2025-03-12 11:26:18.895 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 11:26:18.919 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 11:26:19.645 +05:00 [Information] Executed DbCommand ("12"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 11:26:19.741 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 11:26:21.097 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 11:28:20.159 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 121234.3103ms
2025-03-12 11:28:20.162 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 11:28:20.170 +05:00 [Error] Connection id ""0HNB15R3BT7PM"", Request id ""0HNB15R3BT7PM:00000002"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42804: column "CallState" is of type integer but expression is of type text

POSITION: 52
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 106
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42804
    MessageText: column "CallState" is of type integer but expression is of type text
    Hint: You will need to rewrite or cast the expression.
    Position: 52
    File: parse_target.c
    Line: 585
    Routine: transformAssignedExpr
2025-03-12 11:28:20.207 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 121319.4871ms
2025-03-12 11:28:37.403 +05:00 [Information] Migrations
2025-03-12 11:28:37.454 +05:00 [Information] 2025010501: CreateOrganizationTable
2025-03-12 11:28:37.456 +05:00 [Information] 2025010502: CreateUsersTable
2025-03-12 11:28:37.457 +05:00 [Information] 2025010503: CreateResultsCardiogramsTable
2025-03-12 11:28:37.457 +05:00 [Information] 2025010504: CreateCardiogramsStateTable
2025-03-12 11:28:37.458 +05:00 [Information] 2025010505: CreateCardiographsTable
2025-03-12 11:28:37.458 +05:00 [Information] 2025010506: CreateSexPatientsTable
2025-03-12 11:28:37.459 +05:00 [Information] 2025010507: CreatePrioritiesTable
2025-03-12 11:28:37.459 +05:00 [Information] 2025010508: CreateUsersCardiographsTable
2025-03-12 11:28:37.459 +05:00 [Information] 2025010509: CreateCallsTable
2025-03-12 11:28:37.460 +05:00 [Warning] 2025010510: CreateCardiogramsTable (current)
2025-03-12 11:28:37.686 +05:00 [Warning] Overriding address(es) '"http://localhost:2324/swagger"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-03-12 11:28:37.707 +05:00 [Information] Now listening on: "http://0.0.0.0:2324"
2025-03-12 11:28:37.708 +05:00 [Information] Application started. Press Ctrl+C to shut down.
2025-03-12 11:28:37.709 +05:00 [Information] Hosting environment: "Development"
2025-03-12 11:28:37.710 +05:00 [Information] Content root path: "C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.WebHost"
2025-03-12 11:28:38.624 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.html""" - null null
2025-03-12 11:28:38.933 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 332.6266ms
2025-03-12 11:28:39.041 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.js""" - null null
2025-03-12 11:28:39.057 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.js""" - 200 null "application/javascript;charset=utf-8" 15.3934ms
2025-03-12 11:28:39.379 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/v1/swagger.json""" - null null
2025-03-12 11:28:39.686 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 307.0451ms
2025-03-12 11:30:14.891 +05:00 [Information] Migrations
2025-03-12 11:30:14.939 +05:00 [Information] 2025010501: CreateOrganizationTable
2025-03-12 11:30:14.941 +05:00 [Information] 2025010502: CreateUsersTable
2025-03-12 11:30:14.942 +05:00 [Information] 2025010503: CreateResultsCardiogramsTable
2025-03-12 11:30:14.943 +05:00 [Information] 2025010504: CreateCardiogramsStateTable
2025-03-12 11:30:14.943 +05:00 [Information] 2025010505: CreateCardiographsTable
2025-03-12 11:30:14.944 +05:00 [Information] 2025010506: CreateSexPatientsTable
2025-03-12 11:30:14.944 +05:00 [Information] 2025010507: CreatePrioritiesTable
2025-03-12 11:30:14.944 +05:00 [Information] 2025010508: CreateUsersCardiographsTable
2025-03-12 11:30:14.945 +05:00 [Information] 2025010509: CreateCallsTable
2025-03-12 11:30:14.946 +05:00 [Warning] 2025010510: CreateCardiogramsTable (current)
2025-03-12 11:30:15.168 +05:00 [Warning] Overriding address(es) '"http://localhost:2324/swagger"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-03-12 11:30:15.191 +05:00 [Information] Now listening on: "http://0.0.0.0:2324"
2025-03-12 11:30:15.192 +05:00 [Information] Application started. Press Ctrl+C to shut down.
2025-03-12 11:30:15.192 +05:00 [Information] Hosting environment: "Development"
2025-03-12 11:30:15.193 +05:00 [Information] Content root path: "C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.WebHost"
2025-03-12 11:30:16.199 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.html""" - null null
2025-03-12 11:30:16.384 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 202.0917ms
2025-03-12 11:30:16.482 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.js""" - null null
2025-03-12 11:30:16.499 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.js""" - 200 null "application/javascript;charset=utf-8" 17.0848ms
2025-03-12 11:30:16.791 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/v1/swagger.json""" - null null
2025-03-12 11:30:17.033 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 242.0945ms
2025-03-12 11:31:47.569 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - null null
2025-03-12 11:31:47.606 +05:00 [Information] CORS policy execution successful.
2025-03-12 11:31:47.629 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - 204 null null 60.0106ms
2025-03-12 11:31:47.652 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - "application/json" null
2025-03-12 11:31:47.660 +05:00 [Information] CORS policy execution successful.
2025-03-12 11:31:47.669 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)"'
2025-03-12 11:31:47.703 +05:00 [Information] Route matched with "{action = \"GetOrganizations\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrganizations()" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 11:31:48.554 +05:00 [Information] Executed DbCommand ("13"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 11:31:48.568 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 11:31:48.577 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 11:31:48.768 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 188.0655ms.
2025-03-12 11:31:48.792 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Organization[]"'.
2025-03-12 11:31:48.889 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)" in 1177.697ms
2025-03-12 11:31:48.892 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)"'
2025-03-12 11:31:48.913 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - 200 null "application/json; charset=utf-8" 1260.8914ms
2025-03-12 11:31:50.860 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - null null
2025-03-12 11:31:50.863 +05:00 [Information] CORS policy execution successful.
2025-03-12 11:31:50.864 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - 204 null null 3.7816ms
2025-03-12 11:31:50.867 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - "application/json" null
2025-03-12 11:31:50.870 +05:00 [Information] CORS policy execution successful.
2025-03-12 11:31:50.871 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)"'
2025-03-12 11:31:50.882 +05:00 [Information] Route matched with "{action = \"GetUsers\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 11:31:50.916 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 11:31:50.937 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 11:31:50.939 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 11:31:50.975 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 36.5835ms.
2025-03-12 11:31:50.977 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.User[]"'.
2025-03-12 11:31:50.991 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)" in 106.894ms
2025-03-12 11:31:50.992 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)"'
2025-03-12 11:31:50.994 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - 200 null "application/json; charset=utf-8" 126.3446ms
2025-03-12 11:31:51.378 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - null null
2025-03-12 11:31:51.380 +05:00 [Information] CORS policy execution successful.
2025-03-12 11:31:51.381 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - 204 null null 3.3477ms
2025-03-12 11:31:51.384 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - "application/json" null
2025-03-12 11:31:51.387 +05:00 [Information] CORS policy execution successful.
2025-03-12 11:31:51.387 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)"'
2025-03-12 11:31:51.390 +05:00 [Information] Route matched with "{action = \"GetCardiographs\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiographs(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 11:31:51.435 +05:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 11:31:51.438 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 11:31:51.441 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 11:31:51.452 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 12.3982ms.
2025-03-12 11:31:51.454 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Cardiograph[]"'.
2025-03-12 11:31:51.456 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)" in 63.7313ms
2025-03-12 11:31:51.457 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)"'
2025-03-12 11:31:51.459 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - 200 null "application/json; charset=utf-8" 74.5746ms
2025-03-12 11:31:54.159 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - null null
2025-03-12 11:31:54.162 +05:00 [Information] CORS policy execution successful.
2025-03-12 11:31:54.163 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - 204 null null 3.4067ms
2025-03-12 11:31:54.166 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - "application/json" null
2025-03-12 11:31:54.168 +05:00 [Information] CORS policy execution successful.
2025-03-12 11:31:54.168 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)"'
2025-03-12 11:31:54.172 +05:00 [Information] Route matched with "{action = \"GetCardiograms\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiograms(System.String)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 11:31:54.186 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 11:31:54.193 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 11:31:54.195 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 11:31:54.205 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 10.4604ms.
2025-03-12 11:31:54.207 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Cardiogram[]"'.
2025-03-12 11:31:54.221 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)" in 46.9057ms
2025-03-12 11:31:54.222 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)"'
2025-03-12 11:31:54.223 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - 200 null "application/json; charset=utf-8" 57.8411ms
2025-03-12 11:31:54.679 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - null null
2025-03-12 11:31:54.682 +05:00 [Information] CORS policy execution successful.
2025-03-12 11:31:54.683 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 204 null null 3.7069ms
2025-03-12 11:31:54.688 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - "application/json" null
2025-03-12 11:31:54.690 +05:00 [Information] CORS policy execution successful.
2025-03-12 11:31:54.691 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)"'
2025-03-12 11:31:54.693 +05:00 [Information] Route matched with "{action = \"GetCardiogram\", controller = \"Cardiogram\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiogram(System.Guid)" on controller "KpoApi.Presentation.Controllers.CardiogramController" ("KpoApi.Presentation").
2025-03-12 11:31:54.705 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 11:31:54.708 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 11:31:54.709 +05:00 [Information] Поступил запрос на получение всей информации по кардиограмме
2025-03-12 11:31:54.727 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 18.2507ms.
2025-03-12 11:31:54.728 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Application.Models.Data.EntireCardiogramModel"'.
2025-03-12 11:31:54.741 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)" in 46.6585ms
2025-03-12 11:31:54.742 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)"'
2025-03-12 11:31:54.743 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 200 null "application/json; charset=utf-8" 56.1331ms
2025-03-12 11:31:54.762 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - null null
2025-03-12 11:31:54.765 +05:00 [Information] CORS policy execution successful.
2025-03-12 11:31:54.765 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 204 null null 3.4226ms
2025-03-12 11:31:54.770 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - "application/json" null
2025-03-12 11:31:54.772 +05:00 [Information] CORS policy execution successful.
2025-03-12 11:31:54.772 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)"'
2025-03-12 11:31:54.775 +05:00 [Information] Route matched with "{action = \"GetUsersByCardiograms\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByCardiograms(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 11:31:54.789 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 11:31:54.792 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 11:31:54.795 +05:00 [Information] Поступил запрос на получение пользователей по кардиограмме
2025-03-12 11:31:54.806 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 11.9179ms.
2025-03-12 11:31:54.807 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.User[]"'.
2025-03-12 11:31:54.810 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)" in 33.0566ms
2025-03-12 11:31:54.811 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)"'
2025-03-12 11:31:54.813 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 200 null "application/json; charset=utf-8" 42.8857ms
2025-03-12 17:58:47.139 +05:00 [Information] Migrations
2025-03-12 17:58:47.195 +05:00 [Information] 2025010501: CreateOrganizationTable
2025-03-12 17:58:47.196 +05:00 [Information] 2025010502: CreateUsersTable
2025-03-12 17:58:47.197 +05:00 [Information] 2025010503: CreateResultsCardiogramsTable
2025-03-12 17:58:47.198 +05:00 [Information] 2025010504: CreateCardiogramsStateTable
2025-03-12 17:58:47.198 +05:00 [Information] 2025010505: CreateCardiographsTable
2025-03-12 17:58:47.198 +05:00 [Information] 2025010506: CreateSexPatientsTable
2025-03-12 17:58:47.199 +05:00 [Information] 2025010507: CreatePrioritiesTable
2025-03-12 17:58:47.199 +05:00 [Information] 2025010508: CreateUsersCardiographsTable
2025-03-12 17:58:47.200 +05:00 [Information] 2025010509: CreateCallsTable
2025-03-12 17:58:47.201 +05:00 [Warning] 2025010510: CreateCardiogramsTable (current)
2025-03-12 17:58:47.654 +05:00 [Warning] Overriding address(es) '"http://localhost:2324/swagger"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-03-12 17:58:47.680 +05:00 [Information] Now listening on: "http://0.0.0.0:2324"
2025-03-12 17:58:47.681 +05:00 [Information] Application started. Press Ctrl+C to shut down.
2025-03-12 17:58:47.682 +05:00 [Information] Hosting environment: "Development"
2025-03-12 17:58:47.683 +05:00 [Information] Content root path: "C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.WebHost"
2025-03-12 17:58:48.825 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.html""" - null null
2025-03-12 17:58:48.996 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 179.5038ms
2025-03-12 17:58:49.066 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.js""" - null null
2025-03-12 17:58:49.073 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.js""" - 200 null "application/javascript;charset=utf-8" 7.0703ms
2025-03-12 17:58:49.512 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/v1/swagger.json""" - null null
2025-03-12 17:58:49.744 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 233.2068ms
2025-03-12 17:59:42.717 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - null null
2025-03-12 17:59:42.753 +05:00 [Information] CORS policy execution successful.
2025-03-12 17:59:42.760 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - 204 null null 43.7308ms
2025-03-12 17:59:42.785 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - "application/json" null
2025-03-12 17:59:42.790 +05:00 [Information] CORS policy execution successful.
2025-03-12 17:59:42.795 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)"'
2025-03-12 17:59:42.817 +05:00 [Information] Route matched with "{action = \"GetOrganizations\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrganizations()" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 17:59:43.889 +05:00 [Information] Executed DbCommand ("12"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 17:59:43.899 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 17:59:43.903 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 17:59:44.153 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 247.5476ms.
2025-03-12 17:59:44.166 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Organization[]"'.
2025-03-12 17:59:44.213 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)" in 1390.7048ms
2025-03-12 17:59:44.214 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)"'
2025-03-12 17:59:44.227 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - 200 null "application/json; charset=utf-8" 1442.4729ms
2025-03-12 17:59:45.123 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - null null
2025-03-12 17:59:45.125 +05:00 [Information] CORS policy execution successful.
2025-03-12 17:59:45.126 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - 204 null null 3.3153ms
2025-03-12 17:59:45.129 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - "application/json" null
2025-03-12 17:59:45.131 +05:00 [Information] CORS policy execution successful.
2025-03-12 17:59:45.132 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)"'
2025-03-12 17:59:45.141 +05:00 [Information] Route matched with "{action = \"GetUsers\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 17:59:45.170 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 17:59:45.188 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 17:59:45.190 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 17:59:45.221 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 31.6642ms.
2025-03-12 17:59:45.224 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.User[]"'.
2025-03-12 17:59:45.235 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)" in 92.1541ms
2025-03-12 17:59:45.237 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)"'
2025-03-12 17:59:45.239 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - 200 null "application/json; charset=utf-8" 109.4084ms
2025-03-12 17:59:57.613 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - null null
2025-03-12 17:59:57.621 +05:00 [Information] CORS policy execution successful.
2025-03-12 17:59:57.622 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - 204 null null 9.2499ms
2025-03-12 17:59:57.635 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - "application/json" null
2025-03-12 17:59:57.637 +05:00 [Information] CORS policy execution successful.
2025-03-12 17:59:57.638 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)"'
2025-03-12 17:59:57.641 +05:00 [Information] Route matched with "{action = \"GetCardiographs\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiographs(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 17:59:57.686 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 17:59:57.689 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 17:59:57.691 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 17:59:57.700 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 9.4098ms.
2025-03-12 17:59:57.701 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Cardiograph[]"'.
2025-03-12 17:59:57.704 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)" in 61.4944ms
2025-03-12 17:59:57.705 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)"'
2025-03-12 17:59:57.707 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - 200 null "application/json; charset=utf-8" 71.2719ms
2025-03-12 17:59:58.124 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - null null
2025-03-12 17:59:58.126 +05:00 [Information] CORS policy execution successful.
2025-03-12 17:59:58.129 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - 204 null null 4.7219ms
2025-03-12 17:59:58.136 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - "application/json" null
2025-03-12 17:59:58.139 +05:00 [Information] CORS policy execution successful.
2025-03-12 17:59:58.140 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)"'
2025-03-12 17:59:58.144 +05:00 [Information] Route matched with "{action = \"GetCardiograms\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiograms(System.String)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 17:59:58.160 +05:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 17:59:58.167 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 17:59:58.169 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 17:59:58.185 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 17.6686ms.
2025-03-12 17:59:58.188 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Cardiogram[]"'.
2025-03-12 17:59:58.214 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)" in 68.5551ms
2025-03-12 17:59:58.215 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)"'
2025-03-12 17:59:58.216 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - 200 null "application/json; charset=utf-8" 80.1681ms
2025-03-12 17:59:58.688 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - null null
2025-03-12 17:59:58.690 +05:00 [Information] CORS policy execution successful.
2025-03-12 17:59:58.690 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 204 null null 2.6843ms
2025-03-12 17:59:58.695 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - "application/json" null
2025-03-12 17:59:58.698 +05:00 [Information] CORS policy execution successful.
2025-03-12 17:59:58.698 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)"'
2025-03-12 17:59:58.701 +05:00 [Information] Route matched with "{action = \"GetCardiogram\", controller = \"Cardiogram\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiogram(System.Guid)" on controller "KpoApi.Presentation.Controllers.CardiogramController" ("KpoApi.Presentation").
2025-03-12 17:59:58.713 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 17:59:58.716 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 17:59:58.718 +05:00 [Information] Поступил запрос на получение всей информации по кардиограмме
2025-03-12 17:59:58.740 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 22.6103ms.
2025-03-12 17:59:58.741 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Application.Models.Data.EntireCardiogramModel"'.
2025-03-12 17:59:58.764 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)" in 61.5115ms
2025-03-12 17:59:58.765 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)"'
2025-03-12 17:59:58.766 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 200 null "application/json; charset=utf-8" 70.6134ms
2025-03-12 17:59:58.784 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - null null
2025-03-12 17:59:58.787 +05:00 [Information] CORS policy execution successful.
2025-03-12 17:59:58.788 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 204 null null 3.4577ms
2025-03-12 17:59:58.793 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - "application/json" null
2025-03-12 17:59:58.795 +05:00 [Information] CORS policy execution successful.
2025-03-12 17:59:58.795 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)"'
2025-03-12 17:59:58.799 +05:00 [Information] Route matched with "{action = \"GetUsersByCardiograms\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByCardiograms(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 17:59:58.817 +05:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 17:59:58.819 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 17:59:58.821 +05:00 [Information] Поступил запрос на получение пользователей по кардиограмме
2025-03-12 17:59:58.827 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 7.1416ms.
2025-03-12 17:59:58.829 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.User[]"'.
2025-03-12 17:59:58.830 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)" in 29.3176ms
2025-03-12 17:59:58.832 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)"'
2025-03-12 17:59:58.833 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 200 null "application/json; charset=utf-8" 40.5588ms
2025-03-12 17:59:59.793 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - null null
2025-03-12 17:59:59.795 +05:00 [Information] CORS policy execution successful.
2025-03-12 17:59:59.796 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 204 null null 2.948ms
2025-03-12 17:59:59.800 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 930
2025-03-12 17:59:59.803 +05:00 [Information] CORS policy execution successful.
2025-03-12 17:59:59.804 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 17:59:59.813 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 17:59:59.829 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 17:59:59.924 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 18:00:59.186 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 18:00:59.545 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 59730.7846ms
2025-03-12 18:00:59.547 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 18:00:59.549 +05:00 [Error] Connection id ""0HNB1CMGQ4EC4"", Request id ""0HNB1CMGQ4EC4:0000000E"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42804: column "CallState" is of type integer but expression is of type text

POSITION: 52
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 106
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42804
    MessageText: column "CallState" is of type integer but expression is of type text
    Hint: You will need to rewrite or cast the expression.
    Position: 52
    File: parse_target.c
    Line: 585
    Routine: transformAssignedExpr
2025-03-12 18:00:59.603 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 59803.2987ms
2025-03-12 18:02:01.482 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=f45d0e56-5c94-48f1-b703-42fb5fc25376" - null null
2025-03-12 18:02:01.484 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:02:01.485 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=f45d0e56-5c94-48f1-b703-42fb5fc25376" - 204 null null 3.3126ms
2025-03-12 18:02:01.490 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=f45d0e56-5c94-48f1-b703-42fb5fc25376" - "application/json" null
2025-03-12 18:02:01.492 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:02:01.493 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)"'
2025-03-12 18:02:01.493 +05:00 [Information] Route matched with "{action = \"GetUsers\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 18:02:01.508 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:02:01.510 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 18:02:01.511 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 18:02:01.513 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 2.876ms.
2025-03-12 18:02:01.515 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.User[]"'.
2025-03-12 18:02:01.516 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)" in 20.7829ms
2025-03-12 18:02:01.517 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)"'
2025-03-12 18:02:01.519 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=f45d0e56-5c94-48f1-b703-42fb5fc25376" - 200 null "application/json; charset=utf-8" 28.4798ms
2025-03-12 18:02:02.250 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=3fa85f64-5717-4562-b3fc-2c963f66afa6" - null null
2025-03-12 18:02:02.252 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:02:02.253 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=3fa85f64-5717-4562-b3fc-2c963f66afa6" - 204 null null 3.3996ms
2025-03-12 18:02:02.258 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=3fa85f64-5717-4562-b3fc-2c963f66afa6" - "application/json" null
2025-03-12 18:02:02.260 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:02:02.260 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)"'
2025-03-12 18:02:02.261 +05:00 [Information] Route matched with "{action = \"GetCardiographs\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiographs(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 18:02:02.273 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:02:02.275 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 18:02:02.276 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 18:02:02.279 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.BadRequestResult" in 3.2521ms.
2025-03-12 18:02:02.286 +05:00 [Information] Executing "ObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ProblemDetails"'.
2025-03-12 18:02:02.305 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)" in 43.1019ms
2025-03-12 18:02:02.307 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)"'
2025-03-12 18:02:02.308 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=3fa85f64-5717-4562-b3fc-2c963f66afa6" - 400 null "application/problem+json; charset=utf-8" 50.7536ms
2025-03-12 18:02:12.298 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - null null
2025-03-12 18:02:12.300 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:02:12.300 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 204 null null 2.4207ms
2025-03-12 18:02:12.303 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - "application/json" null
2025-03-12 18:02:12.304 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:02:12.305 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)"'
2025-03-12 18:02:12.306 +05:00 [Information] Route matched with "{action = \"GetCardiogram\", controller = \"Cardiogram\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiogram(System.Guid)" on controller "KpoApi.Presentation.Controllers.CardiogramController" ("KpoApi.Presentation").
2025-03-12 18:02:12.317 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:02:12.319 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 18:02:12.320 +05:00 [Information] Поступил запрос на получение всей информации по кардиограмме
2025-03-12 18:02:12.324 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3.484ms.
2025-03-12 18:02:12.325 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Application.Models.Data.EntireCardiogramModel"'.
2025-03-12 18:02:12.326 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)" in 18.9006ms
2025-03-12 18:02:12.327 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)"'
2025-03-12 18:02:12.328 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 200 null "application/json; charset=utf-8" 25.2983ms
2025-03-12 18:02:54.707 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=c4f243f2-a246-4519-a732-6fd80cc1da61" - null null
2025-03-12 18:02:54.709 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:02:54.710 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=c4f243f2-a246-4519-a732-6fd80cc1da61" - 204 null null 3.9102ms
2025-03-12 18:02:54.716 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=c4f243f2-a246-4519-a732-6fd80cc1da61" - "application/json" null
2025-03-12 18:02:54.718 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:02:54.719 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)"'
2025-03-12 18:02:54.719 +05:00 [Information] Route matched with "{action = \"GetCardiographs\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiographs(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 18:02:54.736 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:02:54.739 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 18:02:54.740 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 18:02:54.744 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3.2213ms.
2025-03-12 18:02:54.745 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Cardiograph[]"'.
2025-03-12 18:02:54.746 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)" in 24.7682ms
2025-03-12 18:02:54.748 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)"'
2025-03-12 18:02:54.750 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=c4f243f2-a246-4519-a732-6fd80cc1da61" - 200 null "application/json; charset=utf-8" 33.5772ms
2025-03-12 18:03:02.673 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=52138488-6348-4919-ba37-13497478b7ac" - null null
2025-03-12 18:03:02.675 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:03:02.676 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=52138488-6348-4919-ba37-13497478b7ac" - 204 null null 3.2654ms
2025-03-12 18:03:02.684 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=52138488-6348-4919-ba37-13497478b7ac" - "application/json" null
2025-03-12 18:03:02.687 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:03:02.688 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)"'
2025-03-12 18:03:02.690 +05:00 [Information] Route matched with "{action = \"GetCardiographs\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiographs(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 18:03:02.709 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:03:02.712 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 18:03:02.713 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 18:03:02.716 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3.128ms.
2025-03-12 18:03:02.717 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Cardiograph[]"'.
2025-03-12 18:03:02.718 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)" in 26.2651ms
2025-03-12 18:03:02.719 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)"'
2025-03-12 18:03:02.721 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=52138488-6348-4919-ba37-13497478b7ac" - 200 null "application/json; charset=utf-8" 36.8687ms
2025-03-12 18:03:15.453 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - null null
2025-03-12 18:03:15.462 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:03:15.463 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - 204 null null 9.6614ms
2025-03-12 18:03:15.467 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - "application/json" null
2025-03-12 18:03:15.470 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:03:15.470 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)"'
2025-03-12 18:03:15.472 +05:00 [Information] Route matched with "{action = \"GetOrganizations\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrganizations()" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 18:03:15.491 +05:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:03:15.494 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 18:03:15.496 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 18:03:15.499 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3.6947ms.
2025-03-12 18:03:15.507 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Organization[]"'.
2025-03-12 18:03:15.509 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)" in 34.782ms
2025-03-12 18:03:15.510 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)"'
2025-03-12 18:03:15.512 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - 200 null "application/json; charset=utf-8" 45.7162ms
2025-03-12 18:03:16.276 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - null null
2025-03-12 18:03:16.279 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:03:16.282 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - 204 null null 5.9663ms
2025-03-12 18:03:16.287 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - "application/json" null
2025-03-12 18:03:16.290 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:03:16.292 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)"'
2025-03-12 18:03:16.294 +05:00 [Information] Route matched with "{action = \"GetUsers\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 18:03:16.313 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:03:16.316 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 18:03:16.317 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 18:03:16.319 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 2.2268ms.
2025-03-12 18:03:16.321 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.User[]"'.
2025-03-12 18:03:16.323 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)" in 26.3036ms
2025-03-12 18:03:16.324 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)"'
2025-03-12 18:03:16.326 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - 200 null "application/json; charset=utf-8" 38.5939ms
2025-03-12 18:03:17.262 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - null null
2025-03-12 18:03:17.264 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:03:17.265 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - 204 null null 3.2923ms
2025-03-12 18:03:17.269 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - "application/json" null
2025-03-12 18:03:17.270 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:03:17.271 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)"'
2025-03-12 18:03:17.272 +05:00 [Information] Route matched with "{action = \"GetCardiographs\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiographs(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 18:03:17.288 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:03:17.290 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 18:03:17.292 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 18:03:17.296 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3.6809ms.
2025-03-12 18:03:17.297 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Cardiograph[]"'.
2025-03-12 18:03:17.298 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)" in 24.6145ms
2025-03-12 18:03:17.300 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)"'
2025-03-12 18:03:17.301 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - 200 null "application/json; charset=utf-8" 32.4846ms
2025-03-12 18:03:18.998 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - null null
2025-03-12 18:03:19.000 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:03:19.001 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - 204 null null 2.9833ms
2025-03-12 18:03:19.005 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - "application/json" null
2025-03-12 18:03:19.007 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:03:19.008 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)"'
2025-03-12 18:03:19.008 +05:00 [Information] Route matched with "{action = \"GetCardiograms\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiograms(System.String)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 18:03:19.025 +05:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:03:19.027 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 18:03:19.029 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 18:03:19.033 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3.5916ms.
2025-03-12 18:03:19.034 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Cardiogram[]"'.
2025-03-12 18:03:19.035 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)" in 24.8821ms
2025-03-12 18:03:19.036 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)"'
2025-03-12 18:03:19.038 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - 200 null "application/json; charset=utf-8" 33.3564ms
2025-03-12 18:03:23.193 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=f45d0e56-5c94-48f1-b703-42fb5fc25376" - null null
2025-03-12 18:03:23.195 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:03:23.196 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=f45d0e56-5c94-48f1-b703-42fb5fc25376" - 204 null null 2.78ms
2025-03-12 18:03:23.199 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=f45d0e56-5c94-48f1-b703-42fb5fc25376" - "application/json" null
2025-03-12 18:03:23.202 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:03:23.203 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)"'
2025-03-12 18:03:23.204 +05:00 [Information] Route matched with "{action = \"GetUsers\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 18:03:23.222 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:03:23.225 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 18:03:23.226 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 18:03:23.229 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3.3851ms.
2025-03-12 18:03:23.231 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.User[]"'.
2025-03-12 18:03:23.233 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)" in 26.6139ms
2025-03-12 18:03:23.234 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)"'
2025-03-12 18:03:23.236 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=f45d0e56-5c94-48f1-b703-42fb5fc25376" - 200 null "application/json; charset=utf-8" 36.5988ms
2025-03-12 18:03:34.758 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - null null
2025-03-12 18:03:34.760 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:03:34.761 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 204 null null 3.0567ms
2025-03-12 18:03:34.765 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - "application/json" null
2025-03-12 18:03:34.767 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:03:34.768 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)"'
2025-03-12 18:03:34.769 +05:00 [Information] Route matched with "{action = \"GetCardiogram\", controller = \"Cardiogram\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiogram(System.Guid)" on controller "KpoApi.Presentation.Controllers.CardiogramController" ("KpoApi.Presentation").
2025-03-12 18:03:34.786 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:03:34.789 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 18:03:34.791 +05:00 [Information] Поступил запрос на получение всей информации по кардиограмме
2025-03-12 18:03:34.794 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3.8267ms.
2025-03-12 18:03:34.796 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Application.Models.Data.EntireCardiogramModel"'.
2025-03-12 18:03:34.798 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)" in 26.9339ms
2025-03-12 18:03:34.800 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)"'
2025-03-12 18:03:34.803 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 200 null "application/json; charset=utf-8" 37.7553ms
2025-03-12 18:03:34.848 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - null null
2025-03-12 18:03:34.855 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:03:34.856 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 204 null null 7.6554ms
2025-03-12 18:03:34.862 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - "application/json" null
2025-03-12 18:03:34.864 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:03:34.865 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)"'
2025-03-12 18:03:34.866 +05:00 [Information] Route matched with "{action = \"GetUsersByCardiograms\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByCardiograms(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 18:03:34.884 +05:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:03:34.887 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 18:03:34.887 +05:00 [Information] Поступил запрос на получение пользователей по кардиограмме
2025-03-12 18:03:34.891 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3.2943ms.
2025-03-12 18:03:34.892 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.User[]"'.
2025-03-12 18:03:34.894 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)" in 24.7009ms
2025-03-12 18:03:34.895 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)"'
2025-03-12 18:03:34.897 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 200 null "application/json; charset=utf-8" 35.4007ms
2025-03-12 18:03:46.611 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - null null
2025-03-12 18:03:46.614 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:03:46.615 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 204 null null 4.3173ms
2025-03-12 18:03:46.621 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 930
2025-03-12 18:03:46.622 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:03:46.623 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 18:03:46.625 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 18:03:46.648 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:03:46.651 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 18:03:48.309 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 18:03:48.610 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 1979.6398ms
2025-03-12 18:03:48.611 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 18:03:48.612 +05:00 [Error] Connection id ""0HNB1CMGQ4EC4"", Request id ""0HNB1CMGQ4EC4:00000028"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42804: column "CallState" is of type integer but expression is of type text

POSITION: 52
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 106
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 120
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42804
    MessageText: column "CallState" is of type integer but expression is of type text
    Hint: You will need to rewrite or cast the expression.
    Position: 52
    File: parse_target.c
    Line: 585
    Routine: transformAssignedExpr
2025-03-12 18:03:48.625 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 2003.8411ms
2025-03-12 18:05:38.658 +05:00 [Information] Migrations
2025-03-12 18:05:38.713 +05:00 [Information] 2025010501: CreateOrganizationTable
2025-03-12 18:05:38.715 +05:00 [Information] 2025010502: CreateUsersTable
2025-03-12 18:05:38.717 +05:00 [Information] 2025010503: CreateResultsCardiogramsTable
2025-03-12 18:05:38.717 +05:00 [Information] 2025010504: CreateCardiogramsStateTable
2025-03-12 18:05:38.718 +05:00 [Information] 2025010505: CreateCardiographsTable
2025-03-12 18:05:38.718 +05:00 [Information] 2025010506: CreateSexPatientsTable
2025-03-12 18:05:38.719 +05:00 [Information] 2025010507: CreatePrioritiesTable
2025-03-12 18:05:38.719 +05:00 [Information] 2025010508: CreateUsersCardiographsTable
2025-03-12 18:05:38.719 +05:00 [Information] 2025010509: CreateCallsTable
2025-03-12 18:05:38.720 +05:00 [Warning] 2025010510: CreateCardiogramsTable (current)
2025-03-12 18:05:38.949 +05:00 [Warning] Overriding address(es) '"http://localhost:2324/swagger"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-03-12 18:05:38.971 +05:00 [Information] Now listening on: "http://0.0.0.0:2324"
2025-03-12 18:05:38.973 +05:00 [Information] Application started. Press Ctrl+C to shut down.
2025-03-12 18:05:38.973 +05:00 [Information] Hosting environment: "Development"
2025-03-12 18:05:38.974 +05:00 [Information] Content root path: "C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.WebHost"
2025-03-12 18:05:39.738 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.html""" - null null
2025-03-12 18:05:39.970 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 253.5421ms
2025-03-12 18:05:40.117 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.js""" - null null
2025-03-12 18:05:40.121 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.js""" - 200 null "application/javascript;charset=utf-8" 4.1654ms
2025-03-12 18:05:40.541 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/v1/swagger.json""" - null null
2025-03-12 18:05:40.734 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 192.977ms
2025-03-12 18:05:50.098 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - null null
2025-03-12 18:05:50.106 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:05:50.108 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 204 null null 10.4366ms
2025-03-12 18:05:50.120 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 930
2025-03-12 18:05:50.123 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:05:50.126 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 18:05:50.150 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 18:05:50.849 +05:00 [Information] Executed DbCommand ("10"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:05:50.950 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 18:05:53.859 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 18:13:17.893 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 447737.2094ms
2025-03-12 18:13:17.895 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 18:13:17.899 +05:00 [Error] Connection id ""0HNB1CQB482R4"", Request id ""0HNB1CQB482R4:00000002"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42804: column "CallState" is of type integer but expression is of type text

POSITION: 52
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token)
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token)
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken)
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken)
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42804
    MessageText: column "CallState" is of type integer but expression is of type text
    Hint: You will need to rewrite or cast the expression.
    Position: 52
    File: parse_target.c
    Line: 585
    Routine: transformAssignedExpr
2025-03-12 18:13:17.925 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 447805.6271ms
2025-03-12 18:16:45.956 +05:00 [Information] Migrations
2025-03-12 18:16:46.036 +05:00 [Information] 2025010501: CreateOrganizationTable
2025-03-12 18:16:46.040 +05:00 [Information] 2025010502: CreateUsersTable
2025-03-12 18:16:46.041 +05:00 [Information] 2025010503: CreateResultsCardiogramsTable
2025-03-12 18:16:46.042 +05:00 [Information] 2025010504: CreateCardiogramsStateTable
2025-03-12 18:16:46.043 +05:00 [Information] 2025010505: CreateCardiographsTable
2025-03-12 18:16:46.043 +05:00 [Information] 2025010506: CreateSexPatientsTable
2025-03-12 18:16:46.045 +05:00 [Information] 2025010507: CreatePrioritiesTable
2025-03-12 18:16:46.045 +05:00 [Information] 2025010508: CreateUsersCardiographsTable
2025-03-12 18:16:46.046 +05:00 [Information] 2025010509: CreateCallsTable
2025-03-12 18:16:46.048 +05:00 [Warning] 2025010510: CreateCardiogramsTable (current)
2025-03-12 18:16:46.727 +05:00 [Warning] Overriding address(es) '"http://localhost:2324/swagger"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-03-12 18:16:46.772 +05:00 [Information] Now listening on: "http://0.0.0.0:2324"
2025-03-12 18:16:46.774 +05:00 [Information] Application started. Press Ctrl+C to shut down.
2025-03-12 18:16:46.775 +05:00 [Information] Hosting environment: "Development"
2025-03-12 18:16:46.775 +05:00 [Information] Content root path: "C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.WebHost"
2025-03-12 18:16:47.041 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.html""" - null null
2025-03-12 18:16:47.292 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 272.6613ms
2025-03-12 18:16:47.416 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.js""" - null null
2025-03-12 18:16:47.433 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.js""" - 200 null "application/javascript;charset=utf-8" 17.6177ms
2025-03-12 18:16:47.770 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/v1/swagger.json""" - null null
2025-03-12 18:16:48.065 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 295.3685ms
2025-03-12 18:16:58.378 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - null null
2025-03-12 18:16:58.387 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:16:58.390 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 204 null null 11.4743ms
2025-03-12 18:16:58.394 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 930
2025-03-12 18:16:58.397 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:16:58.400 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 18:16:58.423 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 18:16:59.125 +05:00 [Information] Executed DbCommand ("10"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:16:59.209 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 18:17:02.179 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 18:17:20.251 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 21036.6974ms.
2025-03-12 18:17:20.262 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Call"'.
2025-03-12 18:17:20.285 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 21855.8973ms
2025-03-12 18:17:20.287 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 18:17:20.305 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 200 null "application/json; charset=utf-8" 21910.1962ms
2025-03-12 18:17:28.529 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - null null
2025-03-12 18:17:28.531 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:17:28.533 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 204 null null 4.4218ms
2025-03-12 18:17:28.549 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - "application/json" null
2025-03-12 18:17:28.553 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:17:28.554 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)"'
2025-03-12 18:17:28.562 +05:00 [Information] Route matched with "{action = \"GetCardiogram\", controller = \"Cardiogram\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiogram(System.Guid)" on controller "KpoApi.Presentation.Controllers.CardiogramController" ("KpoApi.Presentation").
2025-03-12 18:17:28.592 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:17:28.602 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 18:17:28.604 +05:00 [Information] Поступил запрос на получение всей информации по кардиограмме
2025-03-12 18:17:28.623 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 20.5739ms.
2025-03-12 18:17:28.625 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Application.Models.Data.EntireCardiogramModel"'.
2025-03-12 18:17:28.643 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)" in 78.6144ms
2025-03-12 18:17:28.644 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)"'
2025-03-12 18:17:28.646 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 200 null "application/json; charset=utf-8" 97.392ms
2025-03-12 18:17:45.391 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - null null
2025-03-12 18:17:45.394 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:17:45.394 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 204 null null 3.5761ms
2025-03-12 18:17:45.397 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 928
2025-03-12 18:17:45.400 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:17:45.401 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 18:17:45.402 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 18:17:45.446 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:17:45.449 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 18:17:45.450 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 18:17:50.072 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4622.8116ms.
2025-03-12 18:17:50.074 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Call"'.
2025-03-12 18:17:50.075 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 4670.712ms
2025-03-12 18:17:50.077 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 18:17:50.079 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 200 null "application/json; charset=utf-8" 4681.6864ms
2025-03-12 18:18:18.870 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - null null
2025-03-12 18:18:18.880 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:18:18.881 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 204 null null 11.3013ms
2025-03-12 18:18:18.890 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - "application/json" null
2025-03-12 18:18:18.892 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:18:18.893 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)"'
2025-03-12 18:18:18.893 +05:00 [Information] Route matched with "{action = \"GetCardiogram\", controller = \"Cardiogram\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiogram(System.Guid)" on controller "KpoApi.Presentation.Controllers.CardiogramController" ("KpoApi.Presentation").
2025-03-12 18:18:18.906 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:18:18.909 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 18:18:18.909 +05:00 [Information] Поступил запрос на получение всей информации по кардиограмме
2025-03-12 18:18:18.912 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 2.7887ms.
2025-03-12 18:18:18.913 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Application.Models.Data.EntireCardiogramModel"'.
2025-03-12 18:18:18.914 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)" in 19.943ms
2025-03-12 18:18:18.915 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)"'
2025-03-12 18:18:18.917 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 200 null "application/json; charset=utf-8" 26.9475ms
2025-03-12 18:18:22.426 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - null null
2025-03-12 18:18:22.429 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:18:22.430 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 204 null null 3.567ms
2025-03-12 18:18:22.432 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 928
2025-03-12 18:18:22.434 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:18:22.435 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 18:18:22.435 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 18:18:22.451 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:18:22.453 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 18:18:22.454 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 18:19:24.272 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 61817.46ms.
2025-03-12 18:19:24.289 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Call"'.
2025-03-12 18:19:24.291 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - null null
2025-03-12 18:19:24.296 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - null null
2025-03-12 18:19:24.304 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:19:24.307 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:19:24.307 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - 204 null null 16.6718ms
2025-03-12 18:19:24.308 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - 204 null null 11.9527ms
2025-03-12 18:19:24.310 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 61873.5872ms
2025-03-12 18:19:24.316 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - "application/json" null
2025-03-12 18:19:24.318 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 18:19:24.320 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:19:24.320 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 499 null "application/json; charset=utf-8" 61888.1562ms
2025-03-12 18:19:24.321 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)"'
2025-03-12 18:19:24.327 +05:00 [Information] Route matched with "{action = \"GetOrganizations\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrganizations()" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 18:19:24.344 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:19:24.346 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 18:19:24.349 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 18:19:24.364 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 16.4103ms.
2025-03-12 18:19:24.366 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Organization[]"'.
2025-03-12 18:19:24.381 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)" in 50.9888ms
2025-03-12 18:19:24.382 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)"'
2025-03-12 18:19:24.384 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - 200 null "application/json; charset=utf-8" 67.3288ms
2025-03-12 18:19:26.169 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - null null
2025-03-12 18:19:26.171 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:19:26.172 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - 204 null null 3.204ms
2025-03-12 18:19:26.175 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - "application/json" null
2025-03-12 18:19:26.177 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:19:26.178 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)"'
2025-03-12 18:19:26.181 +05:00 [Information] Route matched with "{action = \"GetUsers\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 18:19:26.200 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:19:26.204 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 18:19:26.205 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 18:19:26.214 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 9.8687ms.
2025-03-12 18:19:26.216 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.User[]"'.
2025-03-12 18:19:26.225 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)" in 43.0178ms
2025-03-12 18:19:26.227 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)"'
2025-03-12 18:19:26.230 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - 200 null "application/json; charset=utf-8" 54.755ms
2025-03-12 18:19:26.538 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - null null
2025-03-12 18:19:26.540 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:19:26.540 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - 204 null null 2.477ms
2025-03-12 18:19:26.545 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - "application/json" null
2025-03-12 18:19:26.547 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:19:26.548 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)"'
2025-03-12 18:19:26.552 +05:00 [Information] Route matched with "{action = \"GetCardiographs\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiographs(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 18:19:26.565 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:19:26.568 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 18:19:26.570 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 18:19:26.575 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 6.6049ms.
2025-03-12 18:19:26.577 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Cardiograph[]"'.
2025-03-12 18:19:26.580 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)" in 26.7323ms
2025-03-12 18:19:26.581 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)"'
2025-03-12 18:19:26.582 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - 200 null "application/json; charset=utf-8" 37.3872ms
2025-03-12 18:19:26.951 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - null null
2025-03-12 18:19:26.953 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:19:26.955 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - 204 null null 3.4562ms
2025-03-12 18:19:26.958 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - "application/json" null
2025-03-12 18:19:26.960 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:19:26.961 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)"'
2025-03-12 18:19:26.964 +05:00 [Information] Route matched with "{action = \"GetCardiograms\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiograms(System.String)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 18:19:26.979 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:19:26.982 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 18:19:26.985 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 18:19:26.995 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 11.7166ms.
2025-03-12 18:19:26.998 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Cardiogram[]"'.
2025-03-12 18:19:27.002 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)" in 36.7945ms
2025-03-12 18:19:27.006 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)"'
2025-03-12 18:19:27.007 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - 200 null "application/json; charset=utf-8" 49.3176ms
2025-03-12 18:19:27.427 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - null null
2025-03-12 18:19:27.430 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:19:27.431 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 204 null null 3.6748ms
2025-03-12 18:19:27.435 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - "application/json" null
2025-03-12 18:19:27.437 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:19:27.438 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)"'
2025-03-12 18:19:27.439 +05:00 [Information] Route matched with "{action = \"GetCardiogram\", controller = \"Cardiogram\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiogram(System.Guid)" on controller "KpoApi.Presentation.Controllers.CardiogramController" ("KpoApi.Presentation").
2025-03-12 18:19:27.453 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:19:27.455 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 18:19:27.456 +05:00 [Information] Поступил запрос на получение всей информации по кардиограмме
2025-03-12 18:19:27.459 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 2.735ms.
2025-03-12 18:19:27.461 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Application.Models.Data.EntireCardiogramModel"'.
2025-03-12 18:19:27.463 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)" in 21.9002ms
2025-03-12 18:19:27.464 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)"'
2025-03-12 18:19:27.465 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 200 null "application/json; charset=utf-8" 29.7046ms
2025-03-12 18:19:27.483 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - null null
2025-03-12 18:19:27.485 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:19:27.486 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 204 null null 2.639ms
2025-03-12 18:19:27.490 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - "application/json" null
2025-03-12 18:19:27.492 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:19:27.493 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)"'
2025-03-12 18:19:27.496 +05:00 [Information] Route matched with "{action = \"GetUsersByCardiograms\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByCardiograms(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 18:19:27.512 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:19:27.515 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 18:19:27.517 +05:00 [Information] Поступил запрос на получение пользователей по кардиограмме
2025-03-12 18:19:27.524 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 8.5984ms.
2025-03-12 18:19:27.526 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.User[]"'.
2025-03-12 18:19:27.527 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)" in 29.2315ms
2025-03-12 18:19:27.528 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)"'
2025-03-12 18:19:27.530 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 200 null "application/json; charset=utf-8" 40.0506ms
2025-03-12 18:19:28.553 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - null null
2025-03-12 18:19:28.556 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:19:28.557 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 204 null null 3.7946ms
2025-03-12 18:19:28.562 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 930
2025-03-12 18:19:28.564 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:19:28.565 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 18:19:28.566 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 18:19:28.583 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:19:28.587 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 18:19:28.588 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 18:19:28.594 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.7597ms.
2025-03-12 18:19:28.595 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Call"'.
2025-03-12 18:19:28.596 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 26.7372ms
2025-03-12 18:19:28.598 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 18:19:28.599 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 200 null "application/json; charset=utf-8" 37.9071ms
2025-03-12 18:19:31.686 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 928
2025-03-12 18:19:31.688 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:19:31.689 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 18:19:31.690 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 18:19:31.705 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:19:31.708 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 18:19:31.709 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 18:19:31.713 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3.9949ms.
2025-03-12 18:19:31.715 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Call"'.
2025-03-12 18:19:31.716 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 24.4431ms
2025-03-12 18:19:31.717 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 18:19:31.719 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 200 null "application/json; charset=utf-8" 32.9418ms
2025-03-12 18:19:35.425 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - null null
2025-03-12 18:19:35.427 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:19:35.428 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 204 null null 3.2011ms
2025-03-12 18:19:35.432 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 928
2025-03-12 18:19:35.434 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:19:35.435 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 18:19:35.435 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 18:19:35.450 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:19:35.456 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 18:19:35.458 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 18:19:35.463 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.9244ms.
2025-03-12 18:19:35.465 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Call"'.
2025-03-12 18:19:35.465 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 29.0912ms
2025-03-12 18:19:35.466 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 18:19:35.468 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 200 null "application/json; charset=utf-8" 36.1499ms
2025-03-12 18:40:02.732 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - null null
2025-03-12 18:40:02.746 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:40:02.748 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - 204 null null 16.0899ms
2025-03-12 18:40:02.755 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - "application/json" null
2025-03-12 18:40:02.758 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:40:02.758 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)"'
2025-03-12 18:40:02.760 +05:00 [Information] Route matched with "{action = \"GetOrganizations\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrganizations()" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 18:40:02.801 +05:00 [Information] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:40:02.808 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 18:40:02.809 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 18:40:02.851 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 41.9233ms.
2025-03-12 18:40:02.853 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Organization[]"'.
2025-03-12 18:40:02.854 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)" in 92.5576ms
2025-03-12 18:40:02.855 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)"'
2025-03-12 18:40:02.856 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - 200 null "application/json; charset=utf-8" 101.2767ms
2025-03-12 18:40:48.012 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - null null
2025-03-12 18:40:48.024 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:40:48.025 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - 204 null null 13.1126ms
2025-03-12 18:40:48.031 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - "application/json" null
2025-03-12 18:40:48.033 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:40:48.034 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)"'
2025-03-12 18:40:48.035 +05:00 [Information] Route matched with "{action = \"GetUsers\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 18:40:48.052 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:40:48.055 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 18:40:48.056 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 18:40:48.061 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.3054ms.
2025-03-12 18:40:48.067 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.User[]"'.
2025-03-12 18:40:48.069 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)" in 32.1276ms
2025-03-12 18:40:48.070 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)"'
2025-03-12 18:40:48.072 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - 200 null "application/json; charset=utf-8" 41.3639ms
2025-03-12 18:40:50.669 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - null null
2025-03-12 18:40:50.672 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:40:50.673 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - 204 null null 3.7225ms
2025-03-12 18:40:50.675 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - "application/json" null
2025-03-12 18:40:50.677 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:40:50.678 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)"'
2025-03-12 18:40:50.679 +05:00 [Information] Route matched with "{action = \"GetCardiographs\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiographs(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 18:40:50.692 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:40:50.694 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 18:40:50.694 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 18:40:50.698 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4.0642ms.
2025-03-12 18:40:50.700 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Cardiograph[]"'.
2025-03-12 18:40:50.701 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)" in 21.1883ms
2025-03-12 18:40:50.703 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)"'
2025-03-12 18:40:50.704 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - 200 null "application/json; charset=utf-8" 28.6767ms
2025-03-12 18:40:51.035 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - null null
2025-03-12 18:40:51.038 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:40:51.039 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - 204 null null 3.431ms
2025-03-12 18:40:51.042 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - "application/json" null
2025-03-12 18:40:51.044 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:40:51.044 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)"'
2025-03-12 18:40:51.045 +05:00 [Information] Route matched with "{action = \"GetCardiograms\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiograms(System.String)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 18:40:51.060 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:40:51.062 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 18:40:51.063 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 18:40:51.067 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3.3505ms.
2025-03-12 18:40:51.069 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Cardiogram[]"'.
2025-03-12 18:40:51.070 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)" in 23.6952ms
2025-03-12 18:40:51.071 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)"'
2025-03-12 18:40:51.073 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - 200 null "application/json; charset=utf-8" 31.5505ms
2025-03-12 18:40:51.440 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - null null
2025-03-12 18:40:51.442 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:40:51.443 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 204 null null 3.1025ms
2025-03-12 18:40:51.446 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - "application/json" null
2025-03-12 18:40:51.448 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:40:51.448 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)"'
2025-03-12 18:40:51.450 +05:00 [Information] Route matched with "{action = \"GetCardiogram\", controller = \"Cardiogram\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiogram(System.Guid)" on controller "KpoApi.Presentation.Controllers.CardiogramController" ("KpoApi.Presentation").
2025-03-12 18:40:51.462 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:40:51.465 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 18:40:51.466 +05:00 [Information] Поступил запрос на получение всей информации по кардиограмме
2025-03-12 18:40:51.470 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3.5012ms.
2025-03-12 18:40:51.472 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Application.Models.Data.EntireCardiogramModel"'.
2025-03-12 18:40:51.473 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)" in 21.9292ms
2025-03-12 18:40:51.474 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)"'
2025-03-12 18:40:51.475 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 200 null "application/json; charset=utf-8" 29.5967ms
2025-03-12 18:40:51.492 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - null null
2025-03-12 18:40:51.493 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:40:51.495 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 204 null null 3.1476ms
2025-03-12 18:40:51.500 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - "application/json" null
2025-03-12 18:40:51.502 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:40:51.503 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)"'
2025-03-12 18:40:51.504 +05:00 [Information] Route matched with "{action = \"GetUsersByCardiograms\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByCardiograms(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 18:40:51.518 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:40:51.521 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 18:40:51.522 +05:00 [Information] Поступил запрос на получение пользователей по кардиограмме
2025-03-12 18:40:51.525 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3.5269ms.
2025-03-12 18:40:51.527 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.User[]"'.
2025-03-12 18:40:51.528 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)" in 22.8114ms
2025-03-12 18:40:51.530 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)"'
2025-03-12 18:40:51.531 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 200 null "application/json; charset=utf-8" 30.6762ms
2025-03-12 18:40:51.556 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - null null
2025-03-12 18:40:51.558 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:40:51.559 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 204 null null 2.5916ms
2025-03-12 18:40:51.565 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - "application/json" 1383
2025-03-12 18:40:51.581 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:40:51.582 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 18:40:51.584 +05:00 [Information] Route matched with "{action = \"SaveCall\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCall(KpoApi.Domain.Entities.Call)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 18:40:51.602 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:40:51.608 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 18:40:51.609 +05:00 [Information] Поступил запрос сохранение вызова
2025-03-12 18:40:52.022 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)" in 435.669ms
2025-03-12 18:40:52.024 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall (KpoApi.Presentation)"'
2025-03-12 18:40:52.026 +05:00 [Error] Connection id ""0HNB1D0I4CC4U"", Request id ""0HNB1D0I4CC4U:0000000E"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 23502: null value in column "CallUuid" of relation "Calls" violates not-null constraint

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.<ReadMessage>g__ReadMessageSequential|49_0(NpgsqlConnector connector, Boolean async)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token)
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token)
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCall(Call newCall, CancellationToken cancellationToken)
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCall(Call newCall, CancellationToken cancellationToken)
   at KpoApi.Application.Services.CardiogramService.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 108
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCall(Call newCall) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 23502
    MessageText: null value in column "CallUuid" of relation "Calls" violates not-null constraint
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: cardiogram_schema
    TableName: Calls
    ColumnName: CallUuid
    File: execMain.c
    Line: 1987
    Routine: ExecConstraints
2025-03-12 18:40:52.076 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCall""" - 500 0 null 511.2576ms
2025-03-12 18:40:57.989 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - null null
2025-03-12 18:40:57.990 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:40:57.991 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 204 null null 2.6985ms
2025-03-12 18:40:57.995 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - "application/json" null
2025-03-12 18:40:57.996 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:40:57.997 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)"'
2025-03-12 18:40:57.998 +05:00 [Information] Route matched with "{action = \"GetCardiogram\", controller = \"Cardiogram\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiogram(System.Guid)" on controller "KpoApi.Presentation.Controllers.CardiogramController" ("KpoApi.Presentation").
2025-03-12 18:40:58.012 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:40:58.015 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 18:40:58.016 +05:00 [Information] Поступил запрос на получение всей информации по кардиограмме
2025-03-12 18:40:58.019 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3.0876ms.
2025-03-12 18:40:58.021 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Application.Models.Data.EntireCardiogramModel"'.
2025-03-12 18:40:58.022 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)" in 22.6194ms
2025-03-12 18:40:58.024 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)"'
2025-03-12 18:40:58.026 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 200 null "application/json; charset=utf-8" 31.127ms
2025-03-12 18:41:11.575 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - null null
2025-03-12 18:41:11.577 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:41:11.578 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - 204 null null 3.4448ms
2025-03-12 18:41:11.582 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - "application/json" null
2025-03-12 18:41:11.584 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:41:11.585 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)"'
2025-03-12 18:41:11.586 +05:00 [Information] Route matched with "{action = \"GetOrganizations\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrganizations()" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 18:41:11.603 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:41:11.606 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 18:41:11.607 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 18:41:11.610 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 2.7952ms.
2025-03-12 18:41:11.612 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Organization[]"'.
2025-03-12 18:41:11.614 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)" in 25.5905ms
2025-03-12 18:41:11.615 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)"'
2025-03-12 18:41:11.619 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - 200 null "application/json; charset=utf-8" 36.8481ms
2025-03-12 18:41:19.443 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - null null
2025-03-12 18:41:19.445 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:41:19.447 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - 204 null null 3.934ms
2025-03-12 18:41:19.451 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - "application/json" null
2025-03-12 18:41:19.453 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:41:19.455 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)"'
2025-03-12 18:41:19.456 +05:00 [Information] Route matched with "{action = \"GetUsers\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 18:41:19.492 +05:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:41:19.495 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 18:41:19.496 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 18:41:19.499 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 2.8785ms.
2025-03-12 18:41:19.502 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.User[]"'.
2025-03-12 18:41:19.505 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)" in 47.1341ms
2025-03-12 18:41:19.506 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)"'
2025-03-12 18:41:19.508 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - 200 null "application/json; charset=utf-8" 56.6595ms
2025-03-12 18:41:19.935 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - null null
2025-03-12 18:41:19.937 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:41:19.938 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - 204 null null 3.1098ms
2025-03-12 18:41:19.942 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - "application/json" null
2025-03-12 18:41:19.945 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:41:19.946 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)"'
2025-03-12 18:41:19.947 +05:00 [Information] Route matched with "{action = \"GetCardiographs\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiographs(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 18:41:19.962 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:41:19.965 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 18:41:19.967 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 18:41:19.971 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3.6723ms.
2025-03-12 18:41:19.973 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Cardiograph[]"'.
2025-03-12 18:41:19.975 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)" in 26.9967ms
2025-03-12 18:41:19.977 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)"'
2025-03-12 18:41:19.979 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - 200 null "application/json; charset=utf-8" 36.5335ms
2025-03-12 18:41:20.275 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - null null
2025-03-12 18:41:20.277 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:41:20.280 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - 204 null null 4.453ms
2025-03-12 18:41:20.283 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - "application/json" null
2025-03-12 18:41:20.285 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:41:20.286 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)"'
2025-03-12 18:41:20.287 +05:00 [Information] Route matched with "{action = \"GetCardiograms\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiograms(System.String)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 18:41:20.306 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:41:20.312 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 18:41:20.313 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 18:41:20.316 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3.5036ms.
2025-03-12 18:41:20.319 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Cardiogram[]"'.
2025-03-12 18:41:20.320 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)" in 31.451ms
2025-03-12 18:41:20.322 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)"'
2025-03-12 18:41:20.324 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - 200 null "application/json; charset=utf-8" 41.2982ms
2025-03-12 18:41:20.782 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - null null
2025-03-12 18:41:20.784 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:41:20.785 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 204 null null 2.6982ms
2025-03-12 18:41:20.788 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - "application/json" null
2025-03-12 18:41:20.790 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:41:20.790 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)"'
2025-03-12 18:41:20.791 +05:00 [Information] Route matched with "{action = \"GetCardiogram\", controller = \"Cardiogram\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiogram(System.Guid)" on controller "KpoApi.Presentation.Controllers.CardiogramController" ("KpoApi.Presentation").
2025-03-12 18:41:20.805 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:41:20.808 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 18:41:20.809 +05:00 [Information] Поступил запрос на получение всей информации по кардиограмме
2025-03-12 18:41:20.813 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4.079ms.
2025-03-12 18:41:20.820 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Application.Models.Data.EntireCardiogramModel"'.
2025-03-12 18:41:20.821 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)" in 28.8061ms
2025-03-12 18:41:20.822 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)"'
2025-03-12 18:41:20.824 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 200 null "application/json; charset=utf-8" 35.6879ms
2025-03-12 18:41:20.848 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - null null
2025-03-12 18:41:20.850 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:41:20.851 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 204 null null 3.4888ms
2025-03-12 18:41:20.856 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - "application/json" null
2025-03-12 18:41:20.859 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:41:20.860 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)"'
2025-03-12 18:41:20.861 +05:00 [Information] Route matched with "{action = \"GetUsersByCardiograms\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByCardiograms(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 18:41:20.878 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:41:20.882 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 18:41:20.883 +05:00 [Information] Поступил запрос на получение пользователей по кардиограмме
2025-03-12 18:41:20.887 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3.7875ms.
2025-03-12 18:41:20.889 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.User[]"'.
2025-03-12 18:41:20.891 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)" in 27.6454ms
2025-03-12 18:41:20.892 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)"'
2025-03-12 18:41:20.894 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 200 null "application/json; charset=utf-8" 37.831ms
2025-03-12 18:41:20.947 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - null null
2025-03-12 18:41:20.981 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:41:20.982 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - 204 null null 35.3318ms
2025-03-12 18:41:20.986 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - "application/json" 1383
2025-03-12 18:41:20.988 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:41:20.989 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram (KpoApi.Presentation)"'
2025-03-12 18:41:21.002 +05:00 [Information] Route matched with "{action = \"SaveCardiogram\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCardiogram(KpoApi.Domain.Entities.Cardiogram)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 18:41:21.017 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:41:21.032 +05:00 [Information] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
2025-03-12 18:41:21.053 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram (KpoApi.Presentation)" in 48.9146ms
2025-03-12 18:41:21.055 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram (KpoApi.Presentation)"'
2025-03-12 18:41:21.056 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - 400 null "application/problem+json; charset=utf-8" 70.0669ms
2025-03-12 18:41:28.422 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - null null
2025-03-12 18:41:28.425 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:41:28.426 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - 204 null null 4.1123ms
2025-03-12 18:41:28.429 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - "application/json" 1363
2025-03-12 18:41:28.431 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:41:28.432 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram (KpoApi.Presentation)"'
2025-03-12 18:41:28.432 +05:00 [Information] Route matched with "{action = \"SaveCardiogram\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCardiogram(KpoApi.Domain.Entities.Cardiogram)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 18:41:28.448 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:41:28.464 +05:00 [Information] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
2025-03-12 18:41:28.466 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram (KpoApi.Presentation)" in 32.4109ms
2025-03-12 18:41:28.468 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram (KpoApi.Presentation)"'
2025-03-12 18:41:28.471 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - 400 null "application/problem+json; charset=utf-8" 41.715ms
2025-03-12 18:43:49.043 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - null null
2025-03-12 18:43:49.051 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:43:49.052 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - 204 null null 8.5528ms
2025-03-12 18:43:49.061 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - "application/json" null
2025-03-12 18:43:49.065 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:43:49.066 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)"'
2025-03-12 18:43:49.067 +05:00 [Information] Route matched with "{action = \"GetOrganizations\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrganizations()" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 18:43:49.086 +05:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:43:49.089 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 18:43:49.091 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 18:43:49.094 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3.6162ms.
2025-03-12 18:43:49.096 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Organization[]"'.
2025-03-12 18:43:49.098 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)" in 28.6165ms
2025-03-12 18:43:49.099 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)"'
2025-03-12 18:43:49.101 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - 200 null "application/json; charset=utf-8" 39.9811ms
2025-03-12 18:44:04.659 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - null null
2025-03-12 18:44:04.661 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:44:04.662 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - 204 null null 3.1802ms
2025-03-12 18:44:04.665 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - "application/json" null
2025-03-12 18:44:04.668 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:44:04.669 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)"'
2025-03-12 18:44:04.669 +05:00 [Information] Route matched with "{action = \"GetOrganizations\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrganizations()" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 18:44:04.686 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:44:04.689 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 18:44:04.691 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 18:44:04.695 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3.7952ms.
2025-03-12 18:44:04.698 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Organization[]"'.
2025-03-12 18:44:04.701 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)" in 28.984ms
2025-03-12 18:44:04.704 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)"'
2025-03-12 18:44:04.706 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - 200 null "application/json; charset=utf-8" 40.4096ms
2025-03-12 18:44:20.910 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - null null
2025-03-12 18:44:20.913 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:44:20.914 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - 204 null null 4.75ms
2025-03-12 18:44:20.919 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - "application/json" null
2025-03-12 18:44:20.921 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:44:20.922 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)"'
2025-03-12 18:44:20.924 +05:00 [Information] Route matched with "{action = \"GetUsers\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 18:44:20.942 +05:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:44:20.945 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 18:44:20.947 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 18:44:20.951 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3.9751ms.
2025-03-12 18:44:20.954 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.User[]"'.
2025-03-12 18:44:20.955 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)" in 29.8124ms
2025-03-12 18:44:20.956 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)"'
2025-03-12 18:44:20.958 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - 200 null "application/json; charset=utf-8" 39.4369ms
2025-03-12 18:44:21.175 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - null null
2025-03-12 18:44:21.178 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:44:21.179 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - 204 null null 3.6286ms
2025-03-12 18:44:21.183 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - "application/json" null
2025-03-12 18:44:21.186 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:44:21.186 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)"'
2025-03-12 18:44:21.187 +05:00 [Information] Route matched with "{action = \"GetCardiographs\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiographs(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 18:44:21.205 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:44:21.208 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 18:44:21.240 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 18:44:21.244 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3.555ms.
2025-03-12 18:44:21.249 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Cardiograph[]"'.
2025-03-12 18:44:21.251 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)" in 62.2255ms
2025-03-12 18:44:21.253 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)"'
2025-03-12 18:44:21.254 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - 200 null "application/json; charset=utf-8" 71.0619ms
2025-03-12 18:44:21.716 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - null null
2025-03-12 18:44:21.719 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:44:21.719 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - 204 null null 2.9739ms
2025-03-12 18:44:21.723 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - "application/json" null
2025-03-12 18:44:21.724 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:44:21.725 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)"'
2025-03-12 18:44:21.726 +05:00 [Information] Route matched with "{action = \"GetCardiograms\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiograms(System.String)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 18:44:21.744 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:44:21.746 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 18:44:21.747 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 18:44:21.751 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3.298ms.
2025-03-12 18:44:21.753 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Cardiogram[]"'.
2025-03-12 18:44:21.755 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)" in 27.4981ms
2025-03-12 18:44:21.756 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)"'
2025-03-12 18:44:21.761 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - 200 null "application/json; charset=utf-8" 37.761ms
2025-03-12 18:44:22.251 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - null null
2025-03-12 18:44:22.253 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:44:22.254 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 204 null null 2.6358ms
2025-03-12 18:44:22.257 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - "application/json" null
2025-03-12 18:44:22.259 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:44:22.259 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)"'
2025-03-12 18:44:22.260 +05:00 [Information] Route matched with "{action = \"GetCardiogram\", controller = \"Cardiogram\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiogram(System.Guid)" on controller "KpoApi.Presentation.Controllers.CardiogramController" ("KpoApi.Presentation").
2025-03-12 18:44:22.277 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:44:22.279 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 18:44:22.280 +05:00 [Information] Поступил запрос на получение всей информации по кардиограмме
2025-03-12 18:44:22.284 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3.5011ms.
2025-03-12 18:44:22.286 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Application.Models.Data.EntireCardiogramModel"'.
2025-03-12 18:44:22.287 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)" in 25.7323ms
2025-03-12 18:44:22.288 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)"'
2025-03-12 18:44:22.290 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 200 null "application/json; charset=utf-8" 32.9927ms
2025-03-12 18:44:22.313 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - null null
2025-03-12 18:44:22.315 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:44:22.316 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 204 null null 3.1402ms
2025-03-12 18:44:22.319 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - "application/json" null
2025-03-12 18:44:22.321 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:44:22.322 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)"'
2025-03-12 18:44:22.341 +05:00 [Information] Route matched with "{action = \"GetUsersByCardiograms\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByCardiograms(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 18:44:22.384 +05:00 [Information] Executed DbCommand ("13"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:44:22.388 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 18:44:22.390 +05:00 [Information] Поступил запрос на получение пользователей по кардиограмме
2025-03-12 18:44:22.393 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3.4733ms.
2025-03-12 18:44:22.395 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.User[]"'.
2025-03-12 18:44:22.397 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)" in 53.925ms
2025-03-12 18:44:22.398 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)"'
2025-03-12 18:44:22.401 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 200 null "application/json; charset=utf-8" 81.2199ms
2025-03-12 18:44:22.432 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - null null
2025-03-12 18:44:22.435 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:44:22.437 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - 204 null null 4.7682ms
2025-03-12 18:44:22.441 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - "application/json" 1383
2025-03-12 18:44:22.443 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:44:22.444 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram (KpoApi.Presentation)"'
2025-03-12 18:44:22.446 +05:00 [Information] Route matched with "{action = \"SaveCardiogram\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCardiogram(KpoApi.Domain.Entities.Cardiogram)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 18:44:22.466 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:44:22.470 +05:00 [Information] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
2025-03-12 18:44:22.471 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram (KpoApi.Presentation)" in 23.2793ms
2025-03-12 18:44:22.472 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram (KpoApi.Presentation)"'
2025-03-12 18:44:22.474 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - 400 null "application/problem+json; charset=utf-8" 33.4825ms
2025-03-12 18:45:43.745 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - null null
2025-03-12 18:45:43.754 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:45:43.755 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - 204 null null 11.1402ms
2025-03-12 18:45:43.768 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - "application/json" null
2025-03-12 18:45:43.770 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:45:43.771 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)"'
2025-03-12 18:45:43.773 +05:00 [Information] Route matched with "{action = \"GetOrganizations\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrganizations()" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 18:45:43.804 +05:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:45:43.807 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 18:45:43.808 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 18:45:43.839 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 30.7367ms.
2025-03-12 18:45:43.842 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Organization[]"'.
2025-03-12 18:45:43.847 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)" in 72.3484ms
2025-03-12 18:45:43.850 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)"'
2025-03-12 18:45:43.852 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - 200 null "application/json; charset=utf-8" 84.1171ms
2025-03-12 18:45:44.393 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - "application/json" null
2025-03-12 18:45:44.395 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:45:44.396 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)"'
2025-03-12 18:45:44.397 +05:00 [Information] Route matched with "{action = \"GetOrganizations\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrganizations()" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 18:45:44.414 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:45:44.417 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 18:45:44.419 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 18:45:44.423 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4.528ms.
2025-03-12 18:45:44.425 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Organization[]"'.
2025-03-12 18:45:44.427 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)" in 27.9041ms
2025-03-12 18:45:44.429 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)"'
2025-03-12 18:45:44.431 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - 200 null "application/json; charset=utf-8" 38.0813ms
2025-03-12 18:45:44.763 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - null null
2025-03-12 18:45:44.766 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:45:44.767 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - 204 null null 4.6408ms
2025-03-12 18:45:44.778 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - "application/json" null
2025-03-12 18:45:44.782 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:45:44.783 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)"'
2025-03-12 18:45:44.785 +05:00 [Information] Route matched with "{action = \"GetUsers\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 18:45:44.816 +05:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:45:44.822 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 18:45:44.824 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 18:45:44.827 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3.5725ms.
2025-03-12 18:45:44.839 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.User[]"'.
2025-03-12 18:45:44.848 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)" in 58.1194ms
2025-03-12 18:45:44.851 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)"'
2025-03-12 18:45:44.864 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - 200 null "application/json; charset=utf-8" 87.245ms
2025-03-12 18:45:45.209 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=c4f243f2-a246-4519-a732-6fd80cc1da61" - null null
2025-03-12 18:45:45.212 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:45:45.213 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=c4f243f2-a246-4519-a732-6fd80cc1da61" - 204 null null 4.051ms
2025-03-12 18:45:45.216 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=c4f243f2-a246-4519-a732-6fd80cc1da61" - "application/json" null
2025-03-12 18:45:45.218 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:45:45.220 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)"'
2025-03-12 18:45:45.221 +05:00 [Information] Route matched with "{action = \"GetCardiographs\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiographs(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 18:45:45.238 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:45:45.242 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 18:45:45.243 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 18:45:45.248 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4.9856ms.
2025-03-12 18:45:45.250 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Cardiograph[]"'.
2025-03-12 18:45:45.251 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)" in 28.4277ms
2025-03-12 18:45:45.253 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)"'
2025-03-12 18:45:45.255 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=c4f243f2-a246-4519-a732-6fd80cc1da61" - 200 null "application/json; charset=utf-8" 39.428ms
2025-03-12 18:45:46.313 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - null null
2025-03-12 18:45:46.315 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:45:46.315 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - 204 null null 2.9292ms
2025-03-12 18:45:46.318 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - "application/json" null
2025-03-12 18:45:46.321 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:45:46.322 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)"'
2025-03-12 18:45:46.323 +05:00 [Information] Route matched with "{action = \"GetCardiographs\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiographs(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 18:45:46.339 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:45:46.341 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 18:45:46.343 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 18:45:46.347 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3.5588ms.
2025-03-12 18:45:46.348 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Cardiograph[]"'.
2025-03-12 18:45:46.350 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)" in 26.6817ms
2025-03-12 18:45:46.353 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)"'
2025-03-12 18:45:46.354 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - 200 null "application/json; charset=utf-8" 35.422ms
2025-03-12 18:45:46.837 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - null null
2025-03-12 18:45:46.840 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:45:46.841 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - 204 null null 3.7946ms
2025-03-12 18:45:46.845 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - "application/json" null
2025-03-12 18:45:46.847 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:45:46.848 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)"'
2025-03-12 18:45:46.849 +05:00 [Information] Route matched with "{action = \"GetCardiograms\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiograms(System.String)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 18:45:46.866 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:45:46.869 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 18:45:46.870 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 18:45:46.874 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4.2715ms.
2025-03-12 18:45:46.876 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Cardiogram[]"'.
2025-03-12 18:45:46.899 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)" in 48.0546ms
2025-03-12 18:45:46.901 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)"'
2025-03-12 18:45:46.903 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - 200 null "application/json; charset=utf-8" 58.2964ms
2025-03-12 18:45:47.374 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - null null
2025-03-12 18:45:47.376 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:45:47.377 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 204 null null 3.2272ms
2025-03-12 18:45:47.380 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - "application/json" null
2025-03-12 18:45:47.382 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:45:47.383 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)"'
2025-03-12 18:45:47.383 +05:00 [Information] Route matched with "{action = \"GetCardiogram\", controller = \"Cardiogram\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiogram(System.Guid)" on controller "KpoApi.Presentation.Controllers.CardiogramController" ("KpoApi.Presentation").
2025-03-12 18:45:47.404 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:45:47.408 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 18:45:47.409 +05:00 [Information] Поступил запрос на получение всей информации по кардиограмме
2025-03-12 18:45:47.415 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.285ms.
2025-03-12 18:45:47.416 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Application.Models.Data.EntireCardiogramModel"'.
2025-03-12 18:45:47.418 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)" in 33.6572ms
2025-03-12 18:45:47.420 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)"'
2025-03-12 18:45:47.423 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 200 null "application/json; charset=utf-8" 42.6172ms
2025-03-12 18:45:47.447 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - null null
2025-03-12 18:45:47.449 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:45:47.450 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 204 null null 3.532ms
2025-03-12 18:45:47.457 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - "application/json" null
2025-03-12 18:45:47.462 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:45:47.465 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)"'
2025-03-12 18:45:47.470 +05:00 [Information] Route matched with "{action = \"GetUsersByCardiograms\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByCardiograms(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 18:45:47.492 +05:00 [Information] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:45:47.496 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 18:45:47.498 +05:00 [Information] Поступил запрос на получение пользователей по кардиограмме
2025-03-12 18:45:47.502 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3.9782ms.
2025-03-12 18:45:47.504 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.User[]"'.
2025-03-12 18:45:47.507 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)" in 32.8795ms
2025-03-12 18:45:47.508 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)"'
2025-03-12 18:45:47.510 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 200 null "application/json; charset=utf-8" 53.7636ms
2025-03-12 18:45:47.555 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - null null
2025-03-12 18:45:47.559 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:45:47.560 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - 204 null null 4.7662ms
2025-03-12 18:45:47.567 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - "application/json" 1383
2025-03-12 18:45:47.570 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:45:47.572 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram (KpoApi.Presentation)"'
2025-03-12 18:45:47.573 +05:00 [Information] Route matched with "{action = \"SaveCardiogram\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCardiogram(KpoApi.Domain.Entities.Cardiogram)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 18:45:47.613 +05:00 [Information] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:45:47.617 +05:00 [Information] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
2025-03-12 18:45:47.620 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram (KpoApi.Presentation)" in 42.2243ms
2025-03-12 18:45:47.623 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram (KpoApi.Presentation)"'
2025-03-12 18:45:47.625 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - 400 null "application/problem+json; charset=utf-8" 58.1755ms
2025-03-12 18:46:20.742 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - null null
2025-03-12 18:46:20.749 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:46:20.751 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - 204 null null 8.4193ms
2025-03-12 18:46:20.754 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - "application/json" null
2025-03-12 18:46:20.758 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:46:20.759 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)"'
2025-03-12 18:46:20.760 +05:00 [Information] Route matched with "{action = \"GetOrganizations\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrganizations()" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 18:46:20.777 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:46:20.780 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 18:46:20.782 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 18:46:20.786 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3.8218ms.
2025-03-12 18:46:20.790 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Organization[]"'.
2025-03-12 18:46:20.792 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)" in 30.2799ms
2025-03-12 18:46:20.796 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)"'
2025-03-12 18:46:20.797 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - 200 null "application/json; charset=utf-8" 43.013ms
2025-03-12 18:46:21.300 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - "application/json" null
2025-03-12 18:46:21.303 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:46:21.303 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)"'
2025-03-12 18:46:21.305 +05:00 [Information] Route matched with "{action = \"GetOrganizations\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrganizations()" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 18:46:21.320 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:46:21.322 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 18:46:21.323 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 18:46:21.326 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 2.5521ms.
2025-03-12 18:46:21.327 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Organization[]"'.
2025-03-12 18:46:21.329 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)" in 22.6045ms
2025-03-12 18:46:21.330 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)"'
2025-03-12 18:46:21.331 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - 200 null "application/json; charset=utf-8" 30.9505ms
2025-03-12 18:46:22.483 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - null null
2025-03-12 18:46:22.484 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:46:22.485 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - 204 null null 2.6374ms
2025-03-12 18:46:22.488 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - "application/json" null
2025-03-12 18:46:22.490 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:46:22.490 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)"'
2025-03-12 18:46:22.491 +05:00 [Information] Route matched with "{action = \"GetUsers\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 18:46:22.506 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:46:22.508 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 18:46:22.511 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 18:46:22.513 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 2.4404ms.
2025-03-12 18:46:22.515 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.User[]"'.
2025-03-12 18:46:22.516 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)" in 23.9868ms
2025-03-12 18:46:22.518 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)"'
2025-03-12 18:46:22.519 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - 200 null "application/json; charset=utf-8" 31.2636ms
2025-03-12 18:46:22.780 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - null null
2025-03-12 18:46:22.784 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:46:22.785 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - 204 null null 5.5583ms
2025-03-12 18:46:22.790 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - "application/json" null
2025-03-12 18:46:22.792 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:46:22.793 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)"'
2025-03-12 18:46:22.794 +05:00 [Information] Route matched with "{action = \"GetCardiographs\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiographs(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 18:46:22.811 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:46:22.816 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 18:46:22.817 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 18:46:22.820 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3.0768ms.
2025-03-12 18:46:22.822 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Cardiograph[]"'.
2025-03-12 18:46:22.825 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)" in 28.421ms
2025-03-12 18:46:22.826 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)"'
2025-03-12 18:46:22.828 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - 200 null "application/json; charset=utf-8" 37.7225ms
2025-03-12 18:46:23.116 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - null null
2025-03-12 18:46:23.118 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:46:23.119 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - 204 null null 3.3567ms
2025-03-12 18:46:23.124 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - "application/json" null
2025-03-12 18:46:23.125 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:46:23.127 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)"'
2025-03-12 18:46:23.128 +05:00 [Information] Route matched with "{action = \"GetCardiograms\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiograms(System.String)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 18:46:23.143 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:46:23.147 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 18:46:23.148 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 18:46:23.152 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4.172ms.
2025-03-12 18:46:23.154 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Cardiogram[]"'.
2025-03-12 18:46:23.155 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)" in 26.1512ms
2025-03-12 18:46:23.157 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)"'
2025-03-12 18:46:23.189 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - 200 null "application/json; charset=utf-8" 65.1636ms
2025-03-12 18:46:23.608 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - null null
2025-03-12 18:46:23.609 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:46:23.610 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 204 null null 2.6741ms
2025-03-12 18:46:23.614 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - "application/json" null
2025-03-12 18:46:23.615 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:46:23.616 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)"'
2025-03-12 18:46:23.617 +05:00 [Information] Route matched with "{action = \"GetCardiogram\", controller = \"Cardiogram\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiogram(System.Guid)" on controller "KpoApi.Presentation.Controllers.CardiogramController" ("KpoApi.Presentation").
2025-03-12 18:46:23.631 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:46:23.634 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 18:46:23.636 +05:00 [Information] Поступил запрос на получение всей информации по кардиограмме
2025-03-12 18:46:23.640 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4.0312ms.
2025-03-12 18:46:23.641 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Application.Models.Data.EntireCardiogramModel"'.
2025-03-12 18:46:23.643 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)" in 24.6841ms
2025-03-12 18:46:23.645 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)"'
2025-03-12 18:46:23.646 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 200 null "application/json; charset=utf-8" 32.3233ms
2025-03-12 18:46:23.665 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - null null
2025-03-12 18:46:23.667 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:46:23.668 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 204 null null 3.079ms
2025-03-12 18:46:23.671 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - "application/json" null
2025-03-12 18:46:23.673 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:46:23.674 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)"'
2025-03-12 18:46:23.675 +05:00 [Information] Route matched with "{action = \"GetUsersByCardiograms\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByCardiograms(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 18:46:23.691 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:46:23.695 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 18:46:23.697 +05:00 [Information] Поступил запрос на получение пользователей по кардиограмме
2025-03-12 18:46:23.700 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3.2845ms.
2025-03-12 18:46:23.702 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.User[]"'.
2025-03-12 18:46:23.703 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)" in 26.7292ms
2025-03-12 18:46:23.704 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)"'
2025-03-12 18:46:23.706 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 200 null "application/json; charset=utf-8" 34.4387ms
2025-03-12 18:46:23.745 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - null null
2025-03-12 18:46:23.748 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:46:23.749 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - 204 null null 3.9566ms
2025-03-12 18:46:23.755 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - "application/json" 1383
2025-03-12 18:46:23.760 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:46:23.761 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram (KpoApi.Presentation)"'
2025-03-12 18:46:23.762 +05:00 [Information] Route matched with "{action = \"SaveCardiogram\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCardiogram(KpoApi.Domain.Entities.Cardiogram)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 18:46:23.782 +05:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:46:23.790 +05:00 [Information] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
2025-03-12 18:46:23.791 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram (KpoApi.Presentation)" in 27.0516ms
2025-03-12 18:46:23.792 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram (KpoApi.Presentation)"'
2025-03-12 18:46:23.795 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - 400 null "application/problem+json; charset=utf-8" 40.0898ms
2025-03-12 18:46:51.059 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - null null
2025-03-12 18:46:51.067 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:46:51.069 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - 204 null null 9.8981ms
2025-03-12 18:46:51.077 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - "application/json" null
2025-03-12 18:46:51.080 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:46:51.081 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)"'
2025-03-12 18:46:51.083 +05:00 [Information] Route matched with "{action = \"GetOrganizations\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrganizations()" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 18:46:51.104 +05:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:46:51.109 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 18:46:51.110 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 18:46:51.113 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3.297ms.
2025-03-12 18:46:51.122 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Organization[]"'.
2025-03-12 18:46:51.124 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)" in 37.5222ms
2025-03-12 18:46:51.125 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)"'
2025-03-12 18:46:51.127 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - 200 null "application/json; charset=utf-8" 49.9859ms
2025-03-12 18:46:51.682 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - "application/json" null
2025-03-12 18:46:51.684 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:46:51.684 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)"'
2025-03-12 18:46:51.685 +05:00 [Information] Route matched with "{action = \"GetOrganizations\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrganizations()" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 18:46:51.700 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:46:51.702 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 18:46:51.703 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 18:46:51.706 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 2.7826ms.
2025-03-12 18:46:51.708 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Organization[]"'.
2025-03-12 18:46:51.709 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)" in 22.3342ms
2025-03-12 18:46:51.710 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)"'
2025-03-12 18:46:51.711 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - 200 null "application/json; charset=utf-8" 29.7977ms
2025-03-12 18:46:52.763 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - null null
2025-03-12 18:46:52.765 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:46:52.766 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - 204 null null 2.8077ms
2025-03-12 18:46:52.769 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - "application/json" null
2025-03-12 18:46:52.771 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:46:52.773 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)"'
2025-03-12 18:46:52.774 +05:00 [Information] Route matched with "{action = \"GetUsers\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 18:46:52.793 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:46:52.796 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 18:46:52.797 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 18:46:52.800 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 2.9383ms.
2025-03-12 18:46:52.808 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.User[]"'.
2025-03-12 18:46:52.809 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)" in 32.8012ms
2025-03-12 18:46:52.811 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)"'
2025-03-12 18:46:52.812 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - 200 null "application/json; charset=utf-8" 42.8634ms
2025-03-12 18:46:53.114 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - null null
2025-03-12 18:46:53.174 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:46:53.176 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - 204 null null 62.0361ms
2025-03-12 18:46:53.195 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - "application/json" null
2025-03-12 18:46:53.198 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:46:53.199 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)"'
2025-03-12 18:46:53.200 +05:00 [Information] Route matched with "{action = \"GetCardiographs\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiographs(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 18:46:53.219 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:46:53.223 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 18:46:53.224 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 18:46:53.228 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4.0626ms.
2025-03-12 18:46:53.231 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Cardiograph[]"'.
2025-03-12 18:46:53.233 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)" in 30.0082ms
2025-03-12 18:46:53.234 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)"'
2025-03-12 18:46:53.236 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - 200 null "application/json; charset=utf-8" 40.814ms
2025-03-12 18:46:53.466 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=c4f243f2-a246-4519-a732-6fd80cc1da61" - null null
2025-03-12 18:46:53.468 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:46:53.470 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=c4f243f2-a246-4519-a732-6fd80cc1da61" - 204 null null 4.6656ms
2025-03-12 18:46:53.474 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=c4f243f2-a246-4519-a732-6fd80cc1da61" - "application/json" null
2025-03-12 18:46:53.476 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:46:53.477 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)"'
2025-03-12 18:46:53.478 +05:00 [Information] Route matched with "{action = \"GetCardiographs\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiographs(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 18:46:53.495 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:46:53.497 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 18:46:53.499 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 18:46:53.502 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3.4269ms.
2025-03-12 18:46:53.504 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Cardiograph[]"'.
2025-03-12 18:46:53.506 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)" in 26.3094ms
2025-03-12 18:46:53.507 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)"'
2025-03-12 18:46:53.508 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=c4f243f2-a246-4519-a732-6fd80cc1da61" - 200 null "application/json; charset=utf-8" 34.3185ms
2025-03-12 18:46:54.568 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - null null
2025-03-12 18:46:54.571 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:46:54.572 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - 204 null null 3.5548ms
2025-03-12 18:46:54.575 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - "application/json" null
2025-03-12 18:46:54.576 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:46:54.577 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)"'
2025-03-12 18:46:54.577 +05:00 [Information] Route matched with "{action = \"GetCardiograms\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiograms(System.String)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 18:46:54.598 +05:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:46:54.601 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 18:46:54.602 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 18:46:54.605 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3.1004ms.
2025-03-12 18:46:54.607 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Cardiogram[]"'.
2025-03-12 18:46:54.610 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)" in 29.051ms
2025-03-12 18:46:54.612 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)"'
2025-03-12 18:46:54.613 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - 200 null "application/json; charset=utf-8" 38.8068ms
2025-03-12 18:46:54.980 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - null null
2025-03-12 18:46:54.982 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:46:54.984 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 204 null null 3.3254ms
2025-03-12 18:46:54.986 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - "application/json" null
2025-03-12 18:46:54.990 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:46:54.991 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)"'
2025-03-12 18:46:54.992 +05:00 [Information] Route matched with "{action = \"GetCardiogram\", controller = \"Cardiogram\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiogram(System.Guid)" on controller "KpoApi.Presentation.Controllers.CardiogramController" ("KpoApi.Presentation").
2025-03-12 18:46:55.038 +05:00 [Information] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:46:55.040 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 18:46:55.042 +05:00 [Information] Поступил запрос на получение всей информации по кардиограмме
2025-03-12 18:46:55.050 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 7.8006ms.
2025-03-12 18:46:55.052 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Application.Models.Data.EntireCardiogramModel"'.
2025-03-12 18:46:55.053 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)" in 59.8591ms
2025-03-12 18:46:55.054 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)"'
2025-03-12 18:46:55.056 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 200 null "application/json; charset=utf-8" 69.272ms
2025-03-12 18:46:55.079 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - null null
2025-03-12 18:46:55.081 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:46:55.082 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 204 null null 3.6422ms
2025-03-12 18:46:55.087 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - "application/json" null
2025-03-12 18:46:55.089 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:46:55.089 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)"'
2025-03-12 18:46:55.091 +05:00 [Information] Route matched with "{action = \"GetUsersByCardiograms\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByCardiograms(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 18:46:55.108 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:46:55.112 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 18:46:55.113 +05:00 [Information] Поступил запрос на получение пользователей по кардиограмме
2025-03-12 18:46:55.117 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3.7304ms.
2025-03-12 18:46:55.119 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.User[]"'.
2025-03-12 18:46:55.120 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)" in 27.5269ms
2025-03-12 18:46:55.123 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)"'
2025-03-12 18:46:55.125 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 200 null "application/json; charset=utf-8" 38.2895ms
2025-03-12 18:46:55.164 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - null null
2025-03-12 18:46:55.167 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:46:55.168 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - 204 null null 4.621ms
2025-03-12 18:46:55.175 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - "application/json" 1383
2025-03-12 18:46:55.178 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:46:55.179 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram (KpoApi.Presentation)"'
2025-03-12 18:46:55.180 +05:00 [Information] Route matched with "{action = \"SaveCardiogram\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCardiogram(KpoApi.Domain.Entities.Cardiogram)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 18:46:55.199 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:46:55.204 +05:00 [Information] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
2025-03-12 18:46:55.205 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram (KpoApi.Presentation)" in 23.9924ms
2025-03-12 18:46:55.207 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram (KpoApi.Presentation)"'
2025-03-12 18:46:55.209 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - 400 null "application/problem+json; charset=utf-8" 33.3394ms
2025-03-12 18:50:01.648 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - null null
2025-03-12 18:50:01.657 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:50:01.658 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - 204 null null 10.2548ms
2025-03-12 18:50:01.662 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - "application/json" null
2025-03-12 18:50:01.671 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:50:01.673 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)"'
2025-03-12 18:50:01.675 +05:00 [Information] Route matched with "{action = \"GetOrganizations\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrganizations()" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 18:50:01.720 +05:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:50:01.724 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 18:50:01.725 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 18:50:01.731 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.1244ms.
2025-03-12 18:50:01.734 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Organization[]"'.
2025-03-12 18:50:01.736 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)" in 58.8701ms
2025-03-12 18:50:01.738 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)"'
2025-03-12 18:50:01.739 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - 200 null "application/json; charset=utf-8" 77.3931ms
2025-03-12 18:50:02.682 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - "application/json" null
2025-03-12 18:50:02.685 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:50:02.686 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)"'
2025-03-12 18:50:02.687 +05:00 [Information] Route matched with "{action = \"GetOrganizations\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrganizations()" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 18:50:02.706 +05:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:50:02.709 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 18:50:02.711 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 18:50:02.714 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3.1264ms.
2025-03-12 18:50:02.715 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Organization[]"'.
2025-03-12 18:50:02.718 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)" in 28.4106ms
2025-03-12 18:50:02.720 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)"'
2025-03-12 18:50:02.723 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - 200 null "application/json; charset=utf-8" 41.0246ms
2025-03-12 18:50:04.414 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - "application/json" null
2025-03-12 18:50:04.417 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:50:04.418 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)"'
2025-03-12 18:50:04.420 +05:00 [Information] Route matched with "{action = \"GetOrganizations\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrganizations()" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 18:50:04.438 +05:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:50:04.441 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 18:50:04.443 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 18:50:04.446 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3.192ms.
2025-03-12 18:50:04.448 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Organization[]"'.
2025-03-12 18:50:04.450 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)" in 27.9677ms
2025-03-12 18:50:04.452 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)"'
2025-03-12 18:50:04.454 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - 200 null "application/json; charset=utf-8" 40.0074ms
2025-03-12 18:50:05.439 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - null null
2025-03-12 18:50:05.441 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:50:05.442 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - 204 null null 3.985ms
2025-03-12 18:50:05.447 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - "application/json" null
2025-03-12 18:50:05.449 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:50:05.451 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)"'
2025-03-12 18:50:05.453 +05:00 [Information] Route matched with "{action = \"GetUsers\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 18:50:05.470 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:50:05.472 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 18:50:05.474 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 18:50:05.477 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3.6586ms.
2025-03-12 18:50:05.479 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.User[]"'.
2025-03-12 18:50:05.482 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)" in 26.8117ms
2025-03-12 18:50:05.484 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)"'
2025-03-12 18:50:05.485 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - 200 null "application/json; charset=utf-8" 38.4389ms
2025-03-12 18:50:05.752 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - null null
2025-03-12 18:50:05.758 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:50:05.760 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - 204 null null 7.8593ms
2025-03-12 18:50:05.767 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - "application/json" null
2025-03-12 18:50:05.771 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:50:05.774 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)"'
2025-03-12 18:50:05.775 +05:00 [Information] Route matched with "{action = \"GetCardiographs\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiographs(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 18:50:05.801 +05:00 [Information] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:50:05.806 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 18:50:05.807 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 18:50:05.812 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4.4674ms.
2025-03-12 18:50:05.814 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Cardiograph[]"'.
2025-03-12 18:50:05.817 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)" in 36.7164ms
2025-03-12 18:50:05.819 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)"'
2025-03-12 18:50:05.821 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - 200 null "application/json; charset=utf-8" 54.8446ms
2025-03-12 18:50:05.949 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - "application/json" null
2025-03-12 18:50:05.952 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:50:05.953 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)"'
2025-03-12 18:50:05.955 +05:00 [Information] Route matched with "{action = \"GetOrganizations\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrganizations()" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 18:50:05.973 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:50:05.976 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 18:50:05.977 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 18:50:05.982 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4.2998ms.
2025-03-12 18:50:05.984 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Organization[]"'.
2025-03-12 18:50:05.986 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)" in 29.7813ms
2025-03-12 18:50:05.987 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)"'
2025-03-12 18:50:05.989 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - 200 null "application/json; charset=utf-8" 40.0431ms
2025-03-12 18:50:06.344 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - null null
2025-03-12 18:50:06.348 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:50:06.350 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - 204 null null 5.723ms
2025-03-12 18:50:06.355 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - "application/json" null
2025-03-12 18:50:06.357 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:50:06.358 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)"'
2025-03-12 18:50:06.359 +05:00 [Information] Route matched with "{action = \"GetCardiograms\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiograms(System.String)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 18:50:06.381 +05:00 [Information] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:50:06.386 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 18:50:06.387 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 18:50:06.391 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3.2609ms.
2025-03-12 18:50:06.394 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Cardiogram[]"'.
2025-03-12 18:50:06.396 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)" in 33.1688ms
2025-03-12 18:50:06.398 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)"'
2025-03-12 18:50:06.400 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - 200 null "application/json; charset=utf-8" 45.2658ms
2025-03-12 18:50:06.761 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - null null
2025-03-12 18:50:06.762 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:50:06.763 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 204 null null 2.7227ms
2025-03-12 18:50:06.767 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - "application/json" null
2025-03-12 18:50:06.769 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:50:06.769 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)"'
2025-03-12 18:50:06.770 +05:00 [Information] Route matched with "{action = \"GetCardiogram\", controller = \"Cardiogram\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiogram(System.Guid)" on controller "KpoApi.Presentation.Controllers.CardiogramController" ("KpoApi.Presentation").
2025-03-12 18:50:06.789 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:50:06.793 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 18:50:06.794 +05:00 [Information] Поступил запрос на получение всей информации по кардиограмме
2025-03-12 18:50:06.798 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4.1036ms.
2025-03-12 18:50:06.800 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Application.Models.Data.EntireCardiogramModel"'.
2025-03-12 18:50:06.804 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)" in 30.2739ms
2025-03-12 18:50:06.805 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)"'
2025-03-12 18:50:06.807 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 200 null "application/json; charset=utf-8" 39.8728ms
2025-03-12 18:50:06.830 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - null null
2025-03-12 18:50:06.833 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:50:06.834 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 204 null null 3.8575ms
2025-03-12 18:50:06.839 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - "application/json" null
2025-03-12 18:50:06.841 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:50:06.842 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)"'
2025-03-12 18:50:06.843 +05:00 [Information] Route matched with "{action = \"GetUsersByCardiograms\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByCardiograms(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 18:50:06.860 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:50:06.864 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 18:50:06.866 +05:00 [Information] Поступил запрос на получение пользователей по кардиограмме
2025-03-12 18:50:06.869 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3.384ms.
2025-03-12 18:50:06.871 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.User[]"'.
2025-03-12 18:50:06.872 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)" in 27.4081ms
2025-03-12 18:50:06.873 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)"'
2025-03-12 18:50:06.875 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 200 null "application/json; charset=utf-8" 36.5955ms
2025-03-12 18:50:06.915 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - null null
2025-03-12 18:50:06.918 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:50:06.919 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - 204 null null 3.9289ms
2025-03-12 18:50:06.924 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - "application/json" 188
2025-03-12 18:50:06.927 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:50:06.928 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram (KpoApi.Presentation)"'
2025-03-12 18:50:06.929 +05:00 [Information] Route matched with "{action = \"SaveCardiogram\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCardiogram(KpoApi.Domain.Entities.Cardiogram)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 18:50:06.948 +05:00 [Information] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:50:06.952 +05:00 [Information] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
2025-03-12 18:50:06.953 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram (KpoApi.Presentation)" in 22.566ms
2025-03-12 18:50:06.955 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram (KpoApi.Presentation)"'
2025-03-12 18:50:06.957 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - 400 null "application/problem+json; charset=utf-8" 33.3097ms
2025-03-12 18:50:13.439 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - null null
2025-03-12 18:50:13.442 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:50:13.443 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - 204 null null 3.8722ms
2025-03-12 18:50:13.446 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - "application/json" 186
2025-03-12 18:50:13.448 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:50:13.449 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram (KpoApi.Presentation)"'
2025-03-12 18:50:13.449 +05:00 [Information] Route matched with "{action = \"SaveCardiogram\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCardiogram(KpoApi.Domain.Entities.Cardiogram)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 18:50:13.464 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:50:13.466 +05:00 [Information] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
2025-03-12 18:50:13.467 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram (KpoApi.Presentation)" in 16.3543ms
2025-03-12 18:50:13.469 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram (KpoApi.Presentation)"'
2025-03-12 18:50:13.470 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - 400 null "application/problem+json; charset=utf-8" 24.0832ms
2025-03-12 18:51:14.171 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - null null
2025-03-12 18:51:14.181 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:51:14.183 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - 204 null null 12.9503ms
2025-03-12 18:51:14.221 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - "application/json" null
2025-03-12 18:51:14.241 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:51:14.244 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)"'
2025-03-12 18:51:14.246 +05:00 [Information] Route matched with "{action = \"GetOrganizations\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrganizations()" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 18:51:14.292 +05:00 [Information] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:51:14.297 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 18:51:14.301 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 18:51:14.343 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 41.9553ms.
2025-03-12 18:51:14.349 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Organization[]"'.
2025-03-12 18:51:14.353 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)" in 103.5051ms
2025-03-12 18:51:14.360 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)"'
2025-03-12 18:51:14.362 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - 200 null "application/json; charset=utf-8" 141.2315ms
2025-03-12 18:51:16.291 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - "application/json" null
2025-03-12 18:51:16.299 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:51:16.301 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)"'
2025-03-12 18:51:16.303 +05:00 [Information] Route matched with "{action = \"GetOrganizations\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrganizations()" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 18:51:16.324 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:51:16.328 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 18:51:16.330 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 18:51:16.334 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4.0149ms.
2025-03-12 18:51:16.339 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Organization[]"'.
2025-03-12 18:51:16.341 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)" in 34.7261ms
2025-03-12 18:51:16.345 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)"'
2025-03-12 18:51:16.347 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - 200 null "application/json; charset=utf-8" 56.1892ms
2025-03-12 18:51:23.243 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - null null
2025-03-12 18:51:23.245 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:51:23.246 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - 204 null null 3.7678ms
2025-03-12 18:51:23.250 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - "application/json" null
2025-03-12 18:51:23.252 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:51:23.253 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)"'
2025-03-12 18:51:23.255 +05:00 [Information] Route matched with "{action = \"GetOrganizations\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrganizations()" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 18:51:23.281 +05:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:51:23.285 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 18:51:23.286 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 18:51:23.290 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4.2485ms.
2025-03-12 18:51:23.292 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Organization[]"'.
2025-03-12 18:51:23.294 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)" in 30.4284ms
2025-03-12 18:51:23.297 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)"'
2025-03-12 18:51:23.300 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - 200 null "application/json; charset=utf-8" 49.5286ms
2025-03-12 18:51:24.038 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - "application/json" null
2025-03-12 18:51:24.040 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:51:24.041 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)"'
2025-03-12 18:51:24.042 +05:00 [Information] Route matched with "{action = \"GetOrganizations\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrganizations()" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 18:51:24.059 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:51:24.061 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 18:51:24.062 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 18:51:24.066 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3.3344ms.
2025-03-12 18:51:24.067 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Organization[]"'.
2025-03-12 18:51:24.069 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)" in 25.162ms
2025-03-12 18:51:24.070 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)"'
2025-03-12 18:51:24.072 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - 200 null "application/json; charset=utf-8" 34.5097ms
2025-03-12 18:51:24.500 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - null null
2025-03-12 18:51:24.503 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:51:24.504 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - 204 null null 4.4465ms
2025-03-12 18:51:24.508 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - "application/json" null
2025-03-12 18:51:24.511 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:51:24.512 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)"'
2025-03-12 18:51:24.513 +05:00 [Information] Route matched with "{action = \"GetUsers\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 18:51:24.531 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:51:24.536 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 18:51:24.537 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 18:51:24.542 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4.972ms.
2025-03-12 18:51:24.545 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.User[]"'.
2025-03-12 18:51:24.548 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)" in 32.4519ms
2025-03-12 18:51:24.552 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)"'
2025-03-12 18:51:24.554 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - 200 null "application/json; charset=utf-8" 45.7721ms
2025-03-12 18:51:24.821 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - null null
2025-03-12 18:51:24.824 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:51:24.825 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - 204 null null 4.2026ms
2025-03-12 18:51:24.832 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - "application/json" null
2025-03-12 18:51:24.834 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:51:24.837 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)"'
2025-03-12 18:51:24.839 +05:00 [Information] Route matched with "{action = \"GetCardiographs\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiographs(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 18:51:24.857 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:51:24.862 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 18:51:24.864 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 18:51:24.870 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 6.0997ms.
2025-03-12 18:51:24.873 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Cardiograph[]"'.
2025-03-12 18:51:24.874 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)" in 33.4691ms
2025-03-12 18:51:24.876 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)"'
2025-03-12 18:51:24.880 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - 200 null "application/json; charset=utf-8" 48.2994ms
2025-03-12 18:51:25.295 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - null null
2025-03-12 18:51:25.299 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:51:25.300 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - 204 null null 4.8664ms
2025-03-12 18:51:25.304 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - "application/json" null
2025-03-12 18:51:25.306 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:51:25.307 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)"'
2025-03-12 18:51:25.308 +05:00 [Information] Route matched with "{action = \"GetCardiograms\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiograms(System.String)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 18:51:25.325 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:51:25.328 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 18:51:25.329 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 18:51:25.334 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4.1152ms.
2025-03-12 18:51:25.336 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Cardiogram[]"'.
2025-03-12 18:51:25.339 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)" in 29.2182ms
2025-03-12 18:51:25.340 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)"'
2025-03-12 18:51:25.341 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - 200 null "application/json; charset=utf-8" 37.3076ms
2025-03-12 18:51:25.843 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - null null
2025-03-12 18:51:25.845 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:51:25.846 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 204 null null 2.7953ms
2025-03-12 18:51:25.849 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - "application/json" null
2025-03-12 18:51:25.851 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:51:25.852 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)"'
2025-03-12 18:51:25.853 +05:00 [Information] Route matched with "{action = \"GetCardiogram\", controller = \"Cardiogram\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiogram(System.Guid)" on controller "KpoApi.Presentation.Controllers.CardiogramController" ("KpoApi.Presentation").
2025-03-12 18:51:25.868 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:51:25.870 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 18:51:25.872 +05:00 [Information] Поступил запрос на получение всей информации по кардиограмме
2025-03-12 18:51:25.875 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3.8556ms.
2025-03-12 18:51:25.877 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Application.Models.Data.EntireCardiogramModel"'.
2025-03-12 18:51:25.879 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)" in 24.1618ms
2025-03-12 18:51:25.880 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)"'
2025-03-12 18:51:25.882 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 200 null "application/json; charset=utf-8" 33.0266ms
2025-03-12 18:51:25.905 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - null null
2025-03-12 18:51:25.907 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:51:25.908 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 204 null null 3.2882ms
2025-03-12 18:51:25.914 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - "application/json" null
2025-03-12 18:51:25.916 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:51:25.917 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)"'
2025-03-12 18:51:25.919 +05:00 [Information] Route matched with "{action = \"GetUsersByCardiograms\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByCardiograms(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 18:51:25.936 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:51:25.939 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 18:51:25.940 +05:00 [Information] Поступил запрос на получение пользователей по кардиограмме
2025-03-12 18:51:25.945 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4.8463ms.
2025-03-12 18:51:25.947 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.User[]"'.
2025-03-12 18:51:25.949 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)" in 27.9647ms
2025-03-12 18:51:25.950 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)"'
2025-03-12 18:51:25.953 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 200 null "application/json; charset=utf-8" 39.1766ms
2025-03-12 18:51:25.991 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - null null
2025-03-12 18:51:25.994 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:51:25.995 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - 204 null null 4.2592ms
2025-03-12 18:51:25.998 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - "application/json" 188
2025-03-12 18:51:26.001 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:51:26.003 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram (KpoApi.Presentation)"'
2025-03-12 18:51:26.004 +05:00 [Information] Route matched with "{action = \"SaveCardiogram\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCardiogram(KpoApi.Domain.Entities.Cardiogram)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 18:51:26.022 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:51:26.024 +05:00 [Information] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
2025-03-12 18:51:26.026 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram (KpoApi.Presentation)" in 19.3818ms
2025-03-12 18:51:26.027 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram (KpoApi.Presentation)"'
2025-03-12 18:51:26.029 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - 400 null "application/problem+json; charset=utf-8" 31.1174ms
2025-03-12 18:51:35.181 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - null null
2025-03-12 18:51:35.184 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:51:35.212 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - 204 null null 30.8975ms
2025-03-12 18:51:35.218 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - "application/json" 186
2025-03-12 18:51:35.221 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:51:35.222 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram (KpoApi.Presentation)"'
2025-03-12 18:51:35.230 +05:00 [Information] Route matched with "{action = \"SaveCardiogram\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCardiogram(KpoApi.Domain.Entities.Cardiogram)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 18:51:35.252 +05:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:51:35.255 +05:00 [Information] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
2025-03-12 18:51:35.256 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram (KpoApi.Presentation)" in 24.8452ms
2025-03-12 18:51:35.258 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram (KpoApi.Presentation)"'
2025-03-12 18:51:35.259 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - 400 null "application/problem+json; charset=utf-8" 41.7399ms
2025-03-12 18:51:57.378 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - null null
2025-03-12 18:51:57.380 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:51:57.381 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - 204 null null 3.3203ms
2025-03-12 18:51:57.384 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - "application/json" 186
2025-03-12 18:51:57.388 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:51:57.389 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram (KpoApi.Presentation)"'
2025-03-12 18:51:57.391 +05:00 [Information] Route matched with "{action = \"SaveCardiogram\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCardiogram(KpoApi.Domain.Entities.Cardiogram)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 18:51:57.405 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:51:57.408 +05:00 [Information] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
2025-03-12 18:51:57.409 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram (KpoApi.Presentation)" in 16.3722ms
2025-03-12 18:51:57.410 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram (KpoApi.Presentation)"'
2025-03-12 18:51:57.411 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - 400 null "application/problem+json; charset=utf-8" 26.402ms
2025-03-12 18:52:45.997 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - null null
2025-03-12 18:52:46.005 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:52:46.006 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - 204 null null 9.4932ms
2025-03-12 18:52:46.010 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - "application/json" null
2025-03-12 18:52:46.013 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:52:46.014 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)"'
2025-03-12 18:52:46.015 +05:00 [Information] Route matched with "{action = \"GetOrganizations\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrganizations()" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 18:52:46.033 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:52:46.037 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 18:52:46.038 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 18:52:46.042 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4.0727ms.
2025-03-12 18:52:46.053 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Organization[]"'.
2025-03-12 18:52:46.055 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)" in 37.843ms
2025-03-12 18:52:46.059 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)"'
2025-03-12 18:52:46.061 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - 200 null "application/json; charset=utf-8" 51.1762ms
2025-03-12 18:52:47.017 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - "application/json" null
2025-03-12 18:52:47.020 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:52:47.021 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)"'
2025-03-12 18:52:47.022 +05:00 [Information] Route matched with "{action = \"GetOrganizations\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrganizations()" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 18:52:47.047 +05:00 [Information] Executed DbCommand ("8"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:52:47.056 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 18:52:47.058 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 18:52:47.062 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4.0112ms.
2025-03-12 18:52:47.066 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Organization[]"'.
2025-03-12 18:52:47.069 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)" in 44.4624ms
2025-03-12 18:52:47.075 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)"'
2025-03-12 18:52:47.078 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - 200 null "application/json; charset=utf-8" 61.2128ms
2025-03-12 18:52:52.552 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - null null
2025-03-12 18:52:52.557 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:52:52.558 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - 204 null null 5.3539ms
2025-03-12 18:52:52.563 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - "application/json" null
2025-03-12 18:52:52.565 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:52:52.566 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)"'
2025-03-12 18:52:52.567 +05:00 [Information] Route matched with "{action = \"GetOrganizations\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrganizations()" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 18:52:52.586 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:52:52.589 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 18:52:52.591 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 18:52:52.595 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3.6167ms.
2025-03-12 18:52:52.605 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Organization[]"'.
2025-03-12 18:52:52.606 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)" in 36.5264ms
2025-03-12 18:52:52.608 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)"'
2025-03-12 18:52:52.609 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - 200 null "application/json; charset=utf-8" 46.5393ms
2025-03-12 18:52:53.186 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - "application/json" null
2025-03-12 18:52:53.188 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:52:53.189 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)"'
2025-03-12 18:52:53.190 +05:00 [Information] Route matched with "{action = \"GetOrganizations\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrganizations()" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 18:52:53.205 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:52:53.207 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 18:52:53.209 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 18:52:53.212 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3.2269ms.
2025-03-12 18:52:53.213 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Organization[]"'.
2025-03-12 18:52:53.215 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)" in 23.2858ms
2025-03-12 18:52:53.216 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)"'
2025-03-12 18:52:53.218 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - 200 null "application/json; charset=utf-8" 32.3461ms
2025-03-12 18:52:54.210 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - null null
2025-03-12 18:52:54.211 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:52:54.212 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - 204 null null 2.6399ms
2025-03-12 18:52:54.219 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - "application/json" null
2025-03-12 18:52:54.222 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:52:54.222 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)"'
2025-03-12 18:52:54.223 +05:00 [Information] Route matched with "{action = \"GetUsers\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 18:52:54.240 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:52:54.243 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 18:52:54.244 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 18:52:54.248 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4.2887ms.
2025-03-12 18:52:54.250 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.User[]"'.
2025-03-12 18:52:54.252 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)" in 26.8758ms
2025-03-12 18:52:54.253 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)"'
2025-03-12 18:52:54.254 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - 200 null "application/json; charset=utf-8" 36.3813ms
2025-03-12 18:52:54.529 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - null null
2025-03-12 18:52:54.531 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:52:54.532 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - 204 null null 3.6955ms
2025-03-12 18:52:54.536 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - "application/json" null
2025-03-12 18:52:54.539 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:52:54.540 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)"'
2025-03-12 18:52:54.540 +05:00 [Information] Route matched with "{action = \"GetCardiographs\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiographs(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 18:52:54.558 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:52:54.561 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 18:52:54.562 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 18:52:54.566 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3.3971ms.
2025-03-12 18:52:54.569 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Cardiograph[]"'.
2025-03-12 18:52:54.571 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)" in 28.3022ms
2025-03-12 18:52:54.572 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)"'
2025-03-12 18:52:54.574 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - 200 null "application/json; charset=utf-8" 38.1218ms
2025-03-12 18:52:54.862 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - null null
2025-03-12 18:52:54.864 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:52:54.865 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - 204 null null 3.654ms
2025-03-12 18:52:54.869 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - "application/json" null
2025-03-12 18:52:54.871 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:52:54.872 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)"'
2025-03-12 18:52:54.874 +05:00 [Information] Route matched with "{action = \"GetCardiograms\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiograms(System.String)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 18:52:54.891 +05:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:52:54.895 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 18:52:54.897 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 18:52:54.900 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 2.9241ms.
2025-03-12 18:52:54.901 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Cardiogram[]"'.
2025-03-12 18:52:54.903 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)" in 27.1601ms
2025-03-12 18:52:54.904 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)"'
2025-03-12 18:52:54.906 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - 200 null "application/json; charset=utf-8" 37.0004ms
2025-03-12 18:52:55.263 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - null null
2025-03-12 18:52:55.265 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:52:55.266 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 204 null null 2.6808ms
2025-03-12 18:52:55.270 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - "application/json" null
2025-03-12 18:52:55.272 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:52:55.273 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)"'
2025-03-12 18:52:55.273 +05:00 [Information] Route matched with "{action = \"GetCardiogram\", controller = \"Cardiogram\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiogram(System.Guid)" on controller "KpoApi.Presentation.Controllers.CardiogramController" ("KpoApi.Presentation").
2025-03-12 18:52:55.291 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:52:55.293 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 18:52:55.294 +05:00 [Information] Поступил запрос на получение всей информации по кардиограмме
2025-03-12 18:52:55.335 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 40.2179ms.
2025-03-12 18:52:55.337 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Application.Models.Data.EntireCardiogramModel"'.
2025-03-12 18:52:55.338 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)" in 62.85ms
2025-03-12 18:52:55.339 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)"'
2025-03-12 18:52:55.341 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 200 null "application/json; charset=utf-8" 71.135ms
2025-03-12 18:52:55.370 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - null null
2025-03-12 18:52:55.373 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:52:55.374 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 204 null null 3.8195ms
2025-03-12 18:52:55.378 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - "application/json" null
2025-03-12 18:52:55.380 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:52:55.381 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)"'
2025-03-12 18:52:55.382 +05:00 [Information] Route matched with "{action = \"GetUsersByCardiograms\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByCardiograms(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 18:52:55.399 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:52:55.401 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 18:52:55.404 +05:00 [Information] Поступил запрос на получение пользователей по кардиограмме
2025-03-12 18:52:55.408 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4.337ms.
2025-03-12 18:52:55.410 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.User[]"'.
2025-03-12 18:52:55.411 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)" in 27.7496ms
2025-03-12 18:52:55.412 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)"'
2025-03-12 18:52:55.414 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 200 null "application/json; charset=utf-8" 35.9586ms
2025-03-12 18:52:55.446 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - null null
2025-03-12 18:52:55.449 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:52:55.451 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - 204 null null 5.36ms
2025-03-12 18:52:55.455 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - "application/json" 273
2025-03-12 18:52:55.457 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:52:55.458 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram (KpoApi.Presentation)"'
2025-03-12 18:52:55.459 +05:00 [Information] Route matched with "{action = \"SaveCardiogram\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCardiogram(KpoApi.Domain.Entities.Cardiogram)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 18:52:55.475 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:52:55.479 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 18:52:55.481 +05:00 [Information] Поступил запрос сохранение кардиограммы
2025-03-12 18:52:55.799 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram (KpoApi.Presentation)" in 338.454ms
2025-03-12 18:52:55.800 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram (KpoApi.Presentation)"'
2025-03-12 18:52:55.802 +05:00 [Error] Connection id ""0HNB1D0I4CC4U"", Request id ""0HNB1D0I4CC4U:0000009C"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42804: column "UserUuid" is of type uuid but expression is of type text

POSITION: 30
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token)
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token)
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCardiogram(Cardiogram newCardiogram, CancellationToken cancellationToken)
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCardiogram(Cardiogram newCardiogram, CancellationToken cancellationToken)
   at KpoApi.Application.Services.CardiogramService.SaveCardiogram(Cardiogram newCardiogram) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 101
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram(Cardiogram newCardiogram) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 48
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42804
    MessageText: column "UserUuid" is of type uuid but expression is of type text
    Hint: You will need to rewrite or cast the expression.
    Position: 30
    File: parse_target.c
    Line: 585
    Routine: transformAssignedExpr
2025-03-12 18:52:55.817 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - 500 0 null 362.2585ms
2025-03-12 18:53:00.676 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - null null
2025-03-12 18:53:00.678 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:53:00.679 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - 204 null null 3.4505ms
2025-03-12 18:53:00.684 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - "application/json" 271
2025-03-12 18:53:00.685 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:53:00.686 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram (KpoApi.Presentation)"'
2025-03-12 18:53:00.686 +05:00 [Information] Route matched with "{action = \"SaveCardiogram\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCardiogram(KpoApi.Domain.Entities.Cardiogram)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 18:53:00.701 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:53:00.704 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 18:53:00.705 +05:00 [Information] Поступил запрос сохранение кардиограммы
2025-03-12 18:53:00.949 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram (KpoApi.Presentation)" in 260.9474ms
2025-03-12 18:53:00.950 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram (KpoApi.Presentation)"'
2025-03-12 18:53:00.952 +05:00 [Error] Connection id ""0HNB1D0I4CC4U"", Request id ""0HNB1D0I4CC4U:0000009E"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42804: column "UserUuid" is of type uuid but expression is of type text

POSITION: 30
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token)
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token)
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCardiogram(Cardiogram newCardiogram, CancellationToken cancellationToken)
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCardiogram(Cardiogram newCardiogram, CancellationToken cancellationToken)
   at KpoApi.Application.Services.CardiogramService.SaveCardiogram(Cardiogram newCardiogram) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 101
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram(Cardiogram newCardiogram) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 48
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42804
    MessageText: column "UserUuid" is of type uuid but expression is of type text
    Hint: You will need to rewrite or cast the expression.
    Position: 30
    File: parse_target.c
    Line: 585
    Routine: transformAssignedExpr
2025-03-12 18:53:00.962 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - 500 0 null 278.9492ms
2025-03-12 18:53:17.613 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - null null
2025-03-12 18:53:17.615 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:53:17.616 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 204 null null 3.0686ms
2025-03-12 18:53:17.619 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - "application/json" null
2025-03-12 18:53:17.621 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:53:17.622 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)"'
2025-03-12 18:53:17.622 +05:00 [Information] Route matched with "{action = \"GetCardiogram\", controller = \"Cardiogram\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiogram(System.Guid)" on controller "KpoApi.Presentation.Controllers.CardiogramController" ("KpoApi.Presentation").
2025-03-12 18:53:17.662 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:53:17.666 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 18:53:17.668 +05:00 [Information] Поступил запрос на получение всей информации по кардиограмме
2025-03-12 18:53:17.671 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3.3332ms.
2025-03-12 18:53:17.672 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Application.Models.Data.EntireCardiogramModel"'.
2025-03-12 18:53:17.674 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)" in 50.165ms
2025-03-12 18:53:17.676 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)"'
2025-03-12 18:53:17.677 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 200 null "application/json; charset=utf-8" 58.5903ms
2025-03-12 18:53:24.588 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - null null
2025-03-12 18:53:24.591 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:53:24.593 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - 204 null null 4.475ms
2025-03-12 18:53:24.596 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - "application/json" 271
2025-03-12 18:53:24.602 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:53:24.603 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram (KpoApi.Presentation)"'
2025-03-12 18:53:24.605 +05:00 [Information] Route matched with "{action = \"SaveCardiogram\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCardiogram(KpoApi.Domain.Entities.Cardiogram)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 18:53:24.623 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:53:24.627 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 18:53:24.629 +05:00 [Information] Поступил запрос сохранение кардиограммы
2025-03-12 18:53:24.863 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram (KpoApi.Presentation)" in 256.3594ms
2025-03-12 18:53:24.865 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram (KpoApi.Presentation)"'
2025-03-12 18:53:24.866 +05:00 [Error] Connection id ""0HNB1D0I4CC4U"", Request id ""0HNB1D0I4CC4U:000000A2"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42804: column "UserUuid" is of type uuid but expression is of type text

POSITION: 30
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token)
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token)
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCardiogram(Cardiogram newCardiogram, CancellationToken cancellationToken)
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCardiogram(Cardiogram newCardiogram, CancellationToken cancellationToken)
   at KpoApi.Application.Services.CardiogramService.SaveCardiogram(Cardiogram newCardiogram) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 101
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram(Cardiogram newCardiogram) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 48
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42804
    MessageText: column "UserUuid" is of type uuid but expression is of type text
    Hint: You will need to rewrite or cast the expression.
    Position: 30
    File: parse_target.c
    Line: 585
    Routine: transformAssignedExpr
2025-03-12 18:53:24.879 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - 500 0 null 282.9999ms
2025-03-12 18:54:17.800 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - "application/json" 314
2025-03-12 18:54:17.808 +05:00 [Information] CORS policy execution successful.
2025-03-12 18:54:17.809 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram (KpoApi.Presentation)"'
2025-03-12 18:54:17.810 +05:00 [Information] Route matched with "{action = \"SaveCardiogram\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCardiogram(KpoApi.Domain.Entities.Cardiogram)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 18:54:17.829 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 18:54:17.833 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 18:54:17.834 +05:00 [Information] Поступил запрос сохранение кардиограммы
2025-03-12 18:54:18.094 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram (KpoApi.Presentation)" in 281.2061ms
2025-03-12 18:54:18.097 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram (KpoApi.Presentation)"'
2025-03-12 18:54:18.099 +05:00 [Error] Connection id ""0HNB1D0I4CC50"", Request id ""0HNB1D0I4CC50:00000001"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42804: column "UserUuid" is of type uuid but expression is of type text

POSITION: 30
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token)
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token)
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCardiogram(Cardiogram newCardiogram, CancellationToken cancellationToken)
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCardiogram(Cardiogram newCardiogram, CancellationToken cancellationToken)
   at KpoApi.Application.Services.CardiogramService.SaveCardiogram(Cardiogram newCardiogram) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 101
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram(Cardiogram newCardiogram) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 48
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42804
    MessageText: column "UserUuid" is of type uuid but expression is of type text
    Hint: You will need to rewrite or cast the expression.
    Position: 30
    File: parse_target.c
    Line: 585
    Routine: transformAssignedExpr
2025-03-12 18:54:18.113 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - 500 0 null 314.9589ms
2025-03-12 18:54:59.126 +05:00 [Information] Migrations
2025-03-12 18:54:59.208 +05:00 [Information] 2025010501: CreateOrganizationTable
2025-03-12 18:54:59.211 +05:00 [Information] 2025010502: CreateUsersTable
2025-03-12 18:54:59.212 +05:00 [Information] 2025010503: CreateResultsCardiogramsTable
2025-03-12 18:54:59.212 +05:00 [Information] 2025010504: CreateCardiogramsStateTable
2025-03-12 18:54:59.214 +05:00 [Information] 2025010505: CreateCardiographsTable
2025-03-12 18:54:59.214 +05:00 [Information] 2025010506: CreateSexPatientsTable
2025-03-12 18:54:59.215 +05:00 [Information] 2025010507: CreatePrioritiesTable
2025-03-12 18:54:59.216 +05:00 [Information] 2025010508: CreateUsersCardiographsTable
2025-03-12 18:54:59.217 +05:00 [Information] 2025010509: CreateCallsTable
2025-03-12 18:54:59.218 +05:00 [Warning] 2025010510: CreateCardiogramsTable (current)
2025-03-12 18:54:59.575 +05:00 [Warning] Overriding address(es) '"http://localhost:2324/swagger"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-03-12 18:54:59.600 +05:00 [Information] Now listening on: "http://0.0.0.0:2324"
2025-03-12 18:54:59.601 +05:00 [Information] Application started. Press Ctrl+C to shut down.
2025-03-12 18:54:59.602 +05:00 [Information] Hosting environment: "Development"
2025-03-12 18:54:59.603 +05:00 [Information] Content root path: "C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.WebHost"
2025-03-12 18:54:59.871 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.html""" - null null
2025-03-12 18:55:00.067 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 202.9869ms
2025-03-12 18:55:00.176 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.js""" - null null
2025-03-12 18:55:00.191 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.js""" - 200 null "application/javascript;charset=utf-8" 14.7157ms
2025-03-12 18:55:00.509 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/v1/swagger.json""" - null null
2025-03-12 18:55:00.750 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 241.2007ms
2025-03-12 19:00:05.175 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - null null
2025-03-12 19:00:05.188 +05:00 [Information] CORS policy execution successful.
2025-03-12 19:00:05.192 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - 204 null null 16.318ms
2025-03-12 19:00:05.200 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - "application/json" null
2025-03-12 19:00:05.205 +05:00 [Information] CORS policy execution successful.
2025-03-12 19:00:05.210 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)"'
2025-03-12 19:00:05.247 +05:00 [Information] Route matched with "{action = \"GetUsers\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 19:00:06.134 +05:00 [Information] Executed DbCommand ("12"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 19:00:06.161 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 19:00:06.164 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 19:00:06.332 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 165.3405ms.
2025-03-12 19:00:06.347 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.User[]"'.
2025-03-12 19:00:06.405 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)" in 1151.9254ms
2025-03-12 19:00:06.406 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)"'
2025-03-12 19:00:06.471 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - 200 null "application/json; charset=utf-8" 1270.7898ms
2025-03-12 19:00:06.476 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=f45d0e56-5c94-48f1-b703-42fb5fc25376" - null null
2025-03-12 19:00:06.480 +05:00 [Information] CORS policy execution successful.
2025-03-12 19:00:06.481 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=f45d0e56-5c94-48f1-b703-42fb5fc25376" - 204 null null 5.5239ms
2025-03-12 19:00:06.488 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=f45d0e56-5c94-48f1-b703-42fb5fc25376" - "application/json" null
2025-03-12 19:00:06.492 +05:00 [Information] CORS policy execution successful.
2025-03-12 19:00:06.495 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)"'
2025-03-12 19:00:06.497 +05:00 [Information] Route matched with "{action = \"GetUsers\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 19:00:06.535 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 19:00:06.540 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 19:00:06.542 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 19:00:06.551 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 9.6389ms.
2025-03-12 19:00:06.554 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.User[]"'.
2025-03-12 19:00:06.555 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)" in 57.2509ms
2025-03-12 19:00:06.557 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)"'
2025-03-12 19:00:06.559 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=f45d0e56-5c94-48f1-b703-42fb5fc25376" - 200 null "application/json; charset=utf-8" 71.0103ms
2025-03-12 19:00:07.961 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - null null
2025-03-12 19:00:07.963 +05:00 [Information] CORS policy execution successful.
2025-03-12 19:00:07.964 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - 204 null null 2.8939ms
2025-03-12 19:00:07.968 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - "application/json" null
2025-03-12 19:00:07.970 +05:00 [Information] CORS policy execution successful.
2025-03-12 19:00:07.971 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)"'
2025-03-12 19:00:07.975 +05:00 [Information] Route matched with "{action = \"GetCardiographs\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiographs(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 19:00:08.028 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 19:00:08.030 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 19:00:08.032 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 19:00:08.041 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 10.4784ms.
2025-03-12 19:00:08.043 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Cardiograph[]"'.
2025-03-12 19:00:08.048 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)" in 70.5718ms
2025-03-12 19:00:08.050 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)"'
2025-03-12 19:00:08.052 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - 200 null "application/json; charset=utf-8" 83.0585ms
2025-03-12 19:00:08.339 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - null null
2025-03-12 19:00:08.341 +05:00 [Information] CORS policy execution successful.
2025-03-12 19:00:08.342 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - 204 null null 3.3797ms
2025-03-12 19:00:08.345 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - "application/json" null
2025-03-12 19:00:08.350 +05:00 [Information] CORS policy execution successful.
2025-03-12 19:00:08.350 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)"'
2025-03-12 19:00:08.355 +05:00 [Information] Route matched with "{action = \"GetCardiograms\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiograms(System.String)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 19:00:08.373 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 19:00:08.381 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 19:00:08.383 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 19:00:08.807 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)" in 448.8068ms
2025-03-12 19:00:08.808 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)"'
2025-03-12 19:00:08.810 +05:00 [Error] Connection id ""0HNB1DLTEVIMD"", Request id ""0HNB1DLTEVIMD:00000008"": An unhandled exception was thrown by the application.
System.Data.DataException: Error parsing column 3 (CardiographUuid=38988324379573 - String)
 ---> System.InvalidCastException: Invalid cast from 'System.String' to 'System.Guid'.
   at System.Convert.DefaultToType(IConvertible value, Type targetType, IFormatProvider provider)
   at Deserialize63f3ccd0-61df-43c9-b758-3257af4f0b60(DbDataReader)
   --- End of inner exception stack trace ---
   at Dapper.SqlMapper.ThrowDataException(Exception ex, Int32 index, IDataReader reader, Object value) in /_/Dapper/SqlMapper.cs:line 3966
   at Deserialize63f3ccd0-61df-43c9-b758-3257af4f0b60(DbDataReader)
   at Dapper.SqlMapper.QueryAsync[T](IDbConnection cnn, Type effectiveType, CommandDefinition command)
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.BaseRepository.ExecuteQueryAsync[TModel](String sql, Object param, CancellationToken token)
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.BaseRepository.ExecuteQueryAsync[TModel](String sql, Object param, CancellationToken token)
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.CardiogramsRepository.GetCardiograms(String serialNumber, CancellationToken cancellationToken)
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.GetCardiograms(String serialNumber, CancellationToken cancellationToken)
   at KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms(String serialNumber)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-03-12 19:00:08.859 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - 500 0 null 514.0031ms
2025-03-12 19:00:10.783 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=c4f243f2-a246-4519-a732-6fd80cc1da61" - null null
2025-03-12 19:00:10.785 +05:00 [Information] CORS policy execution successful.
2025-03-12 19:00:10.786 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=c4f243f2-a246-4519-a732-6fd80cc1da61" - 204 null null 3.5507ms
2025-03-12 19:00:10.790 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=c4f243f2-a246-4519-a732-6fd80cc1da61" - "application/json" null
2025-03-12 19:00:10.792 +05:00 [Information] CORS policy execution successful.
2025-03-12 19:00:10.793 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)"'
2025-03-12 19:00:10.793 +05:00 [Information] Route matched with "{action = \"GetCardiographs\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiographs(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 19:00:10.811 +05:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 19:00:10.814 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 19:00:10.815 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 19:00:10.818 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3.1275ms.
2025-03-12 19:00:10.820 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Cardiograph[]"'.
2025-03-12 19:00:10.822 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)" in 27.7655ms
2025-03-12 19:00:10.824 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)"'
2025-03-12 19:00:10.825 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=c4f243f2-a246-4519-a732-6fd80cc1da61" - 200 null "application/json; charset=utf-8" 35.9628ms
2025-03-12 19:00:11.367 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988559379573" - null null
2025-03-12 19:00:11.369 +05:00 [Information] CORS policy execution successful.
2025-03-12 19:00:11.369 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988559379573" - 204 null null 2.5166ms
2025-03-12 19:00:11.376 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988559379573" - "application/json" null
2025-03-12 19:00:11.378 +05:00 [Information] CORS policy execution successful.
2025-03-12 19:00:11.378 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)"'
2025-03-12 19:00:11.379 +05:00 [Information] Route matched with "{action = \"GetCardiograms\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiograms(System.String)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 19:00:11.398 +05:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 19:00:11.401 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 19:00:11.402 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 19:00:11.648 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)" in 267.3978ms
2025-03-12 19:00:11.649 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)"'
2025-03-12 19:00:11.651 +05:00 [Error] Connection id ""0HNB1DLTEVIMD"", Request id ""0HNB1DLTEVIMD:0000000C"": An unhandled exception was thrown by the application.
System.Data.DataException: Error parsing column 3 (CardiographUuid=38988559379573 - String)
 ---> System.InvalidCastException: Invalid cast from 'System.String' to 'System.Guid'.
   at System.Convert.DefaultToType(IConvertible value, Type targetType, IFormatProvider provider)
   at Deserialize63f3ccd0-61df-43c9-b758-3257af4f0b60(DbDataReader)
   --- End of inner exception stack trace ---
   at Dapper.SqlMapper.ThrowDataException(Exception ex, Int32 index, IDataReader reader, Object value) in /_/Dapper/SqlMapper.cs:line 3966
   at Deserialize63f3ccd0-61df-43c9-b758-3257af4f0b60(DbDataReader)
   at Dapper.SqlMapper.QueryAsync[T](IDbConnection cnn, Type effectiveType, CommandDefinition command)
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.BaseRepository.ExecuteQueryAsync[TModel](String sql, Object param, CancellationToken token)
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.BaseRepository.ExecuteQueryAsync[TModel](String sql, Object param, CancellationToken token)
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.CardiogramsRepository.GetCardiograms(String serialNumber, CancellationToken cancellationToken)
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.GetCardiograms(String serialNumber, CancellationToken cancellationToken)
   at KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms(String serialNumber)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-03-12 19:00:11.660 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988559379573" - 500 0 null 284.6031ms
2025-03-12 19:00:45.804 +05:00 [Information] Migrations
2025-03-12 19:00:45.853 +05:00 [Information] 2025010501: CreateOrganizationTable
2025-03-12 19:00:45.855 +05:00 [Information] 2025010502: CreateUsersTable
2025-03-12 19:00:45.855 +05:00 [Information] 2025010503: CreateResultsCardiogramsTable
2025-03-12 19:00:45.856 +05:00 [Information] 2025010504: CreateCardiogramsStateTable
2025-03-12 19:00:45.857 +05:00 [Information] 2025010505: CreateCardiographsTable
2025-03-12 19:00:45.858 +05:00 [Information] 2025010506: CreateSexPatientsTable
2025-03-12 19:00:45.858 +05:00 [Information] 2025010507: CreatePrioritiesTable
2025-03-12 19:00:45.859 +05:00 [Information] 2025010508: CreateUsersCardiographsTable
2025-03-12 19:00:45.860 +05:00 [Information] 2025010509: CreateCallsTable
2025-03-12 19:00:45.861 +05:00 [Warning] 2025010510: CreateCardiogramsTable (current)
2025-03-12 19:00:46.178 +05:00 [Warning] Overriding address(es) '"http://localhost:2324/swagger"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-03-12 19:00:46.216 +05:00 [Information] Now listening on: "http://0.0.0.0:2324"
2025-03-12 19:00:46.218 +05:00 [Information] Application started. Press Ctrl+C to shut down.
2025-03-12 19:00:46.219 +05:00 [Information] Hosting environment: "Development"
2025-03-12 19:00:46.219 +05:00 [Information] Content root path: "C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.WebHost"
2025-03-12 19:00:46.833 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.html""" - null null
2025-03-12 19:00:47.269 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 456.303ms
2025-03-12 19:00:47.440 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.js""" - null null
2025-03-12 19:00:47.462 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.js""" - 200 null "application/javascript;charset=utf-8" 22.4183ms
2025-03-12 19:00:47.822 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/v1/swagger.json""" - null null
2025-03-12 19:00:48.108 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 285.5734ms
2025-03-12 19:01:33.856 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - null null
2025-03-12 19:01:33.870 +05:00 [Information] CORS policy execution successful.
2025-03-12 19:01:33.874 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - 204 null null 17.4437ms
2025-03-12 19:01:33.881 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - "application/json" null
2025-03-12 19:01:33.885 +05:00 [Information] CORS policy execution successful.
2025-03-12 19:01:33.888 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)"'
2025-03-12 19:01:33.915 +05:00 [Information] Route matched with "{action = \"GetCardiograms\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiograms(System.String)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 19:01:34.649 +05:00 [Information] Executed DbCommand ("11"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 19:01:34.675 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 19:01:34.678 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 19:01:35.098 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)" in 1178.3977ms
2025-03-12 19:01:35.101 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)"'
2025-03-12 19:01:35.107 +05:00 [Error] Connection id ""0HNB1DP4RGCUF"", Request id ""0HNB1DP4RGCUF:00000002"": An unhandled exception was thrown by the application.
System.Data.DataException: Error parsing column 4 (CallUuid=5a8e1b1a-f481-4f98-bb4c-e6e491755090 - String)
 ---> System.InvalidCastException: Invalid cast from 'System.String' to 'System.Guid'.
   at System.Convert.DefaultToType(IConvertible value, Type targetType, IFormatProvider provider)
   at Deserialize5abb29fb-ea21-4546-ab68-69d0f2e8c980(DbDataReader)
   --- End of inner exception stack trace ---
   at Dapper.SqlMapper.ThrowDataException(Exception ex, Int32 index, IDataReader reader, Object value) in /_/Dapper/SqlMapper.cs:line 3966
   at Deserialize5abb29fb-ea21-4546-ab68-69d0f2e8c980(DbDataReader)
   at Dapper.SqlMapper.QueryAsync[T](IDbConnection cnn, Type effectiveType, CommandDefinition command)
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.BaseRepository.ExecuteQueryAsync[TModel](String sql, Object param, CancellationToken token)
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.BaseRepository.ExecuteQueryAsync[TModel](String sql, Object param, CancellationToken token)
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.CardiogramsRepository.GetCardiograms(String serialNumber, CancellationToken cancellationToken)
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.GetCardiograms(String serialNumber, CancellationToken cancellationToken)
   at KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms(String serialNumber)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-03-12 19:01:35.154 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - 500 0 null 1272.5825ms
2025-03-12 19:02:48.436 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=52138488-6348-4919-ba37-13497478b7ac" - null null
2025-03-12 19:02:48.439 +05:00 [Information] CORS policy execution successful.
2025-03-12 19:02:48.441 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=52138488-6348-4919-ba37-13497478b7ac" - 204 null null 4.5321ms
2025-03-12 19:02:48.446 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=52138488-6348-4919-ba37-13497478b7ac" - "application/json" null
2025-03-12 19:02:48.449 +05:00 [Information] CORS policy execution successful.
2025-03-12 19:02:48.449 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)"'
2025-03-12 19:02:48.456 +05:00 [Information] Route matched with "{action = \"GetCardiographs\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiographs(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 19:02:48.498 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 19:02:48.503 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 19:02:48.504 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 19:02:48.520 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 12.417ms.
2025-03-12 19:02:48.526 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Cardiograph[]"'.
2025-03-12 19:02:48.556 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)" in 98.0717ms
2025-03-12 19:02:48.557 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)"'
2025-03-12 19:02:48.559 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=52138488-6348-4919-ba37-13497478b7ac" - 200 null "application/json; charset=utf-8" 112.8498ms
2025-03-12 19:02:51.021 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988559379573" - null null
2025-03-12 19:02:51.023 +05:00 [Information] CORS policy execution successful.
2025-03-12 19:02:51.023 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988559379573" - 204 null null 2.8278ms
2025-03-12 19:02:51.027 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988559379573" - "application/json" null
2025-03-12 19:02:51.029 +05:00 [Information] CORS policy execution successful.
2025-03-12 19:02:51.030 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)"'
2025-03-12 19:02:51.030 +05:00 [Information] Route matched with "{action = \"GetCardiograms\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiograms(System.String)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 19:02:51.079 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 19:02:51.081 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 19:02:57.490 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 19:05:08.118 +05:00 [Information] Migrations
2025-03-12 19:05:08.176 +05:00 [Information] 2025010501: CreateOrganizationTable
2025-03-12 19:05:08.178 +05:00 [Information] 2025010502: CreateUsersTable
2025-03-12 19:05:08.179 +05:00 [Information] 2025010503: CreateResultsCardiogramsTable
2025-03-12 19:05:08.180 +05:00 [Information] 2025010504: CreateCardiogramsStateTable
2025-03-12 19:05:08.181 +05:00 [Information] 2025010505: CreateCardiographsTable
2025-03-12 19:05:08.181 +05:00 [Information] 2025010506: CreateSexPatientsTable
2025-03-12 19:05:08.182 +05:00 [Information] 2025010507: CreatePrioritiesTable
2025-03-12 19:05:08.182 +05:00 [Information] 2025010508: CreateUsersCardiographsTable
2025-03-12 19:05:08.183 +05:00 [Information] 2025010509: CreateCallsTable
2025-03-12 19:05:08.183 +05:00 [Warning] 2025010510: CreateCardiogramsTable (current)
2025-03-12 19:05:08.422 +05:00 [Warning] Overriding address(es) '"http://localhost:2324/swagger"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-03-12 19:05:08.443 +05:00 [Information] Now listening on: "http://0.0.0.0:2324"
2025-03-12 19:05:08.444 +05:00 [Information] Application started. Press Ctrl+C to shut down.
2025-03-12 19:05:08.446 +05:00 [Information] Hosting environment: "Development"
2025-03-12 19:05:08.447 +05:00 [Information] Content root path: "C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.WebHost"
2025-03-12 19:05:09.332 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.html""" - null null
2025-03-12 19:05:09.561 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 246.8171ms
2025-03-12 19:05:09.657 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/swagger-ui.css""" - null null
2025-03-12 19:05:09.658 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.css""" - null null
2025-03-12 19:05:09.659 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/swagger-ui-bundle.js""" - null null
2025-03-12 19:05:09.677 +05:00 [Information] The file "/swagger-ui.css" was not modified
2025-03-12 19:05:09.678 +05:00 [Information] The file "/index.css" was not modified
2025-03-12 19:05:09.678 +05:00 [Information] The file "/swagger-ui-bundle.js" was not modified
2025-03-12 19:05:09.680 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.css""" - 304 null "text/css" 22.1085ms
2025-03-12 19:05:09.680 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/swagger-ui.css""" - 304 null "text/css" 23.7751ms
2025-03-12 19:05:09.681 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/swagger-ui-bundle.js""" - 304 null "text/javascript" 21.5382ms
2025-03-12 19:05:09.685 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.js""" - null null
2025-03-12 19:05:09.688 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/swagger-ui-standalone-preset.js""" - null null
2025-03-12 19:05:09.694 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.js""" - 200 null "application/javascript;charset=utf-8" 9.4718ms
2025-03-12 19:05:09.696 +05:00 [Information] The file "/swagger-ui-standalone-preset.js" was not modified
2025-03-12 19:05:09.708 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/swagger-ui-standalone-preset.js""" - 304 null "text/javascript" 20.0711ms
2025-03-12 19:05:10.021 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/v1/swagger.json""" - null null
2025-03-12 19:05:10.393 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 371.4518ms
2025-03-12 19:05:15.403 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - null null
2025-03-12 19:05:15.415 +05:00 [Information] CORS policy execution successful.
2025-03-12 19:05:15.420 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - 204 null null 16.7531ms
2025-03-12 19:05:15.426 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - "application/json" null
2025-03-12 19:05:15.429 +05:00 [Information] CORS policy execution successful.
2025-03-12 19:05:15.442 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)"'
2025-03-12 19:05:15.471 +05:00 [Information] Route matched with "{action = \"GetOrganizations\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrganizations()" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 19:05:16.348 +05:00 [Information] Executed DbCommand ("11"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 19:05:16.360 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 19:05:16.363 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 19:05:16.475 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 109.9828ms.
2025-03-12 19:05:16.487 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Organization[]"'.
2025-03-12 19:05:16.536 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)" in 1056.5485ms
2025-03-12 19:05:16.538 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)"'
2025-03-12 19:05:16.559 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - 200 null "application/json; charset=utf-8" 1133.1711ms
2025-03-12 19:05:17.208 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - null null
2025-03-12 19:05:17.212 +05:00 [Information] CORS policy execution successful.
2025-03-12 19:05:17.214 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - 204 null null 5.6843ms
2025-03-12 19:05:17.220 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - "application/json" null
2025-03-12 19:05:17.223 +05:00 [Information] CORS policy execution successful.
2025-03-12 19:05:17.224 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)"'
2025-03-12 19:05:17.250 +05:00 [Information] Route matched with "{action = \"GetUsers\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 19:05:17.284 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 19:05:17.303 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 19:05:17.305 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 19:05:17.353 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 48.3515ms.
2025-03-12 19:05:17.356 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.User[]"'.
2025-03-12 19:05:17.367 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)" in 114.8867ms
2025-03-12 19:05:17.368 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)"'
2025-03-12 19:05:17.370 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - 200 null "application/json; charset=utf-8" 149.8527ms
2025-03-12 19:05:17.659 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - null null
2025-03-12 19:05:17.661 +05:00 [Information] CORS policy execution successful.
2025-03-12 19:05:17.662 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - 204 null null 3.2354ms
2025-03-12 19:05:17.667 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - "application/json" null
2025-03-12 19:05:17.670 +05:00 [Information] CORS policy execution successful.
2025-03-12 19:05:17.671 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)"'
2025-03-12 19:05:17.689 +05:00 [Information] Route matched with "{action = \"GetCardiographs\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiographs(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 19:05:17.769 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 19:05:17.773 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 19:05:17.774 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 19:05:17.785 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 11.7148ms.
2025-03-12 19:05:17.787 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Cardiograph[]"'.
2025-03-12 19:05:17.792 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)" in 82.2314ms
2025-03-12 19:05:17.793 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)"'
2025-03-12 19:05:17.796 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - 200 null "application/json; charset=utf-8" 129.7697ms
2025-03-12 19:05:18.176 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - null null
2025-03-12 19:05:18.178 +05:00 [Information] CORS policy execution successful.
2025-03-12 19:05:18.179 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - 204 null null 3.35ms
2025-03-12 19:05:18.183 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - "application/json" null
2025-03-12 19:05:18.185 +05:00 [Information] CORS policy execution successful.
2025-03-12 19:05:18.186 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)"'
2025-03-12 19:05:18.189 +05:00 [Information] Route matched with "{action = \"GetCardiograms\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiograms(System.String)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 19:05:18.205 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 19:05:18.217 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 19:05:23.818 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 19:06:21.062 +05:00 [Information] Migrations
2025-03-12 19:06:21.106 +05:00 [Information] 2025010501: CreateOrganizationTable
2025-03-12 19:06:21.108 +05:00 [Information] 2025010502: CreateUsersTable
2025-03-12 19:06:21.110 +05:00 [Information] 2025010503: CreateResultsCardiogramsTable
2025-03-12 19:06:21.111 +05:00 [Information] 2025010504: CreateCardiogramsStateTable
2025-03-12 19:06:21.111 +05:00 [Information] 2025010505: CreateCardiographsTable
2025-03-12 19:06:21.112 +05:00 [Information] 2025010506: CreateSexPatientsTable
2025-03-12 19:06:21.113 +05:00 [Information] 2025010507: CreatePrioritiesTable
2025-03-12 19:06:21.113 +05:00 [Information] 2025010508: CreateUsersCardiographsTable
2025-03-12 19:06:21.114 +05:00 [Information] 2025010509: CreateCallsTable
2025-03-12 19:06:21.115 +05:00 [Warning] 2025010510: CreateCardiogramsTable (current)
2025-03-12 19:06:21.335 +05:00 [Warning] Overriding address(es) '"http://localhost:2324/swagger"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-03-12 19:06:21.359 +05:00 [Information] Now listening on: "http://0.0.0.0:2324"
2025-03-12 19:06:21.361 +05:00 [Information] Application started. Press Ctrl+C to shut down.
2025-03-12 19:06:21.362 +05:00 [Information] Hosting environment: "Development"
2025-03-12 19:06:21.362 +05:00 [Information] Content root path: "C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.WebHost"
2025-03-12 19:06:22.322 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.html""" - null null
2025-03-12 19:06:22.586 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 283.7981ms
2025-03-12 19:06:22.690 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.js""" - null null
2025-03-12 19:06:22.703 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.js""" - 200 null "application/javascript;charset=utf-8" 13.1739ms
2025-03-12 19:06:23.032 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/v1/swagger.json""" - null null
2025-03-12 19:06:23.260 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 228.8689ms
2025-03-12 19:06:36.082 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=c4f243f2-a246-4519-a732-6fd80cc1da61" - null null
2025-03-12 19:06:36.093 +05:00 [Information] CORS policy execution successful.
2025-03-12 19:06:36.097 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=c4f243f2-a246-4519-a732-6fd80cc1da61" - 204 null null 14.5321ms
2025-03-12 19:06:36.100 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=c4f243f2-a246-4519-a732-6fd80cc1da61" - "application/json" null
2025-03-12 19:06:36.104 +05:00 [Information] CORS policy execution successful.
2025-03-12 19:06:36.108 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)"'
2025-03-12 19:06:36.138 +05:00 [Information] Route matched with "{action = \"GetCardiographs\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiographs(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 19:06:37.016 +05:00 [Information] Executed DbCommand ("14"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 19:06:37.051 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 19:06:37.054 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 19:06:37.199 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 144.1522ms.
2025-03-12 19:06:37.211 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Cardiograph[]"'.
2025-03-12 19:06:37.247 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)" in 1103.571ms
2025-03-12 19:06:37.249 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)"'
2025-03-12 19:06:37.273 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=c4f243f2-a246-4519-a732-6fd80cc1da61" - 200 null "application/json; charset=utf-8" 1173.1926ms
2025-03-12 19:06:38.797 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988559379573" - null null
2025-03-12 19:06:38.800 +05:00 [Information] CORS policy execution successful.
2025-03-12 19:06:38.801 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988559379573" - 204 null null 3.8546ms
2025-03-12 19:06:38.806 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988559379573" - "application/json" null
2025-03-12 19:06:38.807 +05:00 [Information] CORS policy execution successful.
2025-03-12 19:06:38.808 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)"'
2025-03-12 19:06:38.814 +05:00 [Information] Route matched with "{action = \"GetCardiograms\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiograms(System.String)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 19:06:38.865 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 19:06:38.877 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 19:06:42.393 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 19:06:51.173 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 12293.4746ms.
2025-03-12 19:06:51.177 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Cardiogram[]"'.
2025-03-12 19:06:51.198 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)" in 12381.7106ms
2025-03-12 19:06:51.199 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)"'
2025-03-12 19:06:51.201 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988559379573" - 200 null "application/json; charset=utf-8" 12395.4817ms
2025-03-12 19:06:52.496 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=644e01c9-b790-41be-9078-f77f7ff41bad" - null null
2025-03-12 19:06:52.507 +05:00 [Information] CORS policy execution successful.
2025-03-12 19:06:52.508 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=644e01c9-b790-41be-9078-f77f7ff41bad" - 204 null null 11.5879ms
2025-03-12 19:06:52.515 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=644e01c9-b790-41be-9078-f77f7ff41bad" - "application/json" null
2025-03-12 19:06:52.519 +05:00 [Information] CORS policy execution successful.
2025-03-12 19:06:52.519 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)"'
2025-03-12 19:06:52.525 +05:00 [Information] Route matched with "{action = \"GetCardiogram\", controller = \"Cardiogram\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiogram(System.Guid)" on controller "KpoApi.Presentation.Controllers.CardiogramController" ("KpoApi.Presentation").
2025-03-12 19:06:52.572 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 19:06:52.575 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 19:06:52.577 +05:00 [Information] Поступил запрос на получение всей информации по кардиограмме
2025-03-12 19:06:52.604 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 27.9868ms.
2025-03-12 19:06:52.605 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Application.Models.Data.EntireCardiogramModel"'.
2025-03-12 19:06:52.629 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)" in 102.7812ms
2025-03-12 19:06:52.630 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)"'
2025-03-12 19:06:52.632 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=644e01c9-b790-41be-9078-f77f7ff41bad" - 200 null "application/json; charset=utf-8" 116.7685ms
2025-03-12 19:06:52.667 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=644e01c9-b790-41be-9078-f77f7ff41bad" - null null
2025-03-12 19:06:52.673 +05:00 [Information] CORS policy execution successful.
2025-03-12 19:06:52.675 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=644e01c9-b790-41be-9078-f77f7ff41bad" - 204 null null 8.165ms
2025-03-12 19:06:52.682 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=644e01c9-b790-41be-9078-f77f7ff41bad" - "application/json" null
2025-03-12 19:06:52.686 +05:00 [Information] CORS policy execution successful.
2025-03-12 19:06:52.687 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)"'
2025-03-12 19:06:52.694 +05:00 [Information] Route matched with "{action = \"GetUsersByCardiograms\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByCardiograms(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 19:06:52.757 +05:00 [Information] Executed DbCommand ("32"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 19:06:52.761 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 19:06:52.764 +05:00 [Information] Поступил запрос на получение пользователей по кардиограмме
2025-03-12 19:06:52.781 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 18.0353ms.
2025-03-12 19:06:52.784 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.User[]"'.
2025-03-12 19:06:52.801 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - null null
2025-03-12 19:06:52.805 +05:00 [Information] CORS policy execution successful.
2025-03-12 19:06:52.807 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - 204 null null 6.532ms
2025-03-12 19:06:52.813 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - "application/json" 267
2025-03-12 19:06:52.813 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)" in 117.6156ms
2025-03-12 19:06:52.816 +05:00 [Information] CORS policy execution successful.
2025-03-12 19:06:52.816 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)"'
2025-03-12 19:06:52.817 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram (KpoApi.Presentation)"'
2025-03-12 19:06:52.818 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=644e01c9-b790-41be-9078-f77f7ff41bad" - 200 null "application/json; charset=utf-8" 136.2658ms
2025-03-12 19:06:52.826 +05:00 [Information] Route matched with "{action = \"SaveCardiogram\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCardiogram(KpoApi.Domain.Entities.Cardiogram)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 19:06:52.844 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 19:06:52.895 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 19:06:52.898 +05:00 [Information] Поступил запрос сохранение кардиограммы
2025-03-12 19:06:53.215 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram (KpoApi.Presentation)" in 387.1588ms
2025-03-12 19:06:53.216 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram (KpoApi.Presentation)"'
2025-03-12 19:06:53.219 +05:00 [Error] Connection id ""0HNB1DS8MKKVF"", Request id ""0HNB1DS8MKKVF:00000002"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42804: column "UserUuid" is of type uuid but expression is of type text

POSITION: 30
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCardiogram(Cardiogram newCardiogram, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 60
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCardiogram(Cardiogram newCardiogram, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 113
   at KpoApi.Application.Services.CardiogramService.SaveCardiogram(Cardiogram newCardiogram) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 101
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram(Cardiogram newCardiogram) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 48
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42804
    MessageText: column "UserUuid" is of type uuid but expression is of type text
    Hint: You will need to rewrite or cast the expression.
    Position: 30
    File: parse_target.c
    Line: 585
    Routine: transformAssignedExpr
2025-03-12 19:06:53.265 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - 500 0 null 452.4578ms
2025-03-12 19:07:05.356 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - null null
2025-03-12 19:07:05.358 +05:00 [Information] CORS policy execution successful.
2025-03-12 19:07:05.359 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - 204 null null 3.5311ms
2025-03-12 19:07:05.363 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - "application/json" 272
2025-03-12 19:07:05.365 +05:00 [Information] CORS policy execution successful.
2025-03-12 19:07:05.365 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram (KpoApi.Presentation)"'
2025-03-12 19:07:05.366 +05:00 [Information] Route matched with "{action = \"SaveCardiogram\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCardiogram(KpoApi.Domain.Entities.Cardiogram)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 19:07:05.381 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 19:07:05.385 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 19:07:05.386 +05:00 [Information] Поступил запрос сохранение кардиограммы
2025-03-12 19:07:05.670 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram (KpoApi.Presentation)" in 302.2383ms
2025-03-12 19:07:05.671 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram (KpoApi.Presentation)"'
2025-03-12 19:07:05.673 +05:00 [Error] Connection id ""0HNB1DS8MKKVF"", Request id ""0HNB1DS8MKKVF:00000004"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42804: column "UserUuid" is of type uuid but expression is of type text

POSITION: 30
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCardiogram(Cardiogram newCardiogram, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 60
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCardiogram(Cardiogram newCardiogram, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 113
   at KpoApi.Application.Services.CardiogramService.SaveCardiogram(Cardiogram newCardiogram) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 101
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram(Cardiogram newCardiogram) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 48
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42804
    MessageText: column "UserUuid" is of type uuid but expression is of type text
    Hint: You will need to rewrite or cast the expression.
    Position: 30
    File: parse_target.c
    Line: 585
    Routine: transformAssignedExpr
2025-03-12 19:07:05.685 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - 500 0 null 322.1922ms
2025-03-12 19:07:30.715 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - null null
2025-03-12 19:07:30.728 +05:00 [Information] CORS policy execution successful.
2025-03-12 19:07:30.729 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - 204 null null 14.2868ms
2025-03-12 19:07:30.733 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - "application/json" 272
2025-03-12 19:07:30.735 +05:00 [Information] CORS policy execution successful.
2025-03-12 19:07:30.736 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram (KpoApi.Presentation)"'
2025-03-12 19:07:30.737 +05:00 [Information] Route matched with "{action = \"SaveCardiogram\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCardiogram(KpoApi.Domain.Entities.Cardiogram)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 19:07:30.764 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 19:07:30.768 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 19:07:33.473 +05:00 [Information] Поступил запрос сохранение кардиограммы
2025-03-12 19:07:42.405 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram (KpoApi.Presentation)" in 11666.3797ms
2025-03-12 19:07:42.407 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram (KpoApi.Presentation)"'
2025-03-12 19:07:42.408 +05:00 [Error] Connection id ""0HNB1DS8MKKVF"", Request id ""0HNB1DS8MKKVF:00000006"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42804: column "UserUuid" is of type uuid but expression is of type text

POSITION: 30
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCardiogram(Cardiogram newCardiogram, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 60
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCardiogram(Cardiogram newCardiogram, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 113
   at KpoApi.Application.Services.CardiogramService.SaveCardiogram(Cardiogram newCardiogram) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 101
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram(Cardiogram newCardiogram) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 48
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42804
    MessageText: column "UserUuid" is of type uuid but expression is of type text
    Hint: You will need to rewrite or cast the expression.
    Position: 30
    File: parse_target.c
    Line: 585
    Routine: transformAssignedExpr
2025-03-12 19:07:42.422 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - 500 0 null 11688.9643ms
2025-03-12 19:08:07.337 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - null null
2025-03-12 19:08:07.343 +05:00 [Information] CORS policy execution successful.
2025-03-12 19:08:07.345 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - 204 null null 7.5878ms
2025-03-12 19:08:07.353 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - "application/json" 272
2025-03-12 19:08:07.357 +05:00 [Information] CORS policy execution successful.
2025-03-12 19:08:07.358 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram (KpoApi.Presentation)"'
2025-03-12 19:08:07.359 +05:00 [Information] Route matched with "{action = \"SaveCardiogram\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCardiogram(KpoApi.Domain.Entities.Cardiogram)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 19:08:07.375 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 19:08:07.377 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 19:08:10.116 +05:00 [Information] Поступил запрос сохранение кардиограммы
2025-03-12 19:08:14.830 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram (KpoApi.Presentation)" in 7469.435ms
2025-03-12 19:08:14.831 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram (KpoApi.Presentation)"'
2025-03-12 19:08:14.833 +05:00 [Error] Connection id ""0HNB1DS8MKKVF"", Request id ""0HNB1DS8MKKVF:00000008"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42804: column "UserUuid" is of type uuid but expression is of type text

POSITION: 30
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCardiogram(Cardiogram newCardiogram, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 60
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCardiogram(Cardiogram newCardiogram, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 113
   at KpoApi.Application.Services.CardiogramService.SaveCardiogram(Cardiogram newCardiogram) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 101
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram(Cardiogram newCardiogram) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 48
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42804
    MessageText: column "UserUuid" is of type uuid but expression is of type text
    Hint: You will need to rewrite or cast the expression.
    Position: 30
    File: parse_target.c
    Line: 585
    Routine: transformAssignedExpr
2025-03-12 19:08:14.847 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - 500 0 null 7494.3066ms
2025-03-12 19:08:21.344 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - null null
2025-03-12 19:08:21.346 +05:00 [Information] CORS policy execution successful.
2025-03-12 19:08:21.347 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - 204 null null 3.3255ms
2025-03-12 19:08:21.350 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - "application/json" 272
2025-03-12 19:08:21.352 +05:00 [Information] CORS policy execution successful.
2025-03-12 19:08:21.353 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram (KpoApi.Presentation)"'
2025-03-12 19:08:21.353 +05:00 [Information] Route matched with "{action = \"SaveCardiogram\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCardiogram(KpoApi.Domain.Entities.Cardiogram)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 19:08:21.372 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 19:08:21.375 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 19:08:24.771 +05:00 [Information] Поступил запрос сохранение кардиограммы
2025-03-12 19:09:17.667 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram (KpoApi.Presentation)" in 56311.0408ms
2025-03-12 19:09:17.668 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram (KpoApi.Presentation)"'
2025-03-12 19:09:17.670 +05:00 [Error] Connection id ""0HNB1DS8MKKVF"", Request id ""0HNB1DS8MKKVF:0000000A"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42804: column "CardiogramUuid" is of type uuid but expression is of type text

POSITION: 36
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token)
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token)
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCardiogram(Cardiogram newCardiogram, CancellationToken cancellationToken)
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCardiogram(Cardiogram newCardiogram, CancellationToken cancellationToken)
   at KpoApi.Application.Services.CardiogramService.SaveCardiogram(Cardiogram newCardiogram) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 101
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram(Cardiogram newCardiogram) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 48
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42804
    MessageText: column "CardiogramUuid" is of type uuid but expression is of type text
    Hint: You will need to rewrite or cast the expression.
    Position: 36
    File: parse_target.c
    Line: 585
    Routine: transformAssignedExpr
2025-03-12 19:09:17.686 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - 500 0 null 56336.0258ms
2025-03-12 19:09:42.877 +05:00 [Information] Migrations
2025-03-12 19:09:42.935 +05:00 [Information] 2025010501: CreateOrganizationTable
2025-03-12 19:09:42.937 +05:00 [Information] 2025010502: CreateUsersTable
2025-03-12 19:09:42.938 +05:00 [Information] 2025010503: CreateResultsCardiogramsTable
2025-03-12 19:09:42.938 +05:00 [Information] 2025010504: CreateCardiogramsStateTable
2025-03-12 19:09:42.939 +05:00 [Information] 2025010505: CreateCardiographsTable
2025-03-12 19:09:42.939 +05:00 [Information] 2025010506: CreateSexPatientsTable
2025-03-12 19:09:42.940 +05:00 [Information] 2025010507: CreatePrioritiesTable
2025-03-12 19:09:42.940 +05:00 [Information] 2025010508: CreateUsersCardiographsTable
2025-03-12 19:09:42.940 +05:00 [Information] 2025010509: CreateCallsTable
2025-03-12 19:09:42.941 +05:00 [Warning] 2025010510: CreateCardiogramsTable (current)
2025-03-12 19:09:43.248 +05:00 [Warning] Overriding address(es) '"http://localhost:2324/swagger"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-03-12 19:09:43.278 +05:00 [Information] Now listening on: "http://0.0.0.0:2324"
2025-03-12 19:09:43.279 +05:00 [Information] Application started. Press Ctrl+C to shut down.
2025-03-12 19:09:43.281 +05:00 [Information] Hosting environment: "Development"
2025-03-12 19:09:43.281 +05:00 [Information] Content root path: "C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.WebHost"
2025-03-12 19:09:43.531 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.html""" - null null
2025-03-12 19:09:43.726 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 205.5628ms
2025-03-12 19:09:43.836 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.js""" - null null
2025-03-12 19:09:43.855 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.js""" - 200 null "application/javascript;charset=utf-8" 19.1814ms
2025-03-12 19:09:44.172 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/v1/swagger.json""" - null null
2025-03-12 19:09:44.476 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 304.6266ms
2025-03-12 19:09:47.283 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=644e01c9-b790-41be-9078-f77f7ff41bad" - null null
2025-03-12 19:09:47.291 +05:00 [Information] CORS policy execution successful.
2025-03-12 19:09:47.293 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=644e01c9-b790-41be-9078-f77f7ff41bad" - 204 null null 10.8405ms
2025-03-12 19:09:47.298 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=644e01c9-b790-41be-9078-f77f7ff41bad" - "application/json" null
2025-03-12 19:09:47.306 +05:00 [Information] CORS policy execution successful.
2025-03-12 19:09:47.311 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)"'
2025-03-12 19:09:47.336 +05:00 [Information] Route matched with "{action = \"GetCardiogram\", controller = \"Cardiogram\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiogram(System.Guid)" on controller "KpoApi.Presentation.Controllers.CardiogramController" ("KpoApi.Presentation").
2025-03-12 19:09:48.018 +05:00 [Information] Executed DbCommand ("11"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 19:09:48.040 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 19:09:48.042 +05:00 [Information] Поступил запрос на получение всей информации по кардиограмме
2025-03-12 19:09:48.159 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 115.934ms.
2025-03-12 19:09:48.172 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Application.Models.Data.EntireCardiogramModel"'.
2025-03-12 19:09:48.237 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)" in 893.3145ms
2025-03-12 19:09:48.240 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)"'
2025-03-12 19:09:48.265 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=644e01c9-b790-41be-9078-f77f7ff41bad" - 200 null "application/json; charset=utf-8" 967.8448ms
2025-03-12 19:09:59.849 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - null null
2025-03-12 19:09:59.855 +05:00 [Information] CORS policy execution successful.
2025-03-12 19:09:59.856 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - 204 null null 7.2479ms
2025-03-12 19:09:59.860 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - "application/json" 272
2025-03-12 19:09:59.864 +05:00 [Information] CORS policy execution successful.
2025-03-12 19:09:59.865 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram (KpoApi.Presentation)"'
2025-03-12 19:09:59.874 +05:00 [Information] Route matched with "{action = \"SaveCardiogram\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCardiogram(KpoApi.Domain.Entities.Cardiogram)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 19:09:59.907 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 19:09:59.944 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 19:10:02.864 +05:00 [Information] Поступил запрос сохранение кардиограммы
2025-03-12 19:10:03.209 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram (KpoApi.Presentation)" in 3333.5838ms
2025-03-12 19:10:03.210 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram (KpoApi.Presentation)"'
2025-03-12 19:10:03.213 +05:00 [Error] Connection id ""0HNB1DU4Q3L54"", Request id ""0HNB1DU4Q3L54:00000004"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42804: column "CardiogramUuid" is of type uuid but expression is of type text

POSITION: 36
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCardiogram(Cardiogram newCardiogram, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 60
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCardiogram(Cardiogram newCardiogram, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 113
   at KpoApi.Application.Services.CardiogramService.SaveCardiogram(Cardiogram newCardiogram) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 101
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram(Cardiogram newCardiogram) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 48
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42804
    MessageText: column "CardiogramUuid" is of type uuid but expression is of type text
    Hint: You will need to rewrite or cast the expression.
    Position: 36
    File: parse_target.c
    Line: 585
    Routine: transformAssignedExpr
2025-03-12 19:10:03.265 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - 500 0 null 3405.4113ms
2025-03-12 19:10:29.812 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - null null
2025-03-12 19:10:29.814 +05:00 [Information] CORS policy execution successful.
2025-03-12 19:10:29.815 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - 204 null null 3.3324ms
2025-03-12 19:10:29.818 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - "application/json" 272
2025-03-12 19:10:29.820 +05:00 [Information] CORS policy execution successful.
2025-03-12 19:10:29.821 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram (KpoApi.Presentation)"'
2025-03-12 19:10:29.822 +05:00 [Information] Route matched with "{action = \"SaveCardiogram\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCardiogram(KpoApi.Domain.Entities.Cardiogram)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 19:10:29.860 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 19:10:29.863 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 19:10:29.864 +05:00 [Information] Поступил запрос сохранение кардиограммы
2025-03-12 19:11:19.758 +05:00 [Information] Migrations
2025-03-12 19:11:19.844 +05:00 [Information] 2025010501: CreateOrganizationTable
2025-03-12 19:11:19.846 +05:00 [Information] 2025010502: CreateUsersTable
2025-03-12 19:11:19.847 +05:00 [Information] 2025010503: CreateResultsCardiogramsTable
2025-03-12 19:11:19.848 +05:00 [Information] 2025010504: CreateCardiogramsStateTable
2025-03-12 19:11:19.849 +05:00 [Information] 2025010505: CreateCardiographsTable
2025-03-12 19:11:19.850 +05:00 [Information] 2025010506: CreateSexPatientsTable
2025-03-12 19:11:19.850 +05:00 [Information] 2025010507: CreatePrioritiesTable
2025-03-12 19:11:19.851 +05:00 [Information] 2025010508: CreateUsersCardiographsTable
2025-03-12 19:11:19.852 +05:00 [Information] 2025010509: CreateCallsTable
2025-03-12 19:11:19.853 +05:00 [Warning] 2025010510: CreateCardiogramsTable (current)
2025-03-12 19:11:20.170 +05:00 [Warning] Overriding address(es) '"http://localhost:2324/swagger"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-03-12 19:11:20.217 +05:00 [Information] Now listening on: "http://0.0.0.0:2324"
2025-03-12 19:11:20.218 +05:00 [Information] Application started. Press Ctrl+C to shut down.
2025-03-12 19:11:20.219 +05:00 [Information] Hosting environment: "Development"
2025-03-12 19:11:20.221 +05:00 [Information] Content root path: "C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.WebHost"
2025-03-12 19:11:21.308 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.html""" - null null
2025-03-12 19:11:21.612 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 325.0805ms
2025-03-12 19:11:21.717 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.js""" - null null
2025-03-12 19:11:21.727 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.js""" - 200 null "application/javascript;charset=utf-8" 9.2593ms
2025-03-12 19:11:22.110 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/v1/swagger.json""" - null null
2025-03-12 19:11:22.401 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 291.8099ms
2025-03-12 19:11:27.594 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - null null
2025-03-12 19:11:27.602 +05:00 [Information] CORS policy execution successful.
2025-03-12 19:11:27.604 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - 204 null null 10.7651ms
2025-03-12 19:11:27.608 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - "application/json" 272
2025-03-12 19:11:27.612 +05:00 [Information] CORS policy execution successful.
2025-03-12 19:11:27.617 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram (KpoApi.Presentation)"'
2025-03-12 19:11:27.646 +05:00 [Information] Route matched with "{action = \"SaveCardiogram\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCardiogram(KpoApi.Domain.Entities.Cardiogram)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 19:11:28.390 +05:00 [Information] Executed DbCommand ("11"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 19:11:28.467 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 19:11:28.470 +05:00 [Information] Поступил запрос сохранение кардиограммы
2025-03-12 19:12:32.645 +05:00 [Information] Migrations
2025-03-12 19:12:32.906 +05:00 [Information] 2025010501: CreateOrganizationTable
2025-03-12 19:12:33.296 +05:00 [Information] 2025010502: CreateUsersTable
2025-03-12 19:12:33.299 +05:00 [Information] 2025010503: CreateResultsCardiogramsTable
2025-03-12 19:12:33.302 +05:00 [Information] 2025010504: CreateCardiogramsStateTable
2025-03-12 19:12:33.307 +05:00 [Information] 2025010505: CreateCardiographsTable
2025-03-12 19:12:33.308 +05:00 [Information] 2025010506: CreateSexPatientsTable
2025-03-12 19:12:33.310 +05:00 [Information] 2025010507: CreatePrioritiesTable
2025-03-12 19:12:33.311 +05:00 [Information] 2025010508: CreateUsersCardiographsTable
2025-03-12 19:12:33.312 +05:00 [Information] 2025010509: CreateCallsTable
2025-03-12 19:12:33.376 +05:00 [Warning] 2025010510: CreateCardiogramsTable (current)
2025-03-12 19:12:34.220 +05:00 [Warning] Overriding address(es) '"http://localhost:2324/swagger"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-03-12 19:12:34.261 +05:00 [Information] Now listening on: "http://0.0.0.0:2324"
2025-03-12 19:12:34.262 +05:00 [Information] Application started. Press Ctrl+C to shut down.
2025-03-12 19:12:34.263 +05:00 [Information] Hosting environment: "Development"
2025-03-12 19:12:34.263 +05:00 [Information] Content root path: "C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.WebHost"
2025-03-12 19:12:34.533 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.html""" - null null
2025-03-12 19:12:34.856 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 337.06ms
2025-03-12 19:12:34.996 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.js""" - null null
2025-03-12 19:12:35.019 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.js""" - 200 null "application/javascript;charset=utf-8" 22.8068ms
2025-03-12 19:12:35.503 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/v1/swagger.json""" - null null
2025-03-12 19:12:35.983 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 481.0914ms
2025-03-12 19:12:44.139 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - null null
2025-03-12 19:12:44.150 +05:00 [Information] CORS policy execution successful.
2025-03-12 19:12:44.154 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - 204 null null 14.9013ms
2025-03-12 19:12:44.165 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - "application/json" 272
2025-03-12 19:12:44.168 +05:00 [Information] CORS policy execution successful.
2025-03-12 19:12:44.173 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram (KpoApi.Presentation)"'
2025-03-12 19:12:44.200 +05:00 [Information] Route matched with "{action = \"SaveCardiogram\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCardiogram(KpoApi.Domain.Entities.Cardiogram)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 19:12:45.041 +05:00 [Information] Executed DbCommand ("15"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 19:12:45.141 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 19:12:45.143 +05:00 [Information] Поступил запрос сохранение кардиограммы
2025-03-12 19:14:22.841 +05:00 [Information] Migrations
2025-03-12 19:14:22.889 +05:00 [Information] 2025010501: CreateOrganizationTable
2025-03-12 19:14:22.890 +05:00 [Information] 2025010502: CreateUsersTable
2025-03-12 19:14:22.892 +05:00 [Information] 2025010503: CreateResultsCardiogramsTable
2025-03-12 19:14:22.892 +05:00 [Information] 2025010504: CreateCardiogramsStateTable
2025-03-12 19:14:22.893 +05:00 [Information] 2025010505: CreateCardiographsTable
2025-03-12 19:14:22.894 +05:00 [Information] 2025010506: CreateSexPatientsTable
2025-03-12 19:14:22.894 +05:00 [Information] 2025010507: CreatePrioritiesTable
2025-03-12 19:14:22.895 +05:00 [Information] 2025010508: CreateUsersCardiographsTable
2025-03-12 19:14:22.896 +05:00 [Information] 2025010509: CreateCallsTable
2025-03-12 19:14:22.897 +05:00 [Warning] 2025010510: CreateCardiogramsTable (current)
2025-03-12 19:14:23.157 +05:00 [Warning] Overriding address(es) '"http://localhost:2324/swagger"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-03-12 19:14:23.191 +05:00 [Information] Now listening on: "http://0.0.0.0:2324"
2025-03-12 19:14:23.192 +05:00 [Information] Application started. Press Ctrl+C to shut down.
2025-03-12 19:14:23.193 +05:00 [Information] Hosting environment: "Development"
2025-03-12 19:14:23.194 +05:00 [Information] Content root path: "C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.WebHost"
2025-03-12 19:14:24.165 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.html""" - null null
2025-03-12 19:14:24.388 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 239.5425ms
2025-03-12 19:14:24.495 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.js""" - null null
2025-03-12 19:14:24.510 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.js""" - 200 null "application/javascript;charset=utf-8" 16.1611ms
2025-03-12 19:14:24.810 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/v1/swagger.json""" - null null
2025-03-12 19:14:25.056 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 245.1654ms
2025-03-12 19:14:40.539 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - null null
2025-03-12 19:14:40.570 +05:00 [Information] CORS policy execution successful.
2025-03-12 19:14:40.574 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - 204 null null 34.8301ms
2025-03-12 19:14:40.581 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - "application/json" 272
2025-03-12 19:14:40.588 +05:00 [Information] CORS policy execution successful.
2025-03-12 19:14:40.595 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram (KpoApi.Presentation)"'
2025-03-12 19:14:40.639 +05:00 [Information] Route matched with "{action = \"SaveCardiogram\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCardiogram(KpoApi.Domain.Entities.Cardiogram)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 19:14:41.867 +05:00 [Information] Executed DbCommand ("14"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 19:14:41.968 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 19:14:41.971 +05:00 [Information] Поступил запрос сохранение кардиограммы
2025-03-12 19:15:19.883 +05:00 [Information] Migrations
2025-03-12 19:15:19.936 +05:00 [Information] 2025010501: CreateOrganizationTable
2025-03-12 19:15:19.938 +05:00 [Information] 2025010502: CreateUsersTable
2025-03-12 19:15:19.939 +05:00 [Information] 2025010503: CreateResultsCardiogramsTable
2025-03-12 19:15:19.939 +05:00 [Information] 2025010504: CreateCardiogramsStateTable
2025-03-12 19:15:19.939 +05:00 [Information] 2025010505: CreateCardiographsTable
2025-03-12 19:15:19.940 +05:00 [Information] 2025010506: CreateSexPatientsTable
2025-03-12 19:15:19.940 +05:00 [Information] 2025010507: CreatePrioritiesTable
2025-03-12 19:15:19.941 +05:00 [Information] 2025010508: CreateUsersCardiographsTable
2025-03-12 19:15:19.941 +05:00 [Information] 2025010509: CreateCallsTable
2025-03-12 19:15:19.942 +05:00 [Warning] 2025010510: CreateCardiogramsTable (current)
2025-03-12 19:15:20.172 +05:00 [Warning] Overriding address(es) '"http://localhost:2324/swagger"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-03-12 19:15:20.193 +05:00 [Information] Now listening on: "http://0.0.0.0:2324"
2025-03-12 19:15:20.195 +05:00 [Information] Application started. Press Ctrl+C to shut down.
2025-03-12 19:15:20.196 +05:00 [Information] Hosting environment: "Development"
2025-03-12 19:15:20.196 +05:00 [Information] Content root path: "C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.WebHost"
2025-03-12 19:15:21.000 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.html""" - null null
2025-03-12 19:15:21.230 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 245.4025ms
2025-03-12 19:15:21.330 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.js""" - null null
2025-03-12 19:15:21.347 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.js""" - 200 null "application/javascript;charset=utf-8" 17.2399ms
2025-03-12 19:15:21.651 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/v1/swagger.json""" - null null
2025-03-12 19:15:21.874 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 223.153ms
2025-03-12 19:17:02.134 +05:00 [Information] Migrations
2025-03-12 19:17:02.348 +05:00 [Information] 2025010501: CreateOrganizationTable
2025-03-12 19:17:02.353 +05:00 [Information] 2025010502: CreateUsersTable
2025-03-12 19:17:02.354 +05:00 [Information] 2025010503: CreateResultsCardiogramsTable
2025-03-12 19:17:02.355 +05:00 [Information] 2025010504: CreateCardiogramsStateTable
2025-03-12 19:17:02.356 +05:00 [Information] 2025010505: CreateCardiographsTable
2025-03-12 19:17:02.358 +05:00 [Information] 2025010506: CreateSexPatientsTable
2025-03-12 19:17:02.359 +05:00 [Information] 2025010507: CreatePrioritiesTable
2025-03-12 19:17:02.359 +05:00 [Information] 2025010508: CreateUsersCardiographsTable
2025-03-12 19:17:02.360 +05:00 [Information] 2025010509: CreateCallsTable
2025-03-12 19:17:02.365 +05:00 [Warning] 2025010510: CreateCardiogramsTable (current)
2025-03-12 19:17:02.878 +05:00 [Warning] Overriding address(es) '"http://localhost:2324/swagger"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-03-12 19:17:02.932 +05:00 [Information] Now listening on: "http://0.0.0.0:2324"
2025-03-12 19:17:02.933 +05:00 [Information] Application started. Press Ctrl+C to shut down.
2025-03-12 19:17:02.934 +05:00 [Information] Hosting environment: "Development"
2025-03-12 19:17:02.935 +05:00 [Information] Content root path: "C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.WebHost"
2025-03-12 19:17:03.126 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.html""" - null null
2025-03-12 19:17:03.460 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 338.4899ms
2025-03-12 19:17:03.744 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.js""" - null null
2025-03-12 19:17:03.800 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.js""" - 200 null "application/javascript;charset=utf-8" 56.3433ms
2025-03-12 19:17:04.547 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/v1/swagger.json""" - null null
2025-03-12 19:17:05.645 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 1098.2375ms
2025-03-12 19:17:15.636 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - null null
2025-03-12 19:17:15.645 +05:00 [Information] CORS policy execution successful.
2025-03-12 19:17:15.647 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - 204 null null 10.9633ms
2025-03-12 19:17:15.658 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - "application/json" 272
2025-03-12 19:17:15.663 +05:00 [Information] CORS policy execution successful.
2025-03-12 19:17:15.668 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram (KpoApi.Presentation)"'
2025-03-12 19:17:15.692 +05:00 [Information] Route matched with "{action = \"SaveCardiogram\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCardiogram(KpoApi.Domain.Entities.Cardiogram)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 19:17:16.394 +05:00 [Information] Executed DbCommand ("9"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 19:17:16.469 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 19:17:16.471 +05:00 [Information] Поступил запрос сохранение кардиограммы
2025-03-12 19:22:51.808 +05:00 [Information] Migrations
2025-03-12 19:22:51.852 +05:00 [Information] 2025010501: CreateOrganizationTable
2025-03-12 19:22:51.854 +05:00 [Information] 2025010502: CreateUsersTable
2025-03-12 19:22:51.856 +05:00 [Information] 2025010503: CreateResultsCardiogramsTable
2025-03-12 19:22:51.857 +05:00 [Information] 2025010504: CreateCardiogramsStateTable
2025-03-12 19:22:51.857 +05:00 [Information] 2025010505: CreateCardiographsTable
2025-03-12 19:22:51.858 +05:00 [Information] 2025010506: CreateSexPatientsTable
2025-03-12 19:22:51.858 +05:00 [Information] 2025010507: CreatePrioritiesTable
2025-03-12 19:22:51.859 +05:00 [Information] 2025010508: CreateUsersCardiographsTable
2025-03-12 19:22:51.860 +05:00 [Information] 2025010509: CreateCallsTable
2025-03-12 19:22:51.860 +05:00 [Warning] 2025010510: CreateCardiogramsTable (current)
2025-03-12 19:22:52.076 +05:00 [Warning] Overriding address(es) '"http://localhost:2324/swagger"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-03-12 19:22:52.098 +05:00 [Information] Now listening on: "http://0.0.0.0:2324"
2025-03-12 19:22:52.099 +05:00 [Information] Application started. Press Ctrl+C to shut down.
2025-03-12 19:22:52.101 +05:00 [Information] Hosting environment: "Development"
2025-03-12 19:22:52.101 +05:00 [Information] Content root path: "C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.WebHost"
2025-03-12 19:22:52.704 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.html""" - null null
2025-03-12 19:22:52.976 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 289.9667ms
2025-03-12 19:22:53.091 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.js""" - null null
2025-03-12 19:22:53.099 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.js""" - 200 null "application/javascript;charset=utf-8" 7.9705ms
2025-03-12 19:22:53.442 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/v1/swagger.json""" - null null
2025-03-12 19:22:53.690 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 248.3424ms
2025-03-12 19:23:07.357 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - null null
2025-03-12 19:23:07.365 +05:00 [Information] CORS policy execution successful.
2025-03-12 19:23:07.368 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - 204 null null 11.3384ms
2025-03-12 19:23:07.373 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - "application/json" 272
2025-03-12 19:23:07.377 +05:00 [Information] CORS policy execution successful.
2025-03-12 19:23:07.382 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram (KpoApi.Presentation)"'
2025-03-12 19:23:07.412 +05:00 [Information] Route matched with "{action = \"SaveCardiogram\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCardiogram(KpoApi.Domain.Entities.Cardiogram)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 19:23:08.330 +05:00 [Information] Executed DbCommand ("15"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 19:23:08.446 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 19:23:08.449 +05:00 [Information] Поступил запрос сохранение кардиограммы
2025-03-12 19:25:03.765 +05:00 [Information] Migrations
2025-03-12 19:25:03.823 +05:00 [Information] 2025010501: CreateOrganizationTable
2025-03-12 19:25:03.825 +05:00 [Information] 2025010502: CreateUsersTable
2025-03-12 19:25:03.827 +05:00 [Information] 2025010503: CreateResultsCardiogramsTable
2025-03-12 19:25:03.827 +05:00 [Information] 2025010504: CreateCardiogramsStateTable
2025-03-12 19:25:03.828 +05:00 [Information] 2025010505: CreateCardiographsTable
2025-03-12 19:25:03.829 +05:00 [Information] 2025010506: CreateSexPatientsTable
2025-03-12 19:25:03.830 +05:00 [Information] 2025010507: CreatePrioritiesTable
2025-03-12 19:25:03.831 +05:00 [Information] 2025010508: CreateUsersCardiographsTable
2025-03-12 19:25:03.831 +05:00 [Information] 2025010509: CreateCallsTable
2025-03-12 19:25:03.832 +05:00 [Warning] 2025010510: CreateCardiogramsTable (current)
2025-03-12 19:25:04.059 +05:00 [Warning] Overriding address(es) '"http://localhost:2324/swagger"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-03-12 19:25:04.080 +05:00 [Information] Now listening on: "http://0.0.0.0:2324"
2025-03-12 19:25:04.081 +05:00 [Information] Application started. Press Ctrl+C to shut down.
2025-03-12 19:25:04.082 +05:00 [Information] Hosting environment: "Development"
2025-03-12 19:25:04.082 +05:00 [Information] Content root path: "C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.WebHost"
2025-03-12 19:25:04.982 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.html""" - null null
2025-03-12 19:25:05.140 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 166.9325ms
2025-03-12 19:25:05.251 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.js""" - null null
2025-03-12 19:25:05.276 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.js""" - 200 null "application/javascript;charset=utf-8" 25.5989ms
2025-03-12 19:25:05.620 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/v1/swagger.json""" - null null
2025-03-12 19:25:05.895 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 275.8072ms
2025-03-12 19:25:24.777 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=644e01c9-b790-41be-9078-f77f7ff41bad" - null null
2025-03-12 19:25:24.785 +05:00 [Information] CORS policy execution successful.
2025-03-12 19:25:24.788 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=644e01c9-b790-41be-9078-f77f7ff41bad" - 204 null null 10.7959ms
2025-03-12 19:25:24.792 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=644e01c9-b790-41be-9078-f77f7ff41bad" - "application/json" null
2025-03-12 19:25:24.795 +05:00 [Information] CORS policy execution successful.
2025-03-12 19:25:24.800 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)"'
2025-03-12 19:25:24.831 +05:00 [Information] Route matched with "{action = \"GetCardiogram\", controller = \"Cardiogram\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiogram(System.Guid)" on controller "KpoApi.Presentation.Controllers.CardiogramController" ("KpoApi.Presentation").
2025-03-12 19:25:25.574 +05:00 [Information] Executed DbCommand ("11"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 19:25:25.602 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 19:25:25.605 +05:00 [Information] Поступил запрос на получение всей информации по кардиограмме
2025-03-12 19:25:25.722 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 115.939ms.
2025-03-12 19:25:25.733 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Application.Models.Data.EntireCardiogramModel"'.
2025-03-12 19:25:25.790 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)" in 952.2069ms
2025-03-12 19:25:25.792 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)"'
2025-03-12 19:25:25.811 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=644e01c9-b790-41be-9078-f77f7ff41bad" - 200 null "application/json; charset=utf-8" 1019.6402ms
2025-03-12 19:25:32.000 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - null null
2025-03-12 19:25:32.003 +05:00 [Information] CORS policy execution successful.
2025-03-12 19:25:32.004 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - 204 null null 4.1039ms
2025-03-12 19:25:32.009 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - "application/json" 272
2025-03-12 19:25:32.012 +05:00 [Information] CORS policy execution successful.
2025-03-12 19:25:32.013 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram (KpoApi.Presentation)"'
2025-03-12 19:25:32.018 +05:00 [Information] Route matched with "{action = \"SaveCardiogram\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCardiogram(KpoApi.Domain.Entities.Cardiogram)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 19:25:32.053 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 19:25:32.099 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 19:25:32.101 +05:00 [Information] Поступил запрос сохранение кардиограммы
2025-03-12 19:25:32.569 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram (KpoApi.Presentation)" in 549.7022ms
2025-03-12 19:25:32.570 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram (KpoApi.Presentation)"'
2025-03-12 19:25:32.573 +05:00 [Error] Connection id ""0HNB1E6N9QTJF"", Request id ""0HNB1E6N9QTJF:00000004"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 23503: insert or update on table "Cardiograms" violates foreign key constraint "fk4"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.<ReadMessage>g__ReadMessageSequential|49_0(NpgsqlConnector connector, Boolean async)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCardiogram(Cardiogram newCardiogram, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 63
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCardiogram(Cardiogram newCardiogram, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 113
   at KpoApi.Application.Services.CardiogramService.SaveCardiogram(Cardiogram newCardiogram) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 101
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram(Cardiogram newCardiogram) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 48
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "Cardiograms" violates foreign key constraint "fk4"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: cardiogram_schema
    TableName: Cardiograms
    ConstraintName: fk4
    File: ri_triggers.c
    Line: 2599
    Routine: ri_ReportViolation
2025-03-12 19:25:32.619 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - 500 0 null 610.1773ms
2025-03-12 19:26:59.016 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - null null
2025-03-12 19:26:59.019 +05:00 [Information] CORS policy execution successful.
2025-03-12 19:26:59.020 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - 204 null null 4.0015ms
2025-03-12 19:26:59.024 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - "application/json" null
2025-03-12 19:26:59.028 +05:00 [Information] CORS policy execution successful.
2025-03-12 19:26:59.029 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)"'
2025-03-12 19:26:59.034 +05:00 [Information] Route matched with "{action = \"GetOrganizations\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrganizations()" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 19:26:59.094 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 19:26:59.098 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 19:26:59.100 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 19:26:59.120 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 21.5792ms.
2025-03-12 19:26:59.122 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Organization[]"'.
2025-03-12 19:26:59.141 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)" in 105.4901ms
2025-03-12 19:26:59.142 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)"'
2025-03-12 19:26:59.144 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - 200 null "application/json; charset=utf-8" 119.6758ms
2025-03-12 19:27:06.054 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - null null
2025-03-12 19:27:06.056 +05:00 [Information] CORS policy execution successful.
2025-03-12 19:27:06.058 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - 204 null null 3.7501ms
2025-03-12 19:27:06.062 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - "application/json" null
2025-03-12 19:27:06.064 +05:00 [Information] CORS policy execution successful.
2025-03-12 19:27:06.065 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)"'
2025-03-12 19:27:06.068 +05:00 [Information] Route matched with "{action = \"GetUsers\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 19:27:06.092 +05:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 19:27:06.095 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 19:27:06.097 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 19:27:06.104 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 8.1541ms.
2025-03-12 19:27:06.105 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.User[]"'.
2025-03-12 19:27:06.115 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)" in 45.4219ms
2025-03-12 19:27:06.116 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)"'
2025-03-12 19:27:06.117 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - 200 null "application/json; charset=utf-8" 55.7024ms
2025-03-12 19:27:06.533 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - null null
2025-03-12 19:27:06.535 +05:00 [Information] CORS policy execution successful.
2025-03-12 19:27:06.536 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - 204 null null 3.2653ms
2025-03-12 19:27:06.540 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - "application/json" null
2025-03-12 19:27:06.543 +05:00 [Information] CORS policy execution successful.
2025-03-12 19:27:06.544 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)"'
2025-03-12 19:27:06.547 +05:00 [Information] Route matched with "{action = \"GetCardiographs\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiographs(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 19:27:06.578 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 19:27:06.581 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 19:27:06.583 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 19:27:06.629 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 47.2742ms.
2025-03-12 19:27:06.631 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Cardiograph[]"'.
2025-03-12 19:27:06.635 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)" in 86.723ms
2025-03-12 19:27:06.638 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)"'
2025-03-12 19:27:06.644 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - 200 null "application/json; charset=utf-8" 100.0444ms
2025-03-12 19:27:06.986 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - null null
2025-03-12 19:27:06.988 +05:00 [Information] CORS policy execution successful.
2025-03-12 19:27:06.989 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - 204 null null 3.1355ms
2025-03-12 19:27:06.993 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - "application/json" null
2025-03-12 19:27:06.995 +05:00 [Information] CORS policy execution successful.
2025-03-12 19:27:06.995 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)"'
2025-03-12 19:27:07.001 +05:00 [Information] Route matched with "{action = \"GetCardiograms\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiograms(System.String)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 19:27:07.020 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 19:27:07.025 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 19:27:12.034 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 19:27:12.041 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5015.1035ms.
2025-03-12 19:27:12.043 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Cardiogram[]"'.
2025-03-12 19:27:12.045 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)" in 5043.1478ms
2025-03-12 19:27:12.050 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)"'
2025-03-12 19:27:12.053 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - 200 null "application/json; charset=utf-8" 5060.5934ms
2025-03-12 19:27:13.399 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - null null
2025-03-12 19:27:13.401 +05:00 [Information] CORS policy execution successful.
2025-03-12 19:27:13.402 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 204 null null 3.1733ms
2025-03-12 19:27:13.413 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - "application/json" null
2025-03-12 19:27:13.415 +05:00 [Information] CORS policy execution successful.
2025-03-12 19:27:13.416 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)"'
2025-03-12 19:27:13.418 +05:00 [Information] Route matched with "{action = \"GetCardiogram\", controller = \"Cardiogram\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiogram(System.Guid)" on controller "KpoApi.Presentation.Controllers.CardiogramController" ("KpoApi.Presentation").
2025-03-12 19:27:13.437 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 19:27:13.441 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 19:27:13.443 +05:00 [Information] Поступил запрос на получение всей информации по кардиограмме
2025-03-12 19:27:13.447 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4.808ms.
2025-03-12 19:27:13.449 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Application.Models.Data.EntireCardiogramModel"'.
2025-03-12 19:27:13.451 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)" in 31.0778ms
2025-03-12 19:27:13.452 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)"'
2025-03-12 19:27:13.455 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 200 null "application/json; charset=utf-8" 41.9712ms
2025-03-12 19:27:13.483 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - null null
2025-03-12 19:27:13.486 +05:00 [Information] CORS policy execution successful.
2025-03-12 19:27:13.488 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 204 null null 4.5624ms
2025-03-12 19:27:13.493 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - "application/json" null
2025-03-12 19:27:13.496 +05:00 [Information] CORS policy execution successful.
2025-03-12 19:27:13.496 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)"'
2025-03-12 19:27:13.506 +05:00 [Information] Route matched with "{action = \"GetUsersByCardiograms\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByCardiograms(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 19:27:13.527 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 19:27:13.535 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 19:27:13.538 +05:00 [Information] Поступил запрос на получение пользователей по кардиограмме
2025-03-12 19:27:13.547 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 10.123ms.
2025-03-12 19:27:13.548 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.User[]"'.
2025-03-12 19:27:13.550 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)" in 41.3652ms
2025-03-12 19:27:13.552 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)"'
2025-03-12 19:27:13.554 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 200 null "application/json; charset=utf-8" 61.0181ms
2025-03-12 19:27:13.643 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - null null
2025-03-12 19:27:13.659 +05:00 [Information] CORS policy execution successful.
2025-03-12 19:27:13.661 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - 204 null null 18.059ms
2025-03-12 19:27:13.678 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - "application/json" 273
2025-03-12 19:27:13.684 +05:00 [Information] CORS policy execution successful.
2025-03-12 19:27:13.685 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram (KpoApi.Presentation)"'
2025-03-12 19:27:13.687 +05:00 [Information] Route matched with "{action = \"SaveCardiogram\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCardiogram(KpoApi.Domain.Entities.Cardiogram)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 19:27:13.706 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 19:27:13.709 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 19:27:13.710 +05:00 [Information] Поступил запрос сохранение кардиограммы
2025-03-12 19:27:17.585 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram (KpoApi.Presentation)" in 3894.7661ms
2025-03-12 19:27:17.587 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram (KpoApi.Presentation)"'
2025-03-12 19:27:17.588 +05:00 [Error] Connection id ""0HNB1E6N9QTJF"", Request id ""0HNB1E6N9QTJF:00000012"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 23503: insert or update on table "Cardiograms" violates foreign key constraint "fk4"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.<ReadMessage>g__ReadMessageSequential|49_0(NpgsqlConnector connector, Boolean async)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCardiogram(Cardiogram newCardiogram, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 63
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCardiogram(Cardiogram newCardiogram, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 113
   at KpoApi.Application.Services.CardiogramService.SaveCardiogram(Cardiogram newCardiogram) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 101
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram(Cardiogram newCardiogram) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 48
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "Cardiograms" violates foreign key constraint "fk4"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: cardiogram_schema
    TableName: Cardiograms
    ConstraintName: fk4
    File: ri_triggers.c
    Line: 2599
    Routine: ri_ReportViolation
2025-03-12 19:27:17.607 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - 500 0 null 3928.7103ms
2025-03-12 19:46:29.440 +05:00 [Information] Migrations
2025-03-12 19:46:29.485 +05:00 [Information] 2025010501: CreateOrganizationTable
2025-03-12 19:46:29.487 +05:00 [Information] 2025010502: CreateUsersTable
2025-03-12 19:46:29.488 +05:00 [Information] 2025010503: CreateResultsCardiogramsTable
2025-03-12 19:46:29.488 +05:00 [Information] 2025010504: CreateCardiogramsStateTable
2025-03-12 19:46:29.489 +05:00 [Information] 2025010505: CreateCardiographsTable
2025-03-12 19:46:29.489 +05:00 [Information] 2025010506: CreateSexPatientsTable
2025-03-12 19:46:29.490 +05:00 [Information] 2025010507: CreatePrioritiesTable
2025-03-12 19:46:29.490 +05:00 [Information] 2025010508: CreateUsersCardiographsTable
2025-03-12 19:46:29.490 +05:00 [Information] 2025010509: CreateCallsTable
2025-03-12 19:46:29.493 +05:00 [Warning] 2025010510: CreateCardiogramsTable (current)
2025-03-12 19:46:29.711 +05:00 [Warning] Overriding address(es) '"http://localhost:2324/swagger"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-03-12 19:46:29.734 +05:00 [Information] Now listening on: "http://0.0.0.0:2324"
2025-03-12 19:46:29.736 +05:00 [Information] Application started. Press Ctrl+C to shut down.
2025-03-12 19:46:29.736 +05:00 [Information] Hosting environment: "Development"
2025-03-12 19:46:29.737 +05:00 [Information] Content root path: "C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.WebHost"
2025-03-12 19:46:30.602 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.html""" - null null
2025-03-12 19:46:30.781 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 185.8014ms
2025-03-12 19:46:30.895 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.js""" - null null
2025-03-12 19:46:30.905 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.js""" - 200 null "application/javascript;charset=utf-8" 10.0075ms
2025-03-12 19:46:31.275 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/v1/swagger.json""" - null null
2025-03-12 19:46:31.609 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 334.0903ms
2025-03-12 19:46:37.418 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - null null
2025-03-12 19:46:37.437 +05:00 [Information] CORS policy execution successful.
2025-03-12 19:46:37.441 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 204 null null 23.6108ms
2025-03-12 19:46:37.465 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - "application/json" null
2025-03-12 19:46:37.474 +05:00 [Information] CORS policy execution successful.
2025-03-12 19:46:37.484 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)"'
2025-03-12 19:46:37.590 +05:00 [Information] Route matched with "{action = \"GetCardiogram\", controller = \"Cardiogram\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiogram(System.Guid)" on controller "KpoApi.Presentation.Controllers.CardiogramController" ("KpoApi.Presentation").
2025-03-12 19:46:38.665 +05:00 [Information] Executed DbCommand ("13"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 19:46:38.698 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 19:46:38.700 +05:00 [Information] Поступил запрос на получение всей информации по кардиограмме
2025-03-12 19:46:38.818 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 116.4262ms.
2025-03-12 19:46:38.830 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Application.Models.Data.EntireCardiogramModel"'.
2025-03-12 19:46:38.892 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)" in 1297.6574ms
2025-03-12 19:46:38.894 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)"'
2025-03-12 19:46:38.914 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 200 null "application/json; charset=utf-8" 1450.5198ms
2025-03-12 19:46:51.106 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - null null
2025-03-12 19:46:51.110 +05:00 [Information] CORS policy execution successful.
2025-03-12 19:46:51.115 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - 204 null null 9.3333ms
2025-03-12 19:46:51.120 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - "application/json" 271
2025-03-12 19:46:51.123 +05:00 [Information] CORS policy execution successful.
2025-03-12 19:46:51.124 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram (KpoApi.Presentation)"'
2025-03-12 19:46:51.132 +05:00 [Information] Route matched with "{action = \"SaveCardiogram\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCardiogram(KpoApi.Domain.Entities.Cardiogram)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 19:46:51.173 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 19:46:51.224 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 19:46:51.246 +05:00 [Information] Поступил запрос сохранение кардиограммы
2025-03-12 19:49:07.685 +05:00 [Information] Migrations
2025-03-12 19:49:07.776 +05:00 [Information] 2025010501: CreateOrganizationTable
2025-03-12 19:49:07.779 +05:00 [Information] 2025010502: CreateUsersTable
2025-03-12 19:49:07.780 +05:00 [Information] 2025010503: CreateResultsCardiogramsTable
2025-03-12 19:49:07.781 +05:00 [Information] 2025010504: CreateCardiogramsStateTable
2025-03-12 19:49:07.782 +05:00 [Information] 2025010505: CreateCardiographsTable
2025-03-12 19:49:07.782 +05:00 [Information] 2025010506: CreateSexPatientsTable
2025-03-12 19:49:07.783 +05:00 [Information] 2025010507: CreatePrioritiesTable
2025-03-12 19:49:07.784 +05:00 [Information] 2025010508: CreateUsersCardiographsTable
2025-03-12 19:49:07.786 +05:00 [Information] 2025010509: CreateCallsTable
2025-03-12 19:49:07.787 +05:00 [Warning] 2025010510: CreateCardiogramsTable (current)
2025-03-12 19:49:08.318 +05:00 [Warning] Overriding address(es) '"http://localhost:2324/swagger"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-03-12 19:49:08.429 +05:00 [Information] Now listening on: "http://0.0.0.0:2324"
2025-03-12 19:49:08.431 +05:00 [Information] Application started. Press Ctrl+C to shut down.
2025-03-12 19:49:08.433 +05:00 [Information] Hosting environment: "Development"
2025-03-12 19:49:08.434 +05:00 [Information] Content root path: "C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.WebHost"
2025-03-12 19:49:09.809 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.html""" - null null
2025-03-12 19:49:10.314 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 546.7923ms
2025-03-12 19:49:10.474 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.js""" - null null
2025-03-12 19:49:10.494 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.js""" - 200 null "application/javascript;charset=utf-8" 20.105ms
2025-03-12 19:49:11.362 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/v1/swagger.json""" - null null
2025-03-12 19:49:12.120 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 759.3695ms
2025-03-12 19:49:13.049 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - null null
2025-03-12 19:49:13.059 +05:00 [Information] CORS policy execution successful.
2025-03-12 19:49:13.064 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 204 null null 14.9638ms
2025-03-12 19:49:13.085 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - "application/json" null
2025-03-12 19:49:13.115 +05:00 [Information] CORS policy execution successful.
2025-03-12 19:49:13.121 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)"'
2025-03-12 19:49:13.209 +05:00 [Information] Route matched with "{action = \"GetCardiogram\", controller = \"Cardiogram\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiogram(System.Guid)" on controller "KpoApi.Presentation.Controllers.CardiogramController" ("KpoApi.Presentation").
2025-03-12 19:49:14.360 +05:00 [Information] Executed DbCommand ("13"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 19:49:14.405 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 19:49:14.409 +05:00 [Information] Поступил запрос на получение всей информации по кардиограмме
2025-03-12 19:49:14.553 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 143.3918ms.
2025-03-12 19:49:14.565 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Application.Models.Data.EntireCardiogramModel"'.
2025-03-12 19:49:14.669 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)" in 1451.5802ms
2025-03-12 19:49:14.671 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)"'
2025-03-12 19:49:14.706 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 200 null "application/json; charset=utf-8" 1621.4527ms
2025-03-12 19:49:21.116 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - null null
2025-03-12 19:49:21.120 +05:00 [Information] CORS policy execution successful.
2025-03-12 19:49:21.122 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - 204 null null 6.1842ms
2025-03-12 19:49:21.129 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - "application/json" 271
2025-03-12 19:49:21.132 +05:00 [Information] CORS policy execution successful.
2025-03-12 19:49:21.135 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram (KpoApi.Presentation)"'
2025-03-12 19:49:21.162 +05:00 [Information] Route matched with "{action = \"SaveCardiogram\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCardiogram(KpoApi.Domain.Entities.Cardiogram)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 19:49:21.237 +05:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 19:49:21.297 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 19:49:21.300 +05:00 [Information] Поступил запрос сохранение кардиограммы
2025-03-12 19:52:49.275 +05:00 [Information] Migrations
2025-03-12 19:52:49.330 +05:00 [Information] 2025010501: CreateOrganizationTable
2025-03-12 19:52:49.332 +05:00 [Information] 2025010502: CreateUsersTable
2025-03-12 19:52:49.333 +05:00 [Information] 2025010503: CreateResultsCardiogramsTable
2025-03-12 19:52:49.333 +05:00 [Information] 2025010504: CreateCardiogramsStateTable
2025-03-12 19:52:49.334 +05:00 [Information] 2025010505: CreateCardiographsTable
2025-03-12 19:52:49.335 +05:00 [Information] 2025010506: CreateSexPatientsTable
2025-03-12 19:52:49.336 +05:00 [Information] 2025010507: CreatePrioritiesTable
2025-03-12 19:52:49.336 +05:00 [Information] 2025010508: CreateUsersCardiographsTable
2025-03-12 19:52:49.337 +05:00 [Information] 2025010509: CreateCallsTable
2025-03-12 19:52:49.338 +05:00 [Warning] 2025010510: CreateCardiogramsTable (current)
2025-03-12 19:52:49.588 +05:00 [Warning] Overriding address(es) '"http://localhost:2324/swagger"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-03-12 19:52:49.613 +05:00 [Information] Now listening on: "http://0.0.0.0:2324"
2025-03-12 19:52:49.614 +05:00 [Information] Application started. Press Ctrl+C to shut down.
2025-03-12 19:52:49.615 +05:00 [Information] Hosting environment: "Development"
2025-03-12 19:52:49.616 +05:00 [Information] Content root path: "C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.WebHost"
2025-03-12 19:52:50.607 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.html""" - null null
2025-03-12 19:52:51.320 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 749.6294ms
2025-03-12 19:52:51.476 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.js""" - null null
2025-03-12 19:52:51.794 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.js""" - 200 null "application/javascript;charset=utf-8" 318.6132ms
2025-03-12 19:52:52.315 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/v1/swagger.json""" - null null
2025-03-12 19:52:52.752 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 436.8391ms
2025-03-12 19:53:02.188 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - null null
2025-03-12 19:53:02.196 +05:00 [Information] CORS policy execution successful.
2025-03-12 19:53:02.199 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - 204 null null 10.7929ms
2025-03-12 19:53:02.210 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - "application/json" 271
2025-03-12 19:53:02.214 +05:00 [Information] CORS policy execution successful.
2025-03-12 19:53:02.220 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram (KpoApi.Presentation)"'
2025-03-12 19:53:02.262 +05:00 [Information] Route matched with "{action = \"SaveCardiogram\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCardiogram(KpoApi.Domain.Entities.Cardiogram)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 19:53:02.984 +05:00 [Information] Executed DbCommand ("10"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 19:53:03.059 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 19:53:03.062 +05:00 [Information] Поступил запрос сохранение кардиограммы
2025-03-12 19:54:39.311 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - null null
2025-03-12 19:54:39.325 +05:00 [Information] CORS policy execution successful.
2025-03-12 19:54:39.326 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - 204 null null 15.4691ms
2025-03-12 19:54:39.332 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - "application/json" null
2025-03-12 19:54:39.335 +05:00 [Information] CORS policy execution successful.
2025-03-12 19:54:39.337 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)"'
2025-03-12 19:54:39.340 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram (KpoApi.Presentation)" in 97067.4307ms
2025-03-12 19:54:39.346 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram (KpoApi.Presentation)"'
2025-03-12 19:54:39.347 +05:00 [Information] Route matched with "{action = \"GetOrganizations\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrganizations()" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 19:54:39.356 +05:00 [Error] Connection id ""0HNB1EM7KNMGM"", Request id ""0HNB1EM7KNMGM:00000002"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 23503: insert or update on table "Cardiograms" violates foreign key constraint "fk4"

DETAIL: Key (ResultCardiogramUuid)=(00000000-0000-0000-0000-000000000000) is not present in table "ResultsCardiograms".
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.<ReadMessage>g__ReadMessageSequential|49_0(NpgsqlConnector connector, Boolean async)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCardiogram(Cardiogram newCardiogram, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 63
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCardiogram(Cardiogram newCardiogram, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 113
   at KpoApi.Application.Services.CardiogramService.SaveCardiogram(Cardiogram newCardiogram) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 101
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram(Cardiogram newCardiogram) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 48
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "Cardiograms" violates foreign key constraint "fk4"
    Detail: Key (ResultCardiogramUuid)=(00000000-0000-0000-0000-000000000000) is not present in table "ResultsCardiograms".
    SchemaName: cardiogram_schema
    TableName: Cardiograms
    ConstraintName: fk4
    File: ri_triggers.c
    Line: 2599
    Routine: ri_ReportViolation
2025-03-12 19:54:39.402 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 19:54:39.407 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - 499 null null 97196.9805ms
2025-03-12 19:54:39.408 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 19:54:39.414 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 19:54:39.461 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 42.6178ms.
2025-03-12 19:54:39.476 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Organization[]"'.
2025-03-12 19:54:39.506 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)" in 157.3412ms
2025-03-12 19:54:39.509 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetOrganizations (KpoApi.Presentation)"'
2025-03-12 19:54:39.510 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetOrganizations""" - 200 null "application/json; charset=utf-8" 178.4002ms
2025-03-12 19:54:40.608 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - null null
2025-03-12 19:54:40.610 +05:00 [Information] CORS policy execution successful.
2025-03-12 19:54:40.611 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - 204 null null 3.7064ms
2025-03-12 19:54:40.618 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - "application/json" null
2025-03-12 19:54:40.621 +05:00 [Information] CORS policy execution successful.
2025-03-12 19:54:40.623 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)"'
2025-03-12 19:54:40.636 +05:00 [Information] Route matched with "{action = \"GetUsers\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 19:54:40.699 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 19:54:40.712 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 19:54:40.715 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 19:54:40.725 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 11.3281ms.
2025-03-12 19:54:40.727 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.User[]"'.
2025-03-12 19:54:40.742 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)" in 104.2801ms
2025-03-12 19:54:40.743 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsers (KpoApi.Presentation)"'
2025-03-12 19:54:40.745 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsers""?organizationGuid=87488bc6-c7a6-401b-94c7-ae26968a4c09" - 200 null "application/json; charset=utf-8" 126.9215ms
2025-03-12 19:54:41.218 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - null null
2025-03-12 19:54:41.242 +05:00 [Information] CORS policy execution successful.
2025-03-12 19:54:41.243 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - 204 null null 25.4123ms
2025-03-12 19:54:41.248 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - "application/json" null
2025-03-12 19:54:41.257 +05:00 [Information] CORS policy execution successful.
2025-03-12 19:54:41.258 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)"'
2025-03-12 19:54:41.264 +05:00 [Information] Route matched with "{action = \"GetCardiographs\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiographs(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 19:54:41.297 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 19:54:41.301 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 19:54:41.303 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 19:54:41.314 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 11.9342ms.
2025-03-12 19:54:41.316 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Cardiograph[]"'.
2025-03-12 19:54:41.319 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)" in 43.9081ms
2025-03-12 19:54:41.320 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiographs (KpoApi.Presentation)"'
2025-03-12 19:54:41.322 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiographs""?userGuid=53571440-bbea-4eae-8e73-36a682d80fa0" - 200 null "application/json; charset=utf-8" 73.9305ms
2025-03-12 19:54:41.703 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - null null
2025-03-12 19:54:41.705 +05:00 [Information] CORS policy execution successful.
2025-03-12 19:54:41.706 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - 204 null null 3.3911ms
2025-03-12 19:54:41.710 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - "application/json" null
2025-03-12 19:54:41.712 +05:00 [Information] CORS policy execution successful.
2025-03-12 19:54:41.713 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)"'
2025-03-12 19:54:41.716 +05:00 [Information] Route matched with "{action = \"GetCardiograms\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiograms(System.String)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 19:54:41.735 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 19:54:41.739 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 19:54:41.743 +05:00 [Information] Поступил запрос на получение организаций
2025-03-12 19:54:41.757 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 16.2157ms.
2025-03-12 19:54:41.758 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.Cardiogram[]"'.
2025-03-12 19:54:41.769 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)" in 52.076ms
2025-03-12 19:54:41.771 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetCardiograms (KpoApi.Presentation)"'
2025-03-12 19:54:41.773 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetCardiograms""?serialNumber=38988324379573" - 200 null "application/json; charset=utf-8" 62.357ms
2025-03-12 19:54:42.202 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - null null
2025-03-12 19:54:42.205 +05:00 [Information] CORS policy execution successful.
2025-03-12 19:54:42.236 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 204 null null 33.5586ms
2025-03-12 19:54:42.252 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - "application/json" null
2025-03-12 19:54:42.255 +05:00 [Information] CORS policy execution successful.
2025-03-12 19:54:42.255 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)"'
2025-03-12 19:54:42.267 +05:00 [Information] Route matched with "{action = \"GetCardiogram\", controller = \"Cardiogram\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCardiogram(System.Guid)" on controller "KpoApi.Presentation.Controllers.CardiogramController" ("KpoApi.Presentation").
2025-03-12 19:54:42.292 +05:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 19:54:42.296 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 19:54:42.298 +05:00 [Information] Поступил запрос на получение всей информации по кардиограмме
2025-03-12 19:54:42.319 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 22.8249ms.
2025-03-12 19:54:42.321 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Application.Models.Data.EntireCardiogramModel"'.
2025-03-12 19:54:42.341 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)" in 71.8108ms
2025-03-12 19:54:42.342 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.CardiogramController.GetCardiogram (KpoApi.Presentation)"'
2025-03-12 19:54:42.343 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/Cardiogram/GetEntireModel""?guid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 200 null "application/json; charset=utf-8" 91.3729ms
2025-03-12 19:54:42.364 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - null null
2025-03-12 19:54:42.366 +05:00 [Information] CORS policy execution successful.
2025-03-12 19:54:42.367 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 204 null null 3.2911ms
2025-03-12 19:54:42.373 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - "application/json" null
2025-03-12 19:54:42.376 +05:00 [Information] CORS policy execution successful.
2025-03-12 19:54:42.377 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)"'
2025-03-12 19:54:42.383 +05:00 [Information] Route matched with "{action = \"GetUsersByCardiograms\", controller = \"SeparateData\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersByCardiograms(System.Guid)" on controller "KpoApi.Presentation.Controllers.SeparateDataController" ("KpoApi.Presentation").
2025-03-12 19:54:42.402 +05:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 19:54:42.407 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 19:54:42.409 +05:00 [Information] Поступил запрос на получение пользователей по кардиограмме
2025-03-12 19:54:42.418 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 9.6126ms.
2025-03-12 19:54:42.419 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.User[]"'.
2025-03-12 19:54:42.420 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)" in 35.0712ms
2025-03-12 19:54:42.422 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SeparateDataController.GetUsersByCardiograms (KpoApi.Presentation)"'
2025-03-12 19:54:42.423 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/SeparateData/GetUsersByCardiograms""?cardiogramUuid=2ff8b1be-a413-4ee0-a975-5b1487789a81" - 200 null "application/json; charset=utf-8" 49.9427ms
2025-03-12 19:54:42.454 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - null null
2025-03-12 19:54:42.456 +05:00 [Information] CORS policy execution successful.
2025-03-12 19:54:42.458 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - 204 null null 4.4573ms
2025-03-12 19:54:42.464 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - "application/json" 335
2025-03-12 19:54:42.466 +05:00 [Information] CORS policy execution successful.
2025-03-12 19:54:42.467 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram (KpoApi.Presentation)"'
2025-03-12 19:54:42.469 +05:00 [Information] Route matched with "{action = \"SaveCardiogram\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCardiogram(KpoApi.Domain.Entities.Cardiogram)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 19:54:42.510 +05:00 [Information] Executed DbCommand ("11"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 19:54:42.527 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 19:54:42.529 +05:00 [Information] Поступил запрос сохранение кардиограммы
2025-03-12 19:54:45.773 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram (KpoApi.Presentation)" in 3301.0186ms
2025-03-12 19:54:45.775 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram (KpoApi.Presentation)"'
2025-03-12 19:54:45.776 +05:00 [Error] Connection id ""0HNB1EM7KNMGO"", Request id ""0HNB1EM7KNMGO:0000000E"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42P01: relation "statistics_log" does not exist
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.<ReadMessage>g__ReadMessageSequential|49_0(NpgsqlConnector connector, Boolean async)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 30
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.BaseRepository.ExecuteQuerySingleAsync[TModel](String sql, Object param, CancellationToken token) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\BaseRepository.cs:line 31
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.SaveEntitiesRepository.SaveCardiogram(Cardiogram newCardiogram, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Repositories\SaveEntitiesRepository.cs:line 63
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresProvider.SaveCardiogram(Cardiogram newCardiogram, CancellationToken cancellationToken) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Infrastructure.Postgres\Services\PostgresProvider.cs:line 113
   at KpoApi.Application.Services.CardiogramService.SaveCardiogram(Cardiogram newCardiogram) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Application\Services\CardiogramService.cs:line 101
   at KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram(Cardiogram newCardiogram) in C:\Users\nikch\WebstormProjects\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\SaveEntitiesController.cs:line 48
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "statistics_log" does not exist
    InternalPosition: 13
    InternalQuery: INSERT INTO statistics_log (name, amount)
        VALUES (state."StateName", state.p_amount)
    Where: PL/pgSQL function change_all_state_cardiogram() line 11 at SQL statement
    File: parse_relation.c
    Line: 1449
    Routine: parserOpenTable
2025-03-12 19:54:45.795 +05:00 [Information] Request finished "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - 500 0 null 3330.6871ms
2025-03-12 19:54:53.286 +05:00 [Information] Request starting "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - null null
2025-03-12 19:54:53.289 +05:00 [Information] CORS policy execution successful.
2025-03-12 19:54:53.289 +05:00 [Information] Request finished "HTTP/1.1" "OPTIONS" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - 204 null null 3.0995ms
2025-03-12 19:54:53.292 +05:00 [Information] Request starting "HTTP/1.1" "POST" "http"://"localhost:2324""""/Api/SaveEntities/SaveCardiogram""" - "application/json" 333
2025-03-12 19:54:53.294 +05:00 [Information] CORS policy execution successful.
2025-03-12 19:54:53.295 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram (KpoApi.Presentation)"'
2025-03-12 19:54:53.297 +05:00 [Information] Route matched with "{action = \"SaveCardiogram\", controller = \"SaveEntities\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveCardiogram(KpoApi.Domain.Entities.Cardiogram)" on controller "KpoApi.Presentation.Controllers.SaveEntitiesController" ("KpoApi.Presentation").
2025-03-12 19:54:53.315 +05:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-12 19:54:53.319 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.SaveEntitiesController.SaveCardiogram (KpoApi.Presentation)" - Validation state: Valid
2025-03-12 19:54:53.320 +05:00 [Information] Поступил запрос сохранение кардиограммы
