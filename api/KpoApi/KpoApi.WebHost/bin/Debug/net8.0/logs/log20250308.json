2025-03-08 11:44:43.037 +05:00 [Information] VersionMigration migrating
2025-03-08 11:44:43.149 +05:00 [Information] Beginning Transaction
2025-03-08 11:44:43.175 +05:00 [Information] CreateTable VersionInfo
2025-03-08 11:44:43.188 +05:00 [Information] CREATE TABLE "public"."VersionInfo" ("Version" bigint NOT NULL);
2025-03-08 11:44:43.252 +05:00 [Information] => 0,0711926s
2025-03-08 11:44:43.256 +05:00 [Information] Committing Transaction
2025-03-08 11:44:43.289 +05:00 [Information] VersionMigration migrated
2025-03-08 11:44:43.290 +05:00 [Information] => 0,1131576s
2025-03-08 11:44:43.303 +05:00 [Information] VersionUniqueMigration migrating
2025-03-08 11:44:43.304 +05:00 [Information] Beginning Transaction
2025-03-08 11:44:43.317 +05:00 [Information] CreateIndex VersionInfo (Version)
2025-03-08 11:44:43.338 +05:00 [Information] CREATE UNIQUE INDEX "UC_Version" ON "public"."VersionInfo" ("Version" ASC);
2025-03-08 11:44:43.388 +05:00 [Information] => 0,070691s
2025-03-08 11:44:43.389 +05:00 [Information] AlterTable VersionInfo
2025-03-08 11:44:43.391 +05:00 [Information] 
2025-03-08 11:44:43.391 +05:00 [Information] => 0,0014662s
2025-03-08 11:44:43.393 +05:00 [Information] CreateColumn VersionInfo AppliedOn DateTime
2025-03-08 11:44:43.395 +05:00 [Information] ALTER TABLE "public"."VersionInfo" ADD "AppliedOn" timestamp;
2025-03-08 11:44:43.432 +05:00 [Information] => 0,0389519s
2025-03-08 11:44:43.433 +05:00 [Information] Committing Transaction
2025-03-08 11:44:43.439 +05:00 [Information] VersionUniqueMigration migrated
2025-03-08 11:44:43.440 +05:00 [Information] => 0,0456547s
2025-03-08 11:44:43.450 +05:00 [Information] VersionDescriptionMigration migrating
2025-03-08 11:44:43.450 +05:00 [Information] Beginning Transaction
2025-03-08 11:44:43.453 +05:00 [Information] AlterTable VersionInfo
2025-03-08 11:44:43.453 +05:00 [Information] 
2025-03-08 11:44:43.454 +05:00 [Information] => 0,0006086s
2025-03-08 11:44:43.454 +05:00 [Information] CreateColumn VersionInfo Description String
2025-03-08 11:44:43.457 +05:00 [Information] ALTER TABLE "public"."VersionInfo" ADD "Description" varchar(1024);
2025-03-08 11:44:43.546 +05:00 [Information] => 0,0911195s
2025-03-08 11:44:43.547 +05:00 [Information] Committing Transaction
2025-03-08 11:44:43.584 +05:00 [Information] VersionDescriptionMigration migrated
2025-03-08 11:44:43.585 +05:00 [Information] => 0,1286062s
2025-03-08 11:44:43.627 +05:00 [Information] Migrations
2025-03-08 11:44:43.641 +05:00 [Information] 2025010501: CreateOrganizationTable (not applied)
2025-03-08 11:44:43.642 +05:00 [Information] 2025010502: CreateUsersTable (not applied)
2025-03-08 11:44:43.642 +05:00 [Information] 2025010503: CreateResultsCardiogramsTable (not applied)
2025-03-08 11:44:43.643 +05:00 [Information] 2025010504: CreateCardiogramsStateTable (not applied)
2025-03-08 11:44:43.644 +05:00 [Information] 2025010505: CreateCardiographsTable (not applied)
2025-03-08 11:44:43.645 +05:00 [Information] 2025010506: CreateSexPatientsTable (not applied)
2025-03-08 11:44:43.645 +05:00 [Information] 2025010507: CreatePrioritiesTable (not applied)
2025-03-08 11:44:43.646 +05:00 [Information] 2025010508: CreateUsersCardiographsTable (not applied)
2025-03-08 11:44:43.647 +05:00 [Information] 2025010509: CreateCallsTable (not applied)
2025-03-08 11:44:43.647 +05:00 [Information] 2025010510: CreateCardiogramsTable (not applied)
2025-03-08 11:44:43.654 +05:00 [Information] 2025010501: CreateOrganizationTable migrating
2025-03-08 11:44:43.655 +05:00 [Information] Beginning Transaction
2025-03-08 11:44:43.657 +05:00 [Information] ExecuteSqlStatement CREATE TABLE "Organizations" ("OrganizationUuid" UUID PRIMARY KEY,
"Name" varchar(256),
"SsmpNumber" int not null,
"SsmpAdress" varchar(1024) not null,
"PhoneContactName" varchar(256),
"PhoneNumber" int);
2025-03-08 11:44:43.659 +05:00 [Information] CREATE TABLE "Organizations" ("OrganizationUuid" UUID PRIMARY KEY,
"Name" varchar(256),
"SsmpNumber" int not null,
"SsmpAdress" varchar(1024) not null,
"PhoneContactName" varchar(256),
"PhoneNumber" int);
2025-03-08 11:44:43.717 +05:00 [Error] An error occurred executing the following sql:
CREATE TABLE "Organizations" ("OrganizationUuid" UUID PRIMARY KEY,
"Name" varchar(256),
"SsmpNumber" int not null,
"SsmpAdress" varchar(1024) not null,
"PhoneContactName" varchar(256),
"PhoneNumber" int);
The error was 42P07: relation "Organizations" already exists

System.Exception: An error occurred executing the following sql:
CREATE TABLE "Organizations" ("OrganizationUuid" UUID PRIMARY KEY,
"Name" varchar(256),
"SsmpNumber" int not null,
"SsmpAdress" varchar(1024) not null,
"PhoneContactName" varchar(256),
"PhoneNumber" int);
The error was 42P07: relation "Organizations" already exists

 ---> Npgsql.PostgresException (0x80004005): 42P07: relation "Organizations" already exists
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult()
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteNonQuery(Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteNonQuery()
   at FluentMigrator.Runner.Processors.Postgres.PostgresProcessor.Process(String sql)
  Exception data:
    Severity: ERROR
    SqlState: 42P07
    MessageText: relation "Organizations" already exists
    File: heap.c
    Line: 1159
    Routine: heap_create_with_catalog
   --- End of inner exception stack trace ---
   at FluentMigrator.Runner.Processors.ProcessorBase.ReThrowWithSql(Exception ex, String sql)
   at FluentMigrator.Runner.Processors.Postgres.PostgresProcessor.Process(String sql)
   at FluentMigrator.Runner.Processors.Postgres.PostgresProcessor.Execute(String template, Object[] args)
   at FluentMigrator.Runner.Processors.ProcessorBase.Execute(String sql)
   at FluentMigrator.Expressions.ExecuteSqlStatementExpression.ExecuteWith(IMigrationProcessor processor)
   at FluentMigrator.Runner.MigrationRunner.<>c__DisplayClass75_0.<ExecuteExpressions>b__1()
   at FluentMigrator.Runner.StopWatch.Time(Action action)
   at FluentMigrator.Runner.MigrationRunner.AnnounceTime(String message, Action action)
   at FluentMigrator.Runner.MigrationRunner.ExecuteExpressions(ICollection`1 expressions)
2025-03-08 11:44:43.737 +05:00 [Information] Rolling back transaction
2025-03-08 11:44:43.767 +05:00 [Fatal] The Application failed to start.
System.Exception: An error occurred executing the following sql:
CREATE TABLE "Organizations" ("OrganizationUuid" UUID PRIMARY KEY,
"Name" varchar(256),
"SsmpNumber" int not null,
"SsmpAdress" varchar(1024) not null,
"PhoneContactName" varchar(256),
"PhoneNumber" int);
The error was 42P07: relation "Organizations" already exists

 ---> Npgsql.PostgresException (0x80004005): 42P07: relation "Organizations" already exists
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult()
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteNonQuery(Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteNonQuery()
   at FluentMigrator.Runner.Processors.Postgres.PostgresProcessor.Process(String sql)
  Exception data:
    Severity: ERROR
    SqlState: 42P07
    MessageText: relation "Organizations" already exists
    File: heap.c
    Line: 1159
    Routine: heap_create_with_catalog
   --- End of inner exception stack trace ---
   at FluentMigrator.Runner.Processors.ProcessorBase.ReThrowWithSql(Exception ex, String sql)
   at FluentMigrator.Runner.Processors.Postgres.PostgresProcessor.Process(String sql)
   at FluentMigrator.Runner.Processors.Postgres.PostgresProcessor.Execute(String template, Object[] args)
   at FluentMigrator.Runner.Processors.ProcessorBase.Execute(String sql)
   at FluentMigrator.Expressions.ExecuteSqlStatementExpression.ExecuteWith(IMigrationProcessor processor)
   at FluentMigrator.Runner.MigrationRunner.<>c__DisplayClass75_0.<ExecuteExpressions>b__1()
   at FluentMigrator.Runner.StopWatch.Time(Action action)
   at FluentMigrator.Runner.MigrationRunner.AnnounceTime(String message, Action action)
   at FluentMigrator.Runner.MigrationRunner.ExecuteExpressions(ICollection`1 expressions)
   at FluentMigrator.Runner.MigrationRunner.ExecuteMigration(IMigration migration, Action`2 getExpressions)
   at FluentMigrator.Runner.MigrationRunner.ApplyMigrationUp(IMigrationInfo migrationInfo, Boolean useTransaction)
   at FluentMigrator.Runner.MigrationRunner.MigrateUp(Int64 targetVersion, Boolean useAutomaticTransactionManagement)
   at FluentMigrator.Runner.MigrationRunner.MigrateUp(Boolean useAutomaticTransactionManagement)
   at FluentMigrator.Runner.MigrationRunner.MigrateUp()
   at KpoApi.Infrastructure.PostgresMigrator.Migrations.Database.MigrationManager.MigrateDatabase(IHost host) in C:\Users\vovac\source\kpolab2\api\KpoApi\KpoApi.Infrastructure.PostgresMigrator\Migrations\Database\MigrationManager.cs:line 19
   at KpoApi.Presentation.Program.Main(String[] args) in C:\Users\vovac\source\kpolab2\api\KpoApi\KpoApi.WebHost\Program.cs:line 26
2025-03-08 11:45:25.880 +05:00 [Information] Migrations
2025-03-08 11:45:25.939 +05:00 [Information] 2025010501: CreateOrganizationTable (not applied)
2025-03-08 11:45:25.940 +05:00 [Information] 2025010502: CreateUsersTable (not applied)
2025-03-08 11:45:25.941 +05:00 [Information] 2025010503: CreateResultsCardiogramsTable (not applied)
2025-03-08 11:45:25.941 +05:00 [Information] 2025010504: CreateCardiogramsStateTable (not applied)
2025-03-08 11:45:25.941 +05:00 [Information] 2025010505: CreateCardiographsTable (not applied)
2025-03-08 11:45:25.942 +05:00 [Information] 2025010506: CreateSexPatientsTable (not applied)
2025-03-08 11:45:25.942 +05:00 [Information] 2025010507: CreatePrioritiesTable (not applied)
2025-03-08 11:45:25.943 +05:00 [Information] 2025010508: CreateUsersCardiographsTable (not applied)
2025-03-08 11:45:25.943 +05:00 [Information] 2025010509: CreateCallsTable (not applied)
2025-03-08 11:45:25.944 +05:00 [Information] 2025010510: CreateCardiogramsTable (not applied)
2025-03-08 11:45:25.950 +05:00 [Information] 2025010501: CreateOrganizationTable migrating
2025-03-08 11:45:25.952 +05:00 [Information] Beginning Transaction
2025-03-08 11:45:25.970 +05:00 [Information] ExecuteSqlStatement CREATE TABLE "Organizations" ("OrganizationUuid" UUID PRIMARY KEY,
"Name" varchar(256),
"SsmpNumber" int not null,
"SsmpAdress" varchar(1024) not null,
"PhoneContactName" varchar(256),
"PhoneNumber" int);
2025-03-08 11:45:25.973 +05:00 [Information] CREATE TABLE "Organizations" ("OrganizationUuid" UUID PRIMARY KEY,
"Name" varchar(256),
"SsmpNumber" int not null,
"SsmpAdress" varchar(1024) not null,
"PhoneContactName" varchar(256),
"PhoneNumber" int);
2025-03-08 11:45:26.034 +05:00 [Error] An error occurred executing the following sql:
CREATE TABLE "Organizations" ("OrganizationUuid" UUID PRIMARY KEY,
"Name" varchar(256),
"SsmpNumber" int not null,
"SsmpAdress" varchar(1024) not null,
"PhoneContactName" varchar(256),
"PhoneNumber" int);
The error was 42P07: relation "Organizations" already exists

System.Exception: An error occurred executing the following sql:
CREATE TABLE "Organizations" ("OrganizationUuid" UUID PRIMARY KEY,
"Name" varchar(256),
"SsmpNumber" int not null,
"SsmpAdress" varchar(1024) not null,
"PhoneContactName" varchar(256),
"PhoneNumber" int);
The error was 42P07: relation "Organizations" already exists

 ---> Npgsql.PostgresException (0x80004005): 42P07: relation "Organizations" already exists
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult()
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteNonQuery(Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteNonQuery()
   at FluentMigrator.Runner.Processors.Postgres.PostgresProcessor.Process(String sql)
  Exception data:
    Severity: ERROR
    SqlState: 42P07
    MessageText: relation "Organizations" already exists
    File: heap.c
    Line: 1159
    Routine: heap_create_with_catalog
   --- End of inner exception stack trace ---
   at FluentMigrator.Runner.Processors.ProcessorBase.ReThrowWithSql(Exception ex, String sql)
   at FluentMigrator.Runner.Processors.Postgres.PostgresProcessor.Process(String sql)
   at FluentMigrator.Runner.Processors.Postgres.PostgresProcessor.Execute(String template, Object[] args)
   at FluentMigrator.Runner.Processors.ProcessorBase.Execute(String sql)
   at FluentMigrator.Expressions.ExecuteSqlStatementExpression.ExecuteWith(IMigrationProcessor processor)
   at FluentMigrator.Runner.MigrationRunner.<>c__DisplayClass75_0.<ExecuteExpressions>b__1()
   at FluentMigrator.Runner.StopWatch.Time(Action action)
   at FluentMigrator.Runner.MigrationRunner.AnnounceTime(String message, Action action)
   at FluentMigrator.Runner.MigrationRunner.ExecuteExpressions(ICollection`1 expressions)
2025-03-08 11:45:26.054 +05:00 [Information] Rolling back transaction
2025-03-08 11:45:26.077 +05:00 [Fatal] The Application failed to start.
System.Exception: An error occurred executing the following sql:
CREATE TABLE "Organizations" ("OrganizationUuid" UUID PRIMARY KEY,
"Name" varchar(256),
"SsmpNumber" int not null,
"SsmpAdress" varchar(1024) not null,
"PhoneContactName" varchar(256),
"PhoneNumber" int);
The error was 42P07: relation "Organizations" already exists

 ---> Npgsql.PostgresException (0x80004005): 42P07: relation "Organizations" already exists
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult()
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteNonQuery(Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteNonQuery()
   at FluentMigrator.Runner.Processors.Postgres.PostgresProcessor.Process(String sql)
  Exception data:
    Severity: ERROR
    SqlState: 42P07
    MessageText: relation "Organizations" already exists
    File: heap.c
    Line: 1159
    Routine: heap_create_with_catalog
   --- End of inner exception stack trace ---
   at FluentMigrator.Runner.Processors.ProcessorBase.ReThrowWithSql(Exception ex, String sql)
   at FluentMigrator.Runner.Processors.Postgres.PostgresProcessor.Process(String sql)
   at FluentMigrator.Runner.Processors.Postgres.PostgresProcessor.Execute(String template, Object[] args)
   at FluentMigrator.Runner.Processors.ProcessorBase.Execute(String sql)
   at FluentMigrator.Expressions.ExecuteSqlStatementExpression.ExecuteWith(IMigrationProcessor processor)
   at FluentMigrator.Runner.MigrationRunner.<>c__DisplayClass75_0.<ExecuteExpressions>b__1()
   at FluentMigrator.Runner.StopWatch.Time(Action action)
   at FluentMigrator.Runner.MigrationRunner.AnnounceTime(String message, Action action)
   at FluentMigrator.Runner.MigrationRunner.ExecuteExpressions(ICollection`1 expressions)
   at FluentMigrator.Runner.MigrationRunner.ExecuteMigration(IMigration migration, Action`2 getExpressions)
   at FluentMigrator.Runner.MigrationRunner.ApplyMigrationUp(IMigrationInfo migrationInfo, Boolean useTransaction)
   at FluentMigrator.Runner.MigrationRunner.MigrateUp(Int64 targetVersion, Boolean useAutomaticTransactionManagement)
   at FluentMigrator.Runner.MigrationRunner.MigrateUp(Boolean useAutomaticTransactionManagement)
   at FluentMigrator.Runner.MigrationRunner.MigrateUp()
   at KpoApi.Infrastructure.PostgresMigrator.Migrations.Database.MigrationManager.MigrateDatabase(IHost host) in C:\Users\vovac\source\kpolab2\api\KpoApi\KpoApi.Infrastructure.PostgresMigrator\Migrations\Database\MigrationManager.cs:line 19
   at KpoApi.Presentation.Program.Main(String[] args) in C:\Users\vovac\source\kpolab2\api\KpoApi\KpoApi.WebHost\Program.cs:line 26
2025-03-08 11:53:06.256 +05:00 [Information] VersionMigration migrating
2025-03-08 11:53:06.308 +05:00 [Information] Beginning Transaction
2025-03-08 11:53:06.333 +05:00 [Information] CreateTable VersionInfo
2025-03-08 11:53:06.344 +05:00 [Information] CREATE TABLE "public"."VersionInfo" ("Version" bigint NOT NULL);
2025-03-08 11:53:06.401 +05:00 [Information] => 0,0612883s
2025-03-08 11:53:06.405 +05:00 [Information] Committing Transaction
2025-03-08 11:53:06.437 +05:00 [Information] VersionMigration migrated
2025-03-08 11:53:06.438 +05:00 [Information] => 0,1028324s
2025-03-08 11:53:06.451 +05:00 [Information] VersionUniqueMigration migrating
2025-03-08 11:53:06.452 +05:00 [Information] Beginning Transaction
2025-03-08 11:53:06.465 +05:00 [Information] CreateIndex VersionInfo (Version)
2025-03-08 11:53:06.483 +05:00 [Information] CREATE UNIQUE INDEX "UC_Version" ON "public"."VersionInfo" ("Version" ASC);
2025-03-08 11:53:06.536 +05:00 [Information] => 0,0697714s
2025-03-08 11:53:06.537 +05:00 [Information] AlterTable VersionInfo
2025-03-08 11:53:06.538 +05:00 [Information] 
2025-03-08 11:53:06.539 +05:00 [Information] => 0,001587s
2025-03-08 11:53:06.541 +05:00 [Information] CreateColumn VersionInfo AppliedOn DateTime
2025-03-08 11:53:06.544 +05:00 [Information] ALTER TABLE "public"."VersionInfo" ADD "AppliedOn" timestamp;
2025-03-08 11:53:06.573 +05:00 [Information] => 0,0317101s
2025-03-08 11:53:06.574 +05:00 [Information] Committing Transaction
2025-03-08 11:53:06.579 +05:00 [Information] VersionUniqueMigration migrated
2025-03-08 11:53:06.580 +05:00 [Information] => 0,0380258s
2025-03-08 11:53:06.590 +05:00 [Information] VersionDescriptionMigration migrating
2025-03-08 11:53:06.591 +05:00 [Information] Beginning Transaction
2025-03-08 11:53:06.593 +05:00 [Information] AlterTable VersionInfo
2025-03-08 11:53:06.593 +05:00 [Information] 
2025-03-08 11:53:06.594 +05:00 [Information] => 0,000579s
2025-03-08 11:53:06.594 +05:00 [Information] CreateColumn VersionInfo Description String
2025-03-08 11:53:06.596 +05:00 [Information] ALTER TABLE "public"."VersionInfo" ADD "Description" varchar(1024);
2025-03-08 11:53:06.676 +05:00 [Information] => 0,0809116s
2025-03-08 11:53:06.677 +05:00 [Information] Committing Transaction
2025-03-08 11:53:06.713 +05:00 [Information] VersionDescriptionMigration migrated
2025-03-08 11:53:06.714 +05:00 [Information] => 0,1184088s
2025-03-08 11:53:06.737 +05:00 [Information] Migrations
2025-03-08 11:53:06.749 +05:00 [Information] 2025010501: CreateOrganizationTable (not applied)
2025-03-08 11:53:06.750 +05:00 [Information] 2025010502: CreateUsersTable (not applied)
2025-03-08 11:53:06.751 +05:00 [Information] 2025010503: CreateResultsCardiogramsTable (not applied)
2025-03-08 11:53:06.751 +05:00 [Information] 2025010504: CreateCardiogramsStateTable (not applied)
2025-03-08 11:53:06.752 +05:00 [Information] 2025010505: CreateCardiographsTable (not applied)
2025-03-08 11:53:06.753 +05:00 [Information] 2025010506: CreateSexPatientsTable (not applied)
2025-03-08 11:53:06.753 +05:00 [Information] 2025010507: CreatePrioritiesTable (not applied)
2025-03-08 11:53:06.754 +05:00 [Information] 2025010508: CreateUsersCardiographsTable (not applied)
2025-03-08 11:53:06.755 +05:00 [Information] 2025010509: CreateCallsTable (not applied)
2025-03-08 11:53:06.755 +05:00 [Information] 2025010510: CreateCardiogramsTable (not applied)
2025-03-08 11:53:06.762 +05:00 [Information] 2025010501: CreateOrganizationTable migrating
2025-03-08 11:53:06.763 +05:00 [Information] Beginning Transaction
2025-03-08 11:53:06.765 +05:00 [Information] ExecuteSqlStatement CREATE TABLE "Organizations" ("OrganizationUuid" UUID PRIMARY KEY,
"Name" varchar(256),
"SsmpNumber" int not null,
"SsmpAdress" varchar(1024) not null,
"PhoneContactName" varchar(256),
"PhoneNumber" int);
2025-03-08 11:53:06.766 +05:00 [Information] CREATE TABLE "Organizations" ("OrganizationUuid" UUID PRIMARY KEY,
"Name" varchar(256),
"SsmpNumber" int not null,
"SsmpAdress" varchar(1024) not null,
"PhoneContactName" varchar(256),
"PhoneNumber" int);
2025-03-08 11:53:06.840 +05:00 [Error] An error occurred executing the following sql:
CREATE TABLE "Organizations" ("OrganizationUuid" UUID PRIMARY KEY,
"Name" varchar(256),
"SsmpNumber" int not null,
"SsmpAdress" varchar(1024) not null,
"PhoneContactName" varchar(256),
"PhoneNumber" int);
The error was 42P07: relation "Organizations" already exists

System.Exception: An error occurred executing the following sql:
CREATE TABLE "Organizations" ("OrganizationUuid" UUID PRIMARY KEY,
"Name" varchar(256),
"SsmpNumber" int not null,
"SsmpAdress" varchar(1024) not null,
"PhoneContactName" varchar(256),
"PhoneNumber" int);
The error was 42P07: relation "Organizations" already exists

 ---> Npgsql.PostgresException (0x80004005): 42P07: relation "Organizations" already exists
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult()
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteNonQuery(Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteNonQuery()
   at FluentMigrator.Runner.Processors.Postgres.PostgresProcessor.Process(String sql)
  Exception data:
    Severity: ERROR
    SqlState: 42P07
    MessageText: relation "Organizations" already exists
    File: heap.c
    Line: 1159
    Routine: heap_create_with_catalog
   --- End of inner exception stack trace ---
   at FluentMigrator.Runner.Processors.ProcessorBase.ReThrowWithSql(Exception ex, String sql)
   at FluentMigrator.Runner.Processors.Postgres.PostgresProcessor.Process(String sql)
   at FluentMigrator.Runner.Processors.Postgres.PostgresProcessor.Execute(String template, Object[] args)
   at FluentMigrator.Runner.Processors.ProcessorBase.Execute(String sql)
   at FluentMigrator.Expressions.ExecuteSqlStatementExpression.ExecuteWith(IMigrationProcessor processor)
   at FluentMigrator.Runner.MigrationRunner.<>c__DisplayClass75_0.<ExecuteExpressions>b__1()
   at FluentMigrator.Runner.StopWatch.Time(Action action)
   at FluentMigrator.Runner.MigrationRunner.AnnounceTime(String message, Action action)
   at FluentMigrator.Runner.MigrationRunner.ExecuteExpressions(ICollection`1 expressions)
2025-03-08 11:53:06.859 +05:00 [Information] Rolling back transaction
2025-03-08 11:53:06.895 +05:00 [Fatal] The Application failed to start.
System.Exception: An error occurred executing the following sql:
CREATE TABLE "Organizations" ("OrganizationUuid" UUID PRIMARY KEY,
"Name" varchar(256),
"SsmpNumber" int not null,
"SsmpAdress" varchar(1024) not null,
"PhoneContactName" varchar(256),
"PhoneNumber" int);
The error was 42P07: relation "Organizations" already exists

 ---> Npgsql.PostgresException (0x80004005): 42P07: relation "Organizations" already exists
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult()
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteNonQuery(Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteNonQuery()
   at FluentMigrator.Runner.Processors.Postgres.PostgresProcessor.Process(String sql)
  Exception data:
    Severity: ERROR
    SqlState: 42P07
    MessageText: relation "Organizations" already exists
    File: heap.c
    Line: 1159
    Routine: heap_create_with_catalog
   --- End of inner exception stack trace ---
   at FluentMigrator.Runner.Processors.ProcessorBase.ReThrowWithSql(Exception ex, String sql)
   at FluentMigrator.Runner.Processors.Postgres.PostgresProcessor.Process(String sql)
   at FluentMigrator.Runner.Processors.Postgres.PostgresProcessor.Execute(String template, Object[] args)
   at FluentMigrator.Runner.Processors.ProcessorBase.Execute(String sql)
   at FluentMigrator.Expressions.ExecuteSqlStatementExpression.ExecuteWith(IMigrationProcessor processor)
   at FluentMigrator.Runner.MigrationRunner.<>c__DisplayClass75_0.<ExecuteExpressions>b__1()
   at FluentMigrator.Runner.StopWatch.Time(Action action)
   at FluentMigrator.Runner.MigrationRunner.AnnounceTime(String message, Action action)
   at FluentMigrator.Runner.MigrationRunner.ExecuteExpressions(ICollection`1 expressions)
   at FluentMigrator.Runner.MigrationRunner.ExecuteMigration(IMigration migration, Action`2 getExpressions)
   at FluentMigrator.Runner.MigrationRunner.ApplyMigrationUp(IMigrationInfo migrationInfo, Boolean useTransaction)
   at FluentMigrator.Runner.MigrationRunner.MigrateUp(Int64 targetVersion, Boolean useAutomaticTransactionManagement)
   at FluentMigrator.Runner.MigrationRunner.MigrateUp(Boolean useAutomaticTransactionManagement)
   at FluentMigrator.Runner.MigrationRunner.MigrateUp()
   at KpoApi.Infrastructure.PostgresMigrator.Migrations.Database.MigrationManager.MigrateDatabase(IHost host) in C:\Users\vovac\source\kpolab2\api\KpoApi\KpoApi.Infrastructure.PostgresMigrator\Migrations\Database\MigrationManager.cs:line 19
   at KpoApi.Presentation.Program.Main(String[] args) in C:\Users\vovac\source\kpolab2\api\KpoApi\KpoApi.WebHost\Program.cs:line 26
2025-03-08 11:54:10.968 +05:00 [Information] Migrations
2025-03-08 11:54:11.031 +05:00 [Information] 2025010501: CreateOrganizationTable (not applied)
2025-03-08 11:54:11.033 +05:00 [Information] 2025010502: CreateUsersTable (not applied)
2025-03-08 11:54:11.033 +05:00 [Information] 2025010503: CreateResultsCardiogramsTable (not applied)
2025-03-08 11:54:11.034 +05:00 [Information] 2025010504: CreateCardiogramsStateTable (not applied)
2025-03-08 11:54:11.034 +05:00 [Information] 2025010505: CreateCardiographsTable (not applied)
2025-03-08 11:54:11.034 +05:00 [Information] 2025010506: CreateSexPatientsTable (not applied)
2025-03-08 11:54:11.035 +05:00 [Information] 2025010507: CreatePrioritiesTable (not applied)
2025-03-08 11:54:11.035 +05:00 [Information] 2025010508: CreateUsersCardiographsTable (not applied)
2025-03-08 11:54:11.036 +05:00 [Information] 2025010509: CreateCallsTable (not applied)
2025-03-08 11:54:11.036 +05:00 [Information] 2025010510: CreateCardiogramsTable (not applied)
2025-03-08 11:54:11.043 +05:00 [Information] 2025010501: CreateOrganizationTable migrating
2025-03-08 11:54:11.046 +05:00 [Information] Beginning Transaction
2025-03-08 11:54:11.061 +05:00 [Information] ExecuteSqlStatement CREATE TABLE IF NOT EXISTS "Organizations" (
    "OrganizationUuid" UUID PRIMARY KEY,
"Name" varchar(256),
"SsmpNumber" int not null,
"SsmpAdress" varchar(1024) not null,
"PhoneContactName" varchar(256),
"PhoneNumber" int);
2025-03-08 11:54:11.063 +05:00 [Information] CREATE TABLE IF NOT EXISTS "Organizations" (
    "OrganizationUuid" UUID PRIMARY KEY,
"Name" varchar(256),
"SsmpNumber" int not null,
"SsmpAdress" varchar(1024) not null,
"PhoneContactName" varchar(256),
"PhoneNumber" int);
2025-03-08 11:54:11.127 +05:00 [Information] => 0,0604921s
2025-03-08 11:54:11.133 +05:00 [Information] INSERT INTO "public"."VersionInfo" ("Version","AppliedOn","Description") VALUES (2025010501,'2025-03-08T06:54:11','CreateOrganizationTable');
2025-03-08 11:54:11.156 +05:00 [Information] Committing Transaction
2025-03-08 11:54:11.167 +05:00 [Information] 2025010501: CreateOrganizationTable migrated
2025-03-08 11:54:11.168 +05:00 [Information] => 0,1047696s
2025-03-08 11:54:11.168 +05:00 [Information] 2025010502: CreateUsersTable migrating
2025-03-08 11:54:11.169 +05:00 [Information] Beginning Transaction
2025-03-08 11:54:11.170 +05:00 [Information] ExecuteSqlStatement CREATE TABLE "Users" ("UserUuid" UUID PRIMARY KEY,
"Login" varchar(8) not null,
"Password" varchar(64) not null,
"PhoneNumber" int,
"FullName" varchar(256) not null,
"OrganizationUuid" UUID not null,
"Appointment" varchar(256) not null,
constraint fk_users_organizations
FOREIGN KEY ("OrganizationUuid") 
    REFERENCES "Organizations" ("OrganizationUuid"));

2025-03-08 11:54:11.171 +05:00 [Information] CREATE TABLE "Users" ("UserUuid" UUID PRIMARY KEY,
"Login" varchar(8) not null,
"Password" varchar(64) not null,
"PhoneNumber" int,
"FullName" varchar(256) not null,
"OrganizationUuid" UUID not null,
"Appointment" varchar(256) not null,
constraint fk_users_organizations
FOREIGN KEY ("OrganizationUuid") 
    REFERENCES "Organizations" ("OrganizationUuid"));

2025-03-08 11:54:11.230 +05:00 [Error] An error occurred executing the following sql:
CREATE TABLE "Users" ("UserUuid" UUID PRIMARY KEY,
"Login" varchar(8) not null,
"Password" varchar(64) not null,
"PhoneNumber" int,
"FullName" varchar(256) not null,
"OrganizationUuid" UUID not null,
"Appointment" varchar(256) not null,
constraint fk_users_organizations
FOREIGN KEY ("OrganizationUuid") 
    REFERENCES "Organizations" ("OrganizationUuid"));

The error was 42P07: relation "Users" already exists

System.Exception: An error occurred executing the following sql:
CREATE TABLE "Users" ("UserUuid" UUID PRIMARY KEY,
"Login" varchar(8) not null,
"Password" varchar(64) not null,
"PhoneNumber" int,
"FullName" varchar(256) not null,
"OrganizationUuid" UUID not null,
"Appointment" varchar(256) not null,
constraint fk_users_organizations
FOREIGN KEY ("OrganizationUuid") 
    REFERENCES "Organizations" ("OrganizationUuid"));

The error was 42P07: relation "Users" already exists

 ---> Npgsql.PostgresException (0x80004005): 42P07: relation "Users" already exists
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult()
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteNonQuery(Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteNonQuery()
   at FluentMigrator.Runner.Processors.Postgres.PostgresProcessor.Process(String sql)
  Exception data:
    Severity: ERROR
    SqlState: 42P07
    MessageText: relation "Users" already exists
    File: heap.c
    Line: 1159
    Routine: heap_create_with_catalog
   --- End of inner exception stack trace ---
   at FluentMigrator.Runner.Processors.ProcessorBase.ReThrowWithSql(Exception ex, String sql)
   at FluentMigrator.Runner.Processors.Postgres.PostgresProcessor.Process(String sql)
   at FluentMigrator.Runner.Processors.Postgres.PostgresProcessor.Execute(String template, Object[] args)
   at FluentMigrator.Runner.Processors.ProcessorBase.Execute(String sql)
   at FluentMigrator.Expressions.ExecuteSqlStatementExpression.ExecuteWith(IMigrationProcessor processor)
   at FluentMigrator.Runner.MigrationRunner.<>c__DisplayClass75_0.<ExecuteExpressions>b__1()
   at FluentMigrator.Runner.StopWatch.Time(Action action)
   at FluentMigrator.Runner.MigrationRunner.AnnounceTime(String message, Action action)
   at FluentMigrator.Runner.MigrationRunner.ExecuteExpressions(ICollection`1 expressions)
2025-03-08 11:54:11.249 +05:00 [Information] Rolling back transaction
2025-03-08 11:54:11.286 +05:00 [Fatal] The Application failed to start.
System.Exception: An error occurred executing the following sql:
CREATE TABLE "Users" ("UserUuid" UUID PRIMARY KEY,
"Login" varchar(8) not null,
"Password" varchar(64) not null,
"PhoneNumber" int,
"FullName" varchar(256) not null,
"OrganizationUuid" UUID not null,
"Appointment" varchar(256) not null,
constraint fk_users_organizations
FOREIGN KEY ("OrganizationUuid") 
    REFERENCES "Organizations" ("OrganizationUuid"));

The error was 42P07: relation "Users" already exists

 ---> Npgsql.PostgresException (0x80004005): 42P07: relation "Users" already exists
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult()
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteNonQuery(Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteNonQuery()
   at FluentMigrator.Runner.Processors.Postgres.PostgresProcessor.Process(String sql)
  Exception data:
    Severity: ERROR
    SqlState: 42P07
    MessageText: relation "Users" already exists
    File: heap.c
    Line: 1159
    Routine: heap_create_with_catalog
   --- End of inner exception stack trace ---
   at FluentMigrator.Runner.Processors.ProcessorBase.ReThrowWithSql(Exception ex, String sql)
   at FluentMigrator.Runner.Processors.Postgres.PostgresProcessor.Process(String sql)
   at FluentMigrator.Runner.Processors.Postgres.PostgresProcessor.Execute(String template, Object[] args)
   at FluentMigrator.Runner.Processors.ProcessorBase.Execute(String sql)
   at FluentMigrator.Expressions.ExecuteSqlStatementExpression.ExecuteWith(IMigrationProcessor processor)
   at FluentMigrator.Runner.MigrationRunner.<>c__DisplayClass75_0.<ExecuteExpressions>b__1()
   at FluentMigrator.Runner.StopWatch.Time(Action action)
   at FluentMigrator.Runner.MigrationRunner.AnnounceTime(String message, Action action)
   at FluentMigrator.Runner.MigrationRunner.ExecuteExpressions(ICollection`1 expressions)
   at FluentMigrator.Runner.MigrationRunner.ExecuteMigration(IMigration migration, Action`2 getExpressions)
   at FluentMigrator.Runner.MigrationRunner.ApplyMigrationUp(IMigrationInfo migrationInfo, Boolean useTransaction)
   at FluentMigrator.Runner.MigrationRunner.MigrateUp(Int64 targetVersion, Boolean useAutomaticTransactionManagement)
   at FluentMigrator.Runner.MigrationRunner.MigrateUp(Boolean useAutomaticTransactionManagement)
   at FluentMigrator.Runner.MigrationRunner.MigrateUp()
   at KpoApi.Infrastructure.PostgresMigrator.Migrations.Database.MigrationManager.MigrateDatabase(IHost host) in C:\Users\vovac\source\kpolab2\api\KpoApi\KpoApi.Infrastructure.PostgresMigrator\Migrations\Database\MigrationManager.cs:line 19
   at KpoApi.Presentation.Program.Main(String[] args) in C:\Users\vovac\source\kpolab2\api\KpoApi\KpoApi.WebHost\Program.cs:line 26
2025-03-08 11:55:15.629 +05:00 [Information] Migrations
2025-03-08 11:55:15.689 +05:00 [Warning] 2025010501: CreateOrganizationTable (current)
2025-03-08 11:55:15.692 +05:00 [Information] 2025010502: CreateUsersTable (not applied)
2025-03-08 11:55:15.693 +05:00 [Information] 2025010503: CreateResultsCardiogramsTable (not applied)
2025-03-08 11:55:15.694 +05:00 [Information] 2025010504: CreateCardiogramsStateTable (not applied)
2025-03-08 11:55:15.694 +05:00 [Information] 2025010505: CreateCardiographsTable (not applied)
2025-03-08 11:55:15.695 +05:00 [Information] 2025010506: CreateSexPatientsTable (not applied)
2025-03-08 11:55:15.695 +05:00 [Information] 2025010507: CreatePrioritiesTable (not applied)
2025-03-08 11:55:15.696 +05:00 [Information] 2025010508: CreateUsersCardiographsTable (not applied)
2025-03-08 11:55:15.696 +05:00 [Information] 2025010509: CreateCallsTable (not applied)
2025-03-08 11:55:15.697 +05:00 [Information] 2025010510: CreateCardiogramsTable (not applied)
2025-03-08 11:55:15.705 +05:00 [Information] 2025010502: CreateUsersTable migrating
2025-03-08 11:55:15.707 +05:00 [Information] Beginning Transaction
2025-03-08 11:55:15.723 +05:00 [Information] ExecuteSqlStatement CREATE TABLE IF NOT EXISTS "Users" ("UserUuid" UUID PRIMARY KEY,
"Login" varchar(8) not null,
"Password" varchar(64) not null,
"PhoneNumber" int,
"FullName" varchar(256) not null,
"OrganizationUuid" UUID not null,
"Appointment" varchar(256) not null,
constraint fk_users_organizations
FOREIGN KEY ("OrganizationUuid") 
    REFERENCES "Organizations" ("OrganizationUuid"));

2025-03-08 11:55:15.725 +05:00 [Information] CREATE TABLE IF NOT EXISTS "Users" ("UserUuid" UUID PRIMARY KEY,
"Login" varchar(8) not null,
"Password" varchar(64) not null,
"PhoneNumber" int,
"FullName" varchar(256) not null,
"OrganizationUuid" UUID not null,
"Appointment" varchar(256) not null,
constraint fk_users_organizations
FOREIGN KEY ("OrganizationUuid") 
    REFERENCES "Organizations" ("OrganizationUuid"));

2025-03-08 11:55:15.794 +05:00 [Information] => 0,0663437s
2025-03-08 11:55:15.801 +05:00 [Information] INSERT INTO "public"."VersionInfo" ("Version","AppliedOn","Description") VALUES (2025010502,'2025-03-08T06:55:15','CreateUsersTable');
2025-03-08 11:55:15.826 +05:00 [Information] Committing Transaction
2025-03-08 11:55:15.838 +05:00 [Information] 2025010502: CreateUsersTable migrated
2025-03-08 11:55:15.839 +05:00 [Information] => 0,1144706s
2025-03-08 11:55:15.840 +05:00 [Information] 2025010503: CreateResultsCardiogramsTable migrating
2025-03-08 11:55:15.840 +05:00 [Information] Beginning Transaction
2025-03-08 11:55:15.842 +05:00 [Information] ExecuteSqlStatement CREATE TABLE IF NOT EXISTS "ResultsCardiograms" ("ResultCardiogramUuid" UUID PRIMARY KEY,
"Description" varchar(1024),
"DiagnosisMain" varchar(256));
2025-03-08 11:55:15.842 +05:00 [Information] CREATE TABLE IF NOT EXISTS "ResultsCardiograms" ("ResultCardiogramUuid" UUID PRIMARY KEY,
"Description" varchar(1024),
"DiagnosisMain" varchar(256));
2025-03-08 11:55:15.892 +05:00 [Information] => 0,0499866s
2025-03-08 11:55:15.893 +05:00 [Information] INSERT INTO "public"."VersionInfo" ("Version","AppliedOn","Description") VALUES (2025010503,'2025-03-08T06:55:15','CreateResultsCardiogramsTable');
2025-03-08 11:55:15.898 +05:00 [Information] Committing Transaction
2025-03-08 11:55:15.903 +05:00 [Information] 2025010503: CreateResultsCardiogramsTable migrated
2025-03-08 11:55:15.903 +05:00 [Information] => 0,0608681s
2025-03-08 11:55:15.904 +05:00 [Information] 2025010504: CreateCardiogramsStateTable migrating
2025-03-08 11:55:15.905 +05:00 [Information] Beginning Transaction
2025-03-08 11:55:15.906 +05:00 [Information] ExecuteSqlStatement CREATE TABLE IF NOT EXISTS "CardiogramsState" ("CardiogramState" SERIAL PRIMARY KEY,
"StateName" varchar(64) not null);
2025-03-08 11:55:15.907 +05:00 [Information] CREATE TABLE IF NOT EXISTS "CardiogramsState" ("CardiogramState" SERIAL PRIMARY KEY,
"StateName" varchar(64) not null);
2025-03-08 11:55:15.954 +05:00 [Information] => 0,0472251s
2025-03-08 11:55:15.955 +05:00 [Information] INSERT INTO "public"."VersionInfo" ("Version","AppliedOn","Description") VALUES (2025010504,'2025-03-08T06:55:15','CreateCardiogramsStateTable');
2025-03-08 11:55:15.997 +05:00 [Information] Committing Transaction
2025-03-08 11:55:16.002 +05:00 [Information] 2025010504: CreateCardiogramsStateTable migrated
2025-03-08 11:55:16.003 +05:00 [Information] => 0,0956677s
2025-03-08 11:55:16.004 +05:00 [Information] 2025010505: CreateCardiographsTable migrating
2025-03-08 11:55:16.004 +05:00 [Information] Beginning Transaction
2025-03-08 11:55:16.005 +05:00 [Information] ExecuteSqlStatement CREATE TABLE IF NOT EXISTS "Cardiographs" ("SerialNumber" varchar(128) PRIMARY KEY,
"CardiographName" varchar(128) not null,
"ManufacturerName" varchar(256));
2025-03-08 11:55:16.006 +05:00 [Information] CREATE TABLE IF NOT EXISTS "Cardiographs" ("SerialNumber" varchar(128) PRIMARY KEY,
"CardiographName" varchar(128) not null,
"ManufacturerName" varchar(256));
2025-03-08 11:55:16.061 +05:00 [Information] => 0,0553579s
2025-03-08 11:55:16.062 +05:00 [Information] INSERT INTO "public"."VersionInfo" ("Version","AppliedOn","Description") VALUES (2025010505,'2025-03-08T06:55:16','CreateCardiographsTable');
2025-03-08 11:55:16.096 +05:00 [Information] Committing Transaction
2025-03-08 11:55:16.101 +05:00 [Information] 2025010505: CreateCardiographsTable migrated
2025-03-08 11:55:16.101 +05:00 [Information] => 0,094885s
2025-03-08 11:55:16.102 +05:00 [Information] 2025010506: CreateSexPatientsTable migrating
2025-03-08 11:55:16.103 +05:00 [Information] Beginning Transaction
2025-03-08 11:55:16.103 +05:00 [Information] ExecuteSqlStatement CREATE TABLE IF NOT EXISTS "SexPatients" ("SexId" int PRIMARY KEY,
"SexName" varchar(64) not null);
2025-03-08 11:55:16.104 +05:00 [Information] CREATE TABLE IF NOT EXISTS "SexPatients" ("SexId" int PRIMARY KEY,
"SexName" varchar(64) not null);
2025-03-08 11:55:16.156 +05:00 [Information] => 0,0519606s
2025-03-08 11:55:16.157 +05:00 [Information] INSERT INTO "public"."VersionInfo" ("Version","AppliedOn","Description") VALUES (2025010506,'2025-03-08T06:55:16','CreateSexPatientsTable');
2025-03-08 11:55:16.196 +05:00 [Information] Committing Transaction
2025-03-08 11:55:16.203 +05:00 [Information] 2025010506: CreateSexPatientsTable migrated
2025-03-08 11:55:16.203 +05:00 [Information] => 0,0987171s
2025-03-08 11:55:16.204 +05:00 [Information] 2025010507: CreatePrioritiesTable migrating
2025-03-08 11:55:16.204 +05:00 [Information] Beginning Transaction
2025-03-08 11:55:16.205 +05:00 [Information] ExecuteSqlStatement CREATE TABLE IF NOT EXISTS "Priorities" ("SexId" int PRIMARY KEY,
"SexName" varchar(64) not null);
2025-03-08 11:55:16.206 +05:00 [Information] CREATE TABLE IF NOT EXISTS "Priorities" ("SexId" int PRIMARY KEY,
"SexName" varchar(64) not null);
2025-03-08 11:55:16.265 +05:00 [Information] => 0,0588392s
2025-03-08 11:55:16.266 +05:00 [Information] INSERT INTO "public"."VersionInfo" ("Version","AppliedOn","Description") VALUES (2025010507,'2025-03-08T06:55:16','CreatePrioritiesTable');
2025-03-08 11:55:16.306 +05:00 [Information] Committing Transaction
2025-03-08 11:55:16.313 +05:00 [Information] 2025010507: CreatePrioritiesTable migrated
2025-03-08 11:55:16.313 +05:00 [Information] => 0,1067261s
2025-03-08 11:55:16.314 +05:00 [Information] 2025010508: CreateUsersCardiographsTable migrating
2025-03-08 11:55:16.315 +05:00 [Information] Beginning Transaction
2025-03-08 11:55:16.316 +05:00 [Information] ExecuteSqlStatement CREATE TABLE IF NOT EXISTS "UsersCardiographs" ("UsersCardiographsId" SERIAL PRIMARY KEY,
"UserUuid" UUID not null,
"CardiographId" varchar(128) not null,
constraint fk_UsersCardiographs_users 
FOREIGN KEY ("UserUuid") 
    REFERENCES "Users" ("UserUuid"),
constraint fk_UsersCardiographs_cardiographs 
FOREIGN KEY ("CardiographId") 
    REFERENCES "Cardiographs" ("SerialNumber"));
2025-03-08 11:55:16.316 +05:00 [Information] CREATE TABLE IF NOT EXISTS "UsersCardiographs" ("UsersCardiographsId" SERIAL PRIMARY KEY,
"UserUuid" UUID not null,
"CardiographId" varchar(128) not null,
constraint fk_UsersCardiographs_users 
FOREIGN KEY ("UserUuid") 
    REFERENCES "Users" ("UserUuid"),
constraint fk_UsersCardiographs_cardiographs 
FOREIGN KEY ("CardiographId") 
    REFERENCES "Cardiographs" ("SerialNumber"));
2025-03-08 11:55:16.377 +05:00 [Information] => 0,0603368s
2025-03-08 11:55:16.378 +05:00 [Information] INSERT INTO "public"."VersionInfo" ("Version","AppliedOn","Description") VALUES (2025010508,'2025-03-08T06:55:16','CreateUsersCardiographsTable');
2025-03-08 11:55:16.416 +05:00 [Information] Committing Transaction
2025-03-08 11:55:16.422 +05:00 [Information] 2025010508: CreateUsersCardiographsTable migrated
2025-03-08 11:55:16.422 +05:00 [Information] => 0,1053575s
2025-03-08 11:55:16.423 +05:00 [Information] 2025010509: CreateCallsTable migrating
2025-03-08 11:55:16.424 +05:00 [Information] Beginning Transaction
2025-03-08 11:55:16.425 +05:00 [Information] ExecuteSqlStatement CREATE TABLE IF NOT EXISTS "Calls" ("CallUuid" varchar(36)  PRIMARY KEY,
"CallState" int,
"PatientName" varchar(256),
"PatientSurname" varchar(256),
"PatientPatronymic" varchar(256),
"PatientAge" int,
"PatientId" varchar(36),
"PatientSex" int not null,
"BrigadeNumber" varchar(36),
"BrigadeProfile" varchar(36),
"MainChiefNumber" varchar(36),
"MainChiefFullName" varchar(36),
"YearNumber" int not null,
"DayNumber" int not null,
"RegionCode" int,
"City" varchar(64),
"SsmpNumber" int,
"SsmpName" varchar(1024),
"Street" varchar(256),
"StreetNumber" int,
"ApartmentNumber" int,
"Entrance" int,
"Priority" int not null,
"HospitalizationAddress" varchar(256),
"HospitalizationDistance" float,
"CallType" varchar(256),
"Reason" varchar(1024),
"ReceiveTime" timestamp,
"TransferTime" timestamp,
"DepartureTime" timestamp,
"ArrivalTime" timestamp,
"CallDiagnosis" varchar(1024));
2025-03-08 11:55:16.426 +05:00 [Information] CREATE TABLE IF NOT EXISTS "Calls" ("CallUuid" varchar(36)  PRIMARY KEY,
"CallState" int,
"PatientName" varchar(256),
"PatientSurname" varchar(256),
"PatientPatronymic" varchar(256),
"PatientAge" int,
"PatientId" varchar(36),
"PatientSex" int not null,
"BrigadeNumber" varchar(36),
"BrigadeProfile" varchar(36),
"MainChiefNumber" varchar(36),
"MainChiefFullName" varchar(36),
"YearNumber" int not null,
"DayNumber" int not null,
"RegionCode" int,
"City" varchar(64),
"SsmpNumber" int,
"SsmpName" varchar(1024),
"Street" varchar(256),
"StreetNumber" int,
"ApartmentNumber" int,
"Entrance" int,
"Priority" int not null,
"HospitalizationAddress" varchar(256),
"HospitalizationDistance" float,
"CallType" varchar(256),
"Reason" varchar(1024),
"ReceiveTime" timestamp,
"TransferTime" timestamp,
"DepartureTime" timestamp,
"ArrivalTime" timestamp,
"CallDiagnosis" varchar(1024));
2025-03-08 11:55:16.484 +05:00 [Information] => 0,0580537s
2025-03-08 11:55:16.485 +05:00 [Information] INSERT INTO "public"."VersionInfo" ("Version","AppliedOn","Description") VALUES (2025010509,'2025-03-08T06:55:16','CreateCallsTable');
2025-03-08 11:55:16.527 +05:00 [Information] Committing Transaction
2025-03-08 11:55:16.532 +05:00 [Information] 2025010509: CreateCallsTable migrated
2025-03-08 11:55:16.532 +05:00 [Information] => 0,1057269s
2025-03-08 11:55:16.533 +05:00 [Information] 2025010510: CreateCardiogramsTable migrating
2025-03-08 11:55:16.533 +05:00 [Information] Beginning Transaction
2025-03-08 11:55:16.534 +05:00 [Information] ExecuteSqlStatement CREATE TABLE IF NOT EXISTS "Cardiograms" ("CardiogramUuid" UUID  PRIMARY KEY,
"ReceivedTime" timestamp,
"MeasurementTime" timestamp,
"CardiographUuid" varchar(128) not null,
"CallUuid" varchar(36) not null,
"CardiogramState" int not null,
"ResultCardiogramUuid" UUID,
"RawCardiogram" jsonb,
constraint fk_Cardiograms_ResultCardiogramUuid
FOREIGN KEY ("ResultCardiogramUuid")
    REFERENCES "ResultsCardiograms" ("ResultCardiogramUuid"));
2025-03-08 11:55:16.535 +05:00 [Information] CREATE TABLE IF NOT EXISTS "Cardiograms" ("CardiogramUuid" UUID  PRIMARY KEY,
"ReceivedTime" timestamp,
"MeasurementTime" timestamp,
"CardiographUuid" varchar(128) not null,
"CallUuid" varchar(36) not null,
"CardiogramState" int not null,
"ResultCardiogramUuid" UUID,
"RawCardiogram" jsonb,
constraint fk_Cardiograms_ResultCardiogramUuid
FOREIGN KEY ("ResultCardiogramUuid")
    REFERENCES "ResultsCardiograms" ("ResultCardiogramUuid"));
2025-03-08 11:55:16.593 +05:00 [Information] => 0,0584992s
2025-03-08 11:55:16.594 +05:00 [Information] INSERT INTO "public"."VersionInfo" ("Version","AppliedOn","Description") VALUES (2025010510,'2025-03-08T06:55:16','CreateCardiogramsTable');
2025-03-08 11:55:16.636 +05:00 [Information] Committing Transaction
2025-03-08 11:55:16.641 +05:00 [Information] 2025010510: CreateCardiogramsTable migrated
2025-03-08 11:55:16.642 +05:00 [Information] => 0,1061236s
2025-03-08 11:55:16.950 +05:00 [Warning] Overriding address(es) '"http://localhost:2324/swagger"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-03-08 11:55:16.977 +05:00 [Information] Now listening on: "http://0.0.0.0:2324"
2025-03-08 11:55:16.978 +05:00 [Information] Application started. Press Ctrl+C to shut down.
2025-03-08 11:55:16.979 +05:00 [Information] Hosting environment: "Development"
2025-03-08 11:55:16.980 +05:00 [Information] Content root path: "C:\Users\vovac\source\kpolab2\api\KpoApi\KpoApi.WebHost"
2025-03-08 11:55:17.512 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger""" - null null
2025-03-08 11:55:17.572 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger""" - 301 0 null 72.6013ms
2025-03-08 11:55:17.577 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.html""" - null null
2025-03-08 11:55:17.731 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 154.2637ms
2025-03-08 11:55:17.781 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/swagger-ui.css""" - null null
2025-03-08 11:55:17.784 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.css""" - null null
2025-03-08 11:55:17.784 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/swagger-ui-bundle.js""" - null null
2025-03-08 11:55:17.803 +05:00 [Information] Sending file. Request path: '"/index.css"'. Physical path: '"N/A"'
2025-03-08 11:55:17.804 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.css""" - 200 202 "text/css" 20.1372ms
2025-03-08 11:55:17.812 +05:00 [Information] Sending file. Request path: '"/swagger-ui.css"'. Physical path: '"N/A"'
2025-03-08 11:55:17.815 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/swagger-ui.css""" - 200 154948 "text/css" 34.0723ms
2025-03-08 11:55:17.815 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/swagger-ui-standalone-preset.js""" - null null
2025-03-08 11:55:17.817 +05:00 [Information] Sending file. Request path: '"/swagger-ui-bundle.js"'. Physical path: '"N/A"'
2025-03-08 11:55:17.818 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.js""" - null null
2025-03-08 11:55:17.821 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/swagger-ui-bundle.js""" - 200 1466324 "text/javascript" 37.2224ms
2025-03-08 11:55:17.822 +05:00 [Information] Sending file. Request path: '"/swagger-ui-standalone-preset.js"'. Physical path: '"N/A"'
2025-03-08 11:55:17.825 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.js""" - 200 null "application/javascript;charset=utf-8" 6.5966ms
2025-03-08 11:55:17.827 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/swagger-ui-standalone-preset.js""" - 200 229223 "text/javascript" 11.6695ms
2025-03-08 11:55:18.114 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/v1/swagger.json""" - null null
2025-03-08 11:55:18.189 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/favicon-32x32.png""" - null null
2025-03-08 11:55:18.191 +05:00 [Information] Sending file. Request path: '"/favicon-32x32.png"'. Physical path: '"N/A"'
2025-03-08 11:55:18.193 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/favicon-32x32.png""" - 200 628 "image/png" 4.0705ms
2025-03-08 11:55:18.359 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 245.1995ms
2025-03-08 12:04:49.448 +05:00 [Information] Application is shutting down...
2025-03-08 12:46:03.364 +05:00 [Information] Migrations
2025-03-08 12:46:03.426 +05:00 [Information] 2025010501: CreateOrganizationTable
2025-03-08 12:46:03.428 +05:00 [Information] 2025010502: CreateUsersTable
2025-03-08 12:46:03.428 +05:00 [Information] 2025010503: CreateResultsCardiogramsTable
2025-03-08 12:46:03.429 +05:00 [Information] 2025010504: CreateCardiogramsStateTable
2025-03-08 12:46:03.429 +05:00 [Information] 2025010505: CreateCardiographsTable
2025-03-08 12:46:03.430 +05:00 [Information] 2025010506: CreateSexPatientsTable
2025-03-08 12:46:03.430 +05:00 [Information] 2025010507: CreatePrioritiesTable
2025-03-08 12:46:03.431 +05:00 [Information] 2025010508: CreateUsersCardiographsTable
2025-03-08 12:46:03.432 +05:00 [Information] 2025010509: CreateCallsTable
2025-03-08 12:46:03.433 +05:00 [Warning] 2025010510: CreateCardiogramsTable (current)
2025-03-08 12:46:03.730 +05:00 [Warning] Overriding address(es) '"http://localhost:2324/swagger"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-03-08 12:46:03.764 +05:00 [Information] Now listening on: "http://0.0.0.0:2324"
2025-03-08 12:46:03.765 +05:00 [Information] Application started. Press Ctrl+C to shut down.
2025-03-08 12:46:03.765 +05:00 [Information] Hosting environment: "Development"
2025-03-08 12:46:03.766 +05:00 [Information] Content root path: "C:\Users\vovac\source\kpolab2\api\KpoApi\KpoApi.WebHost"
2025-03-08 12:46:04.680 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.html""" - null null
2025-03-08 12:46:04.925 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 256.153ms
2025-03-08 12:46:04.981 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.js""" - null null
2025-03-08 12:46:04.990 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.js""" - 200 null "application/javascript;charset=utf-8" 8.5454ms
2025-03-08 12:46:05.265 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/v1/swagger.json""" - null null
2025-03-08 12:46:05.555 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 290.0459ms
2025-03-08 12:46:10.649 +05:00 [Information] Request starting "HTTP/1.1" "HEAD" "http"://"localhost:2324""""/Api/User/GetUsers""" - null null
2025-03-08 12:46:10.661 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.UserController.GetUsers (KpoApi.Presentation)"'
2025-03-08 12:46:10.684 +05:00 [Information] Route matched with "{action = \"GetUsers\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers()" on controller "KpoApi.Presentation.Controllers.UserController" ("KpoApi.Presentation").
2025-03-08 12:46:11.925 +05:00 [Information] Executed DbCommand ("20"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-08 12:46:11.939 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.UserController.GetUsers (KpoApi.Presentation)" - Validation state: Valid
2025-03-08 12:46:11.942 +05:00 [Information]     
2025-03-08 12:46:12.413 +05:00 [Information] Executed DbCommand ("67"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT u.\"UserUuid\", u.\"Appointment\", u.\"FullName\", u.\"Login\", u.\"OrganizationUuid\", u.\"Password\", u.\"PhoneNumber\"
FROM \"Users\" AS u"
2025-03-08 12:46:12.472 +05:00 [Error] An exception occurred while iterating over the results of a query for context type '"KpoApi.Infrastructure.PostgresEfCore.Models.AppDbContext"'."
""System.OverflowException: Arithmetic operation resulted in an overflow.
   at Npgsql.Internal.Converters.Int8Converter`1.ReadCore(PgReader reader)
   at Npgsql.Internal.PgBufferedConverter`1.Read(PgReader reader)
   at Npgsql.NpgsqlDataReader.GetFieldValueCore[T](Int32 ordinal)
   at Npgsql.NpgsqlDataReader.GetInt32(Int32 ordinal)
   at lambda_method21(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()"
System.OverflowException: Arithmetic operation resulted in an overflow.
   at Npgsql.Internal.Converters.Int8Converter`1.ReadCore(PgReader reader)
   at Npgsql.Internal.PgBufferedConverter`1.Read(PgReader reader)
   at Npgsql.NpgsqlDataReader.GetFieldValueCore[T](Int32 ordinal)
   at Npgsql.NpgsqlDataReader.GetInt32(Int32 ordinal)
   at lambda_method21(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-03-08 12:46:12.508 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.UserController.GetUsers (KpoApi.Presentation)" in 1816.1804ms
2025-03-08 12:46:12.510 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.UserController.GetUsers (KpoApi.Presentation)"'
2025-03-08 12:46:12.521 +05:00 [Error] Connection id ""0HNAU2L3LVTA7"", Request id ""0HNAU2L3LVTA7:00000004"": An unhandled exception was thrown by the application.
System.OverflowException: Arithmetic operation resulted in an overflow.
   at Npgsql.Internal.Converters.Int8Converter`1.ReadCore(PgReader reader)
   at Npgsql.Internal.PgBufferedConverter`1.Read(PgReader reader)
   at Npgsql.NpgsqlDataReader.GetFieldValueCore[T](Int32 ordinal)
   at Npgsql.NpgsqlDataReader.GetInt32(Int32 ordinal)
   at lambda_method21(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at KpoApi.Infrastructure.PostgresEfCore.Repositories.UserRepository.GetUsers(CancellationToken cancellationToken) in C:\Users\vovac\source\kpolab2\api\KpoApi\KpoApi.Infrastructure.PostgresEfCore\Repositories\UserRepository.cs:line 41
   at KpoApi.Infrastructure.PostgresEfCore.Services.PostgresEfCoreProvider.GetUsers() in C:\Users\vovac\source\kpolab2\api\KpoApi\KpoApi.Infrastructure.PostgresEfCore\Services\PostgresEfCoreProvider.cs:line 37
   at KpoApi.Application.Services.UserService.GetUsers() in C:\Users\vovac\source\kpolab2\api\KpoApi\KpoApi.Application\Services\UserService.cs:line 55
   at KpoApi.Presentation.Controllers.UserController.GetUsers() in C:\Users\vovac\source\kpolab2\api\KpoApi\KpoApi.Presentation\Controllers\UserController.cs:line 46
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-03-08 12:46:12.574 +05:00 [Information] Request finished "HTTP/1.1" "HEAD" "http"://"localhost:2324""""/Api/User/GetUsers""" - 500 0 null 1925.5408ms
2025-03-08 12:47:01.810 +05:00 [Information] Application is shutting down...
2025-03-08 12:47:14.625 +05:00 [Information] Migrations
2025-03-08 12:47:14.685 +05:00 [Information] 2025010501: CreateOrganizationTable
2025-03-08 12:47:14.687 +05:00 [Information] 2025010502: CreateUsersTable
2025-03-08 12:47:14.687 +05:00 [Information] 2025010503: CreateResultsCardiogramsTable
2025-03-08 12:47:14.688 +05:00 [Information] 2025010504: CreateCardiogramsStateTable
2025-03-08 12:47:14.688 +05:00 [Information] 2025010505: CreateCardiographsTable
2025-03-08 12:47:14.689 +05:00 [Information] 2025010506: CreateSexPatientsTable
2025-03-08 12:47:14.690 +05:00 [Information] 2025010507: CreatePrioritiesTable
2025-03-08 12:47:14.691 +05:00 [Information] 2025010508: CreateUsersCardiographsTable
2025-03-08 12:47:14.691 +05:00 [Information] 2025010509: CreateCallsTable
2025-03-08 12:47:14.693 +05:00 [Warning] 2025010510: CreateCardiogramsTable (current)
2025-03-08 12:47:15.169 +05:00 [Warning] Overriding address(es) '"http://localhost:2324/swagger"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-03-08 12:47:15.204 +05:00 [Information] Now listening on: "http://0.0.0.0:2324"
2025-03-08 12:47:15.206 +05:00 [Information] Application started. Press Ctrl+C to shut down.
2025-03-08 12:47:15.207 +05:00 [Information] Hosting environment: "Development"
2025-03-08 12:47:15.207 +05:00 [Information] Content root path: "C:\Users\vovac\source\kpolab2\api\KpoApi\KpoApi.WebHost"
2025-03-08 12:47:15.502 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.html""" - null null
2025-03-08 12:47:15.733 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 242.537ms
2025-03-08 12:47:15.799 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.js""" - null null
2025-03-08 12:47:15.806 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.js""" - 200 null "application/javascript;charset=utf-8" 6.9451ms
2025-03-08 12:47:16.063 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/v1/swagger.json""" - null null
2025-03-08 12:47:16.386 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 322.7927ms
2025-03-08 12:47:18.424 +05:00 [Information] Request starting "HTTP/1.1" "HEAD" "http"://"localhost:2324""""/Api/User/GetUsers""" - null null
2025-03-08 12:47:18.433 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.UserController.GetUsers (KpoApi.Presentation)"'
2025-03-08 12:47:18.455 +05:00 [Information] Route matched with "{action = \"GetUsers\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers()" on controller "KpoApi.Presentation.Controllers.UserController" ("KpoApi.Presentation").
2025-03-08 12:47:19.729 +05:00 [Information] Executed DbCommand ("50"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-08 12:47:19.740 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.UserController.GetUsers (KpoApi.Presentation)" - Validation state: Valid
2025-03-08 12:47:19.743 +05:00 [Information]     
2025-03-08 12:47:25.680 +05:00 [Information] Executed DbCommand ("75"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT u.\"UserUuid\", u.\"Appointment\", u.\"FullName\", u.\"Login\", u.\"OrganizationUuid\", u.\"Password\", u.\"PhoneNumber\"
FROM \"Users\" AS u"
2025-03-08 12:47:25.743 +05:00 [Error] An exception occurred while iterating over the results of a query for context type '"KpoApi.Infrastructure.PostgresEfCore.Models.AppDbContext"'."
""System.OverflowException: Arithmetic operation resulted in an overflow.
   at Npgsql.Internal.Converters.Int8Converter`1.ReadCore(PgReader reader)
   at Npgsql.Internal.PgBufferedConverter`1.Read(PgReader reader)
   at Npgsql.NpgsqlDataReader.GetFieldValueCore[T](Int32 ordinal)
   at Npgsql.NpgsqlDataReader.GetInt32(Int32 ordinal)
   at lambda_method21(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()"
System.OverflowException: Arithmetic operation resulted in an overflow.
   at Npgsql.Internal.Converters.Int8Converter`1.ReadCore(PgReader reader)
   at Npgsql.Internal.PgBufferedConverter`1.Read(PgReader reader)
   at Npgsql.NpgsqlDataReader.GetFieldValueCore[T](Int32 ordinal)
   at Npgsql.NpgsqlDataReader.GetInt32(Int32 ordinal)
   at lambda_method21(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-03-08 12:55:08.333 +05:00 [Information] Migrations
2025-03-08 12:55:08.392 +05:00 [Information] 2025010501: CreateOrganizationTable
2025-03-08 12:55:08.393 +05:00 [Information] 2025010502: CreateUsersTable
2025-03-08 12:55:08.394 +05:00 [Information] 2025010503: CreateResultsCardiogramsTable
2025-03-08 12:55:08.394 +05:00 [Information] 2025010504: CreateCardiogramsStateTable
2025-03-08 12:55:08.395 +05:00 [Information] 2025010505: CreateCardiographsTable
2025-03-08 12:55:08.395 +05:00 [Information] 2025010506: CreateSexPatientsTable
2025-03-08 12:55:08.396 +05:00 [Information] 2025010507: CreatePrioritiesTable
2025-03-08 12:55:08.396 +05:00 [Information] 2025010508: CreateUsersCardiographsTable
2025-03-08 12:55:08.397 +05:00 [Information] 2025010509: CreateCallsTable
2025-03-08 12:55:08.398 +05:00 [Warning] 2025010510: CreateCardiogramsTable (current)
2025-03-08 12:55:08.754 +05:00 [Warning] Overriding address(es) '"http://localhost:2324/swagger"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-03-08 12:55:08.791 +05:00 [Information] Now listening on: "http://0.0.0.0:2324"
2025-03-08 12:55:08.792 +05:00 [Information] Application started. Press Ctrl+C to shut down.
2025-03-08 12:55:08.793 +05:00 [Information] Hosting environment: "Development"
2025-03-08 12:55:08.794 +05:00 [Information] Content root path: "C:\Users\vovac\source\kpolab2\api\KpoApi\KpoApi.WebHost"
2025-03-08 12:55:09.189 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.html""" - null null
2025-03-08 12:55:09.403 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 224.159ms
2025-03-08 12:55:09.482 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.js""" - null null
2025-03-08 12:55:09.488 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.js""" - 200 null "application/javascript;charset=utf-8" 5.6685ms
2025-03-08 12:55:09.647 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/v1/swagger.json""" - null null
2025-03-08 12:55:09.880 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 232.8198ms
2025-03-08 12:55:12.561 +05:00 [Information] Request starting "HTTP/1.1" "HEAD" "http"://"localhost:2324""""/Api/User/GetUsers""" - null null
2025-03-08 12:55:12.574 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.UserController.GetUsers (KpoApi.Presentation)"'
2025-03-08 12:55:12.596 +05:00 [Information] Route matched with "{action = \"GetUsers\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers()" on controller "KpoApi.Presentation.Controllers.UserController" ("KpoApi.Presentation").
2025-03-08 12:55:13.635 +05:00 [Information] Executed DbCommand ("37"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-08 12:55:13.646 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.UserController.GetUsers (KpoApi.Presentation)" - Validation state: Valid
2025-03-08 12:55:13.649 +05:00 [Information]     
2025-03-08 12:55:20.890 +05:00 [Information] Executed DbCommand ("62"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT u.\"UserUuid\", u.\"Appointment\", u.\"FullName\", u.\"Login\", u.\"OrganizationUuid\", u.\"Password\", u.\"PhoneNumber\"
FROM \"Users\" AS u"
2025-03-08 12:55:24.032 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.UserController.GetUsers (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 10380.5112ms.
2025-03-08 12:55:24.046 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.User[]"'.
2025-03-08 12:55:24.100 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.UserController.GetUsers (KpoApi.Presentation)" in 11499.2611ms
2025-03-08 12:55:24.103 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.UserController.GetUsers (KpoApi.Presentation)"'
2025-03-08 12:55:24.113 +05:00 [Information] Request finished "HTTP/1.1" "HEAD" "http"://"localhost:2324""""/Api/User/GetUsers""" - 200 null "application/json; charset=utf-8" 11552.87ms
2025-03-08 12:56:08.507 +05:00 [Information] Migrations
2025-03-08 12:56:08.569 +05:00 [Information] 2025010501: CreateOrganizationTable
2025-03-08 12:56:08.571 +05:00 [Information] 2025010502: CreateUsersTable
2025-03-08 12:56:08.571 +05:00 [Information] 2025010503: CreateResultsCardiogramsTable
2025-03-08 12:56:08.572 +05:00 [Information] 2025010504: CreateCardiogramsStateTable
2025-03-08 12:56:08.572 +05:00 [Information] 2025010505: CreateCardiographsTable
2025-03-08 12:56:08.573 +05:00 [Information] 2025010506: CreateSexPatientsTable
2025-03-08 12:56:08.574 +05:00 [Information] 2025010507: CreatePrioritiesTable
2025-03-08 12:56:08.574 +05:00 [Information] 2025010508: CreateUsersCardiographsTable
2025-03-08 12:56:08.575 +05:00 [Information] 2025010509: CreateCallsTable
2025-03-08 12:56:08.576 +05:00 [Warning] 2025010510: CreateCardiogramsTable (current)
2025-03-08 12:56:08.963 +05:00 [Warning] Overriding address(es) '"http://localhost:2324/swagger"'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-03-08 12:56:08.995 +05:00 [Information] Now listening on: "http://0.0.0.0:2324"
2025-03-08 12:56:08.996 +05:00 [Information] Application started. Press Ctrl+C to shut down.
2025-03-08 12:56:08.996 +05:00 [Information] Hosting environment: "Development"
2025-03-08 12:56:08.997 +05:00 [Information] Content root path: "C:\Users\vovac\source\kpolab2\api\KpoApi\KpoApi.WebHost"
2025-03-08 12:56:09.091 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.html""" - null null
2025-03-08 12:56:09.309 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 229.679ms
2025-03-08 12:56:09.405 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.js""" - null null
2025-03-08 12:56:09.411 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.js""" - 200 null "application/javascript;charset=utf-8" 6.1641ms
2025-03-08 12:56:10.896 +05:00 [Information] Request starting "HTTP/1.1" "HEAD" "http"://"localhost:2324""""/Api/User/GetUsers""" - null null
2025-03-08 12:56:10.905 +05:00 [Information] Executing endpoint '"405 HTTP Method Not Supported"'
2025-03-08 12:56:10.906 +05:00 [Information] Executed endpoint '"405 HTTP Method Not Supported"'
2025-03-08 12:56:10.907 +05:00 [Information] Request finished "HTTP/1.1" "HEAD" "http"://"localhost:2324""""/Api/User/GetUsers""" - 405 null null 11.349ms
2025-03-08 12:56:13.590 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/""" - null null
2025-03-08 12:56:13.593 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/""" - 404 0 null 2.918ms
2025-03-08 12:56:13.596 +05:00 [Information] Request reached the end of the middleware pipeline without being handled by application code. Request path: "GET" "http"://"localhost:2324""""/", Response status code: 404
2025-03-08 12:56:18.871 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.html""" - null null
2025-03-08 12:56:18.874 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 2.7369ms
2025-03-08 12:56:18.922 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.js""" - null null
2025-03-08 12:56:18.926 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/index.js""" - 200 null "application/javascript;charset=utf-8" 4.3109ms
2025-03-08 12:56:19.102 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/v1/swagger.json""" - null null
2025-03-08 12:56:19.322 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 219.5579ms
2025-03-08 12:56:22.257 +05:00 [Information] Request starting "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/User/GetUsers""" - null null
2025-03-08 12:56:22.261 +05:00 [Information] Executing endpoint '"KpoApi.Presentation.Controllers.UserController.GetUsers (KpoApi.Presentation)"'
2025-03-08 12:56:22.283 +05:00 [Information] Route matched with "{action = \"GetUsers\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers()" on controller "KpoApi.Presentation.Controllers.UserController" ("KpoApi.Presentation").
2025-03-08 12:56:23.365 +05:00 [Information] Executed DbCommand ("43"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )"
2025-03-08 12:56:23.378 +05:00 [Information] Executing action method "KpoApi.Presentation.Controllers.UserController.GetUsers (KpoApi.Presentation)" - Validation state: Valid
2025-03-08 12:56:23.381 +05:00 [Information]     
2025-03-08 12:56:23.791 +05:00 [Information] Executed DbCommand ("68"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT u.\"UserUuid\", u.\"Appointment\", u.\"FullName\", u.\"Login\", u.\"OrganizationUuid\", u.\"Password\", u.\"PhoneNumber\"
FROM \"Users\" AS u"
2025-03-08 12:56:23.882 +05:00 [Information] Executed action method "KpoApi.Presentation.Controllers.UserController.GetUsers (KpoApi.Presentation)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 497.8203ms.
2025-03-08 12:56:23.895 +05:00 [Information] Executing "OkObjectResult", writing value of type '"KpoApi.Domain.Entities.User[]"'.
2025-03-08 12:56:23.948 +05:00 [Information] Executed action "KpoApi.Presentation.Controllers.UserController.GetUsers (KpoApi.Presentation)" in 1659.6911ms
2025-03-08 12:56:23.950 +05:00 [Information] Executed endpoint '"KpoApi.Presentation.Controllers.UserController.GetUsers (KpoApi.Presentation)"'
2025-03-08 12:56:23.961 +05:00 [Information] Request finished "HTTP/1.1" "GET" "http"://"localhost:2324""""/Api/User/GetUsers""" - 200 null "application/json; charset=utf-8" 1704.0418ms
